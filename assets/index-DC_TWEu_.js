(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function G_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var cp={exports:{}},da={},hp={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),K_=Symbol.for("react.portal"),J_=Symbol.for("react.fragment"),Y_=Symbol.for("react.strict_mode"),Q_=Symbol.for("react.profiler"),X_=Symbol.for("react.provider"),e0=Symbol.for("react.context"),t0=Symbol.for("react.forward_ref"),n0=Symbol.for("react.suspense"),r0=Symbol.for("react.memo"),i0=Symbol.for("react.lazy"),Cd=Symbol.iterator;function s0(t){return t===null||typeof t!="object"?null:(t=Cd&&t[Cd]||t["@@iterator"],typeof t=="function"?t:null)}var dp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fp=Object.assign,pp={};function ai(t,e,n){this.props=t,this.context=e,this.refs=pp,this.updater=n||dp}ai.prototype.isReactComponent={};ai.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ai.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mp(){}mp.prototype=ai.prototype;function ac(t,e,n){this.props=t,this.context=e,this.refs=pp,this.updater=n||dp}var lc=ac.prototype=new mp;lc.constructor=ac;fp(lc,ai.prototype);lc.isPureReactComponent=!0;var Ld=Array.isArray,gp=Object.prototype.hasOwnProperty,uc={current:null},vp={key:!0,ref:!0,__self:!0,__source:!0};function _p(t,e,n){var i,s={},a=null,u=null;if(e!=null)for(i in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)gp.call(e,i)&&!vp.hasOwnProperty(i)&&(s[i]=e[i]);var d=arguments.length-2;if(d===1)s.children=n;else if(1<d){for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+2];s.children=h}if(t&&t.defaultProps)for(i in d=t.defaultProps,d)s[i]===void 0&&(s[i]=d[i]);return{$$typeof:ks,type:t,key:a,ref:u,props:s,_owner:uc.current}}function o0(t,e){return{$$typeof:ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ks}function a0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jd=/\/+/g;function ml(t,e){return typeof t=="object"&&t!==null&&t.key!=null?a0(""+t.key):e.toString(36)}function ko(t,e,n,i,s){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case ks:case K_:u=!0}}if(u)return u=t,s=s(u),t=i===""?"."+ml(u,0):i,Ld(s)?(n="",t!=null&&(n=t.replace(jd,"$&/")+"/"),ko(s,e,n,"",function(p){return p})):s!=null&&(cc(s)&&(s=o0(s,n+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(jd,"$&/")+"/")+t)),e.push(s)),1;if(u=0,i=i===""?".":i+":",Ld(t))for(var d=0;d<t.length;d++){a=t[d];var h=i+ml(a,d);u+=ko(a,e,n,h,s)}else if(h=s0(t),typeof h=="function")for(t=h.call(t),d=0;!(a=t.next()).done;)a=a.value,h=i+ml(a,d++),u+=ko(a,e,n,h,s);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function eo(t,e,n){if(t==null)return t;var i=[],s=0;return ko(t,i,"","",function(a){return e.call(n,a,s++)}),i}function l0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},So={transition:null},u0={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:So,ReactCurrentOwner:uc};function yp(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:eo,forEach:function(t,e,n){eo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eo(t,function(){e++}),e},toArray:function(t){return eo(t,function(e){return e})||[]},only:function(t){if(!cc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=ai;ie.Fragment=J_;ie.Profiler=Q_;ie.PureComponent=ac;ie.StrictMode=Y_;ie.Suspense=n0;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;ie.act=yp;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=fp({},t.props),s=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=uc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(h in e)gp.call(e,h)&&!vp.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&d!==void 0?d[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){d=Array(h);for(var p=0;p<h;p++)d[p]=arguments[p+2];i.children=d}return{$$typeof:ks,type:t.type,key:s,ref:a,props:i,_owner:u}};ie.createContext=function(t){return t={$$typeof:e0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:X_,_context:t},t.Consumer=t};ie.createElement=_p;ie.createFactory=function(t){var e=_p.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:t0,render:t}};ie.isValidElement=cc;ie.lazy=function(t){return{$$typeof:i0,_payload:{_status:-1,_result:t},_init:l0}};ie.memo=function(t,e){return{$$typeof:r0,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=So.transition;So.transition={};try{t()}finally{So.transition=e}};ie.unstable_act=yp;ie.useCallback=function(t,e){return Xe.current.useCallback(t,e)};ie.useContext=function(t){return Xe.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};ie.useEffect=function(t,e){return Xe.current.useEffect(t,e)};ie.useId=function(){return Xe.current.useId()};ie.useImperativeHandle=function(t,e,n){return Xe.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return Xe.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return Xe.current.useReducer(t,e,n)};ie.useRef=function(t){return Xe.current.useRef(t)};ie.useState=function(t){return Xe.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return Xe.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return Xe.current.useTransition()};ie.version="18.3.1";hp.exports=ie;var P=hp.exports;const Ql=q_(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=P,h0=Symbol.for("react.element"),d0=Symbol.for("react.fragment"),f0=Object.prototype.hasOwnProperty,p0=c0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m0={key:!0,ref:!0,__self:!0,__source:!0};function wp(t,e,n){var i,s={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(i in e)f0.call(e,i)&&!m0.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:h0,type:t,key:a,ref:u,props:s,_owner:p0.current}}da.Fragment=d0;da.jsx=wp;da.jsxs=wp;cp.exports=da;var m=cp.exports,xp={exports:{}},mt={},bp={exports:{}},kp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,J){var R=A.length;A.push(J);e:for(;0<R;){var W=R-1>>>1,te=A[W];if(0<s(te,J))A[W]=J,A[R]=te,R=W;else break e}}function n(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var J=A[0],R=A.pop();if(R!==J){A[0]=R;e:for(var W=0,te=A.length,_e=te>>>1;W<_e;){var I=2*(W+1)-1,Z=A[I],q=I+1,ze=A[q];if(0>s(Z,R))q<te&&0>s(ze,Z)?(A[W]=ze,A[q]=R,W=q):(A[W]=Z,A[I]=R,W=I);else if(q<te&&0>s(ze,R))A[W]=ze,A[q]=R,W=q;else break e}}return J}function s(A,J){var R=A.sortIndex-J.sortIndex;return R!==0?R:A.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],p=[],g=1,v=null,w=3,k=!1,T=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(A){for(var J=n(p);J!==null;){if(J.callback===null)i(p);else if(J.startTime<=A)i(p),J.sortIndex=J.expirationTime,e(h,J);else break;J=n(p)}}function j(A){if(E=!1,x(A),!T)if(n(h)!==null)T=!0,Se(M);else{var J=n(p);J!==null&&ut(j,J.startTime-A)}}function M(A,J){T=!1,E&&(E=!1,b(U),U=-1),k=!0;var R=w;try{for(x(J),v=n(h);v!==null&&(!(v.expirationTime>J)||A&&!oe());){var W=v.callback;if(typeof W=="function"){v.callback=null,w=v.priorityLevel;var te=W(v.expirationTime<=J);J=t.unstable_now(),typeof te=="function"?v.callback=te:v===n(h)&&i(h),x(J)}else i(h);v=n(h)}if(v!==null)var _e=!0;else{var I=n(p);I!==null&&ut(j,I.startTime-J),_e=!1}return _e}finally{v=null,w=R,k=!1}}var D=!1,$=null,U=-1,X=5,G=-1;function oe(){return!(t.unstable_now()-G<X)}function fe(){if($!==null){var A=t.unstable_now();G=A;var J=!0;try{J=$(!0,A)}finally{J?tt():(D=!1,$=null)}}else D=!1}var tt;if(typeof y=="function")tt=function(){y(fe)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,vn=Me.port2;Me.port1.onmessage=fe,tt=function(){vn.postMessage(null)}}else tt=function(){O(fe,0)};function Se(A){$=A,D||(D=!0,tt())}function ut(A,J){U=O(function(){A(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){T||k||(T=!0,Se(M))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(A){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var R=w;w=J;try{return A()}finally{w=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,J){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var R=w;w=A;try{return J()}finally{w=R}},t.unstable_scheduleCallback=function(A,J,R){var W=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?W+R:W):R=W,A){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=R+te,A={id:g++,callback:J,priorityLevel:A,startTime:R,expirationTime:te,sortIndex:-1},R>W?(A.sortIndex=R,e(p,A),n(h)===null&&A===n(p)&&(E?(b(U),U=-1):E=!0,ut(j,R-W))):(A.sortIndex=te,e(h,A),T||k||(T=!0,Se(M))),A},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(A){var J=w;return function(){var R=w;w=J;try{return A.apply(this,arguments)}finally{w=R}}}})(kp);bp.exports=kp;var g0=bp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=P,pt=g0;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sp=new Set,rs={};function fr(t,e){Xr(t,e),Xr(t+"Capture",e)}function Xr(t,e){for(rs[t]=e,t=0;t<e.length;t++)Sp.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xl=Object.prototype.hasOwnProperty,_0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Nd={},Od={};function y0(t){return Xl.call(Od,t)?!0:Xl.call(Nd,t)?!1:_0.test(t)?Od[t]=!0:(Nd[t]=!0,!1)}function w0(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x0(t,e,n,i){if(e===null||typeof e>"u"||w0(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function et(t,e,n,i,s,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){He[t]=new et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];He[e]=new et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){He[t]=new et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){He[t]=new et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){He[t]=new et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){He[t]=new et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){He[t]=new et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){He[t]=new et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){He[t]=new et(t,5,!1,t.toLowerCase(),null,!1,!1)});var hc=/[\-:]([a-z])/g;function dc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hc,dc);He[e]=new et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hc,dc);He[e]=new et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hc,dc);He[e]=new et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){He[t]=new et(t,1,!1,t.toLowerCase(),null,!1,!1)});He.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){He[t]=new et(t,1,!1,t.toLowerCase(),null,!0,!0)});function fc(t,e,n,i){var s=He.hasOwnProperty(e)?He[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x0(e,n,s,i)&&(n=null),i||s===null?y0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var gn=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),pc=Symbol.for("react.strict_mode"),eu=Symbol.for("react.profiler"),Pp=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),mc=Symbol.for("react.forward_ref"),tu=Symbol.for("react.suspense"),nu=Symbol.for("react.suspense_list"),gc=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Tp=Symbol.for("react.offscreen"),Rd=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=Rd&&t[Rd]||t["@@iterator"],typeof t=="function"?t:null)}var be=Object.assign,gl;function $i(t){if(gl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gl=e&&e[1]||""}return`
`+gl+t}var vl=!1;function _l(t,e){if(!t||vl)return"";vl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var i=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){i=p}t.call(e.prototype)}else{try{throw Error()}catch(p){i=p}t()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),a=i.stack.split(`
`),u=s.length-1,d=a.length-1;1<=u&&0<=d&&s[u]!==a[d];)d--;for(;1<=u&&0<=d;u--,d--)if(s[u]!==a[d]){if(u!==1||d!==1)do if(u--,d--,0>d||s[u]!==a[d]){var h=`
`+s[u].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=u&&0<=d);break}}}finally{vl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$i(t):""}function b0(t){switch(t.tag){case 5:return $i(t.type);case 16:return $i("Lazy");case 13:return $i("Suspense");case 19:return $i("SuspenseList");case 0:case 2:case 15:return t=_l(t.type,!1),t;case 11:return t=_l(t.type.render,!1),t;case 1:return t=_l(t.type,!0),t;default:return""}}function ru(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Ar:return"Portal";case eu:return"Profiler";case pc:return"StrictMode";case tu:return"Suspense";case nu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ep:return(t.displayName||"Context")+".Consumer";case Pp:return(t._context.displayName||"Context")+".Provider";case mc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gc:return e=t.displayName||null,e!==null?e:ru(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return ru(t(e))}catch{}}return null}function k0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ru(e);case 8:return e===pc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S0(t){var e=Cp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function no(t){t._valueTracker||(t._valueTracker=S0(t))}function Lp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Cp(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function iu(t,e){var n=e.checked;return be({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Id(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jp(t,e){e=e.checked,e!=null&&fc(t,"checked",e,!1)}function su(t,e){jp(t,e);var n=Dn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ou(t,e.type,n):e.hasOwnProperty("defaultValue")&&ou(t,e.type,Dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ad(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ou(t,e,n){(e!=="number"||zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bi=Array.isArray;function qr(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Dn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function au(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return be({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Md(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Bi(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Dn(n)}}function Np(t,e){var n=Dn(e.value),i=Dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function zd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Op(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Op(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ro,Rp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function is(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},P0=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(t){P0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hi[e]=Hi[t]})});function Ip(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hi.hasOwnProperty(t)&&Hi[t]?(""+e).trim():e+"px"}function Ap(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=Ip(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var E0=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uu(t,e){if(e){if(E0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function cu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=null;function vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var du=null,Gr=null,Kr=null;function Dd(t){if(t=Es(t)){if(typeof du!="function")throw Error(B(280));var e=t.stateNode;e&&(e=va(e),du(t.stateNode,t.type,e))}}function Mp(t){Gr?Kr?Kr.push(t):Kr=[t]:Gr=t}function zp(){if(Gr){var t=Gr,e=Kr;if(Kr=Gr=null,Dd(t),e)for(t=0;t<e.length;t++)Dd(e[t])}}function Dp(t,e){return t(e)}function $p(){}var yl=!1;function Bp(t,e,n){if(yl)return t(e,n);yl=!0;try{return Dp(t,e,n)}finally{yl=!1,(Gr!==null||Kr!==null)&&($p(),zp())}}function ss(t,e){var n=t.stateNode;if(n===null)return null;var i=va(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var fu=!1;if(hn)try{var ji={};Object.defineProperty(ji,"passive",{get:function(){fu=!0}}),window.addEventListener("test",ji,ji),window.removeEventListener("test",ji,ji)}catch{fu=!1}function T0(t,e,n,i,s,a,u,d,h){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var Wi=!1,Do=null,$o=!1,pu=null,C0={onError:function(t){Wi=!0,Do=t}};function L0(t,e,n,i,s,a,u,d,h){Wi=!1,Do=null,T0.apply(C0,arguments)}function j0(t,e,n,i,s,a,u,d,h){if(L0.apply(this,arguments),Wi){if(Wi){var p=Do;Wi=!1,Do=null}else throw Error(B(198));$o||($o=!0,pu=p)}}function pr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Up(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function $d(t){if(pr(t)!==t)throw Error(B(188))}function N0(t){var e=t.alternate;if(!e){if(e=pr(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return $d(s),t;if(a===i)return $d(s),e;a=a.sibling}throw Error(B(188))}if(n.return!==i.return)n=s,i=a;else{for(var u=!1,d=s.child;d;){if(d===n){u=!0,n=s,i=a;break}if(d===i){u=!0,i=s,n=a;break}d=d.sibling}if(!u){for(d=a.child;d;){if(d===n){u=!0,n=a,i=s;break}if(d===i){u=!0,i=a,n=s;break}d=d.sibling}if(!u)throw Error(B(189))}}if(n.alternate!==i)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Fp(t){return t=N0(t),t!==null?Zp(t):null}function Zp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Zp(t);if(e!==null)return e;t=t.sibling}return null}var Hp=pt.unstable_scheduleCallback,Bd=pt.unstable_cancelCallback,O0=pt.unstable_shouldYield,R0=pt.unstable_requestPaint,Te=pt.unstable_now,I0=pt.unstable_getCurrentPriorityLevel,_c=pt.unstable_ImmediatePriority,Wp=pt.unstable_UserBlockingPriority,Bo=pt.unstable_NormalPriority,A0=pt.unstable_LowPriority,Vp=pt.unstable_IdlePriority,fa=null,Gt=null;function M0(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fa,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:$0,z0=Math.log,D0=Math.LN2;function $0(t){return t>>>=0,t===0?32:31-(z0(t)/D0|0)|0}var io=64,so=4194304;function Ui(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uo(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var d=u&~s;d!==0?i=Ui(d):(a&=u,a!==0&&(i=Ui(a)))}else u=n&~s,u!==0?i=Ui(u):a!==0&&(i=Ui(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,a=e&-e,s>=a||s===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-zt(e),s=1<<n,i|=t[n],e&=~s;return i}function B0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U0(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-zt(a),d=1<<u,h=s[u];h===-1?(!(d&n)||d&i)&&(s[u]=B0(d,e)):h<=e&&(t.expiredLanes|=d),a&=~d}}function mu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qp(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function wl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ss(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zt(e),t[e]=n}function F0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zt(n),a=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~a}}function yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-zt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var ue=0;function Gp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kp,wc,Jp,Yp,Qp,gu=!1,oo=[],jn=null,Nn=null,On=null,os=new Map,as=new Map,Pn=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ud(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Nn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":os.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":as.delete(e.pointerId)}}function Ni(t,e,n,i,s,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&wc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function H0(t,e,n,i,s){switch(e){case"focusin":return jn=Ni(jn,t,e,n,i,s),!0;case"dragenter":return Nn=Ni(Nn,t,e,n,i,s),!0;case"mouseover":return On=Ni(On,t,e,n,i,s),!0;case"pointerover":var a=s.pointerId;return os.set(a,Ni(os.get(a)||null,t,e,n,i,s)),!0;case"gotpointercapture":return a=s.pointerId,as.set(a,Ni(as.get(a)||null,t,e,n,i,s)),!0}return!1}function Xp(t){var e=rr(t.target);if(e!==null){var n=pr(e);if(n!==null){if(e=n.tag,e===13){if(e=Up(n),e!==null){t.blockedOn=e,Qp(t.priority,function(){Jp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Po(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);hu=i,n.target.dispatchEvent(i),hu=null}else return e=Es(n),e!==null&&wc(e),t.blockedOn=n,!1;e.shift()}return!0}function Fd(t,e,n){Po(t)&&n.delete(e)}function W0(){gu=!1,jn!==null&&Po(jn)&&(jn=null),Nn!==null&&Po(Nn)&&(Nn=null),On!==null&&Po(On)&&(On=null),os.forEach(Fd),as.forEach(Fd)}function Oi(t,e){t.blockedOn===e&&(t.blockedOn=null,gu||(gu=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,W0)))}function ls(t){function e(s){return Oi(s,t)}if(0<oo.length){Oi(oo[0],t);for(var n=1;n<oo.length;n++){var i=oo[n];i.blockedOn===t&&(i.blockedOn=null)}}for(jn!==null&&Oi(jn,t),Nn!==null&&Oi(Nn,t),On!==null&&Oi(On,t),os.forEach(e),as.forEach(e),n=0;n<Pn.length;n++)i=Pn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Pn.length&&(n=Pn[0],n.blockedOn===null);)Xp(n),n.blockedOn===null&&Pn.shift()}var Jr=gn.ReactCurrentBatchConfig,Fo=!0;function V0(t,e,n,i){var s=ue,a=Jr.transition;Jr.transition=null;try{ue=1,xc(t,e,n,i)}finally{ue=s,Jr.transition=a}}function q0(t,e,n,i){var s=ue,a=Jr.transition;Jr.transition=null;try{ue=4,xc(t,e,n,i)}finally{ue=s,Jr.transition=a}}function xc(t,e,n,i){if(Fo){var s=vu(t,e,n,i);if(s===null)jl(t,e,i,Zo,n),Ud(t,i);else if(H0(s,t,e,n,i))i.stopPropagation();else if(Ud(t,i),e&4&&-1<Z0.indexOf(t)){for(;s!==null;){var a=Es(s);if(a!==null&&Kp(a),a=vu(t,e,n,i),a===null&&jl(t,e,i,Zo,n),a===s)break;s=a}s!==null&&i.stopPropagation()}else jl(t,e,i,null,n)}}var Zo=null;function vu(t,e,n,i){if(Zo=null,t=vc(i),t=rr(t),t!==null)if(e=pr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Up(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zo=t,null}function em(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(I0()){case _c:return 1;case Wp:return 4;case Bo:case A0:return 16;case Vp:return 536870912;default:return 16}default:return 16}}var Cn=null,bc=null,Eo=null;function tm(){if(Eo)return Eo;var t,e=bc,n=e.length,i,s="value"in Cn?Cn.value:Cn.textContent,a=s.length;for(t=0;t<n&&e[t]===s[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===s[a-i];i++);return Eo=s.slice(t,1<i?1-i:void 0)}function To(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ao(){return!0}function Zd(){return!1}function gt(t){function e(n,i,s,a,u){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ao:Zd,this.isPropagationStopped=Zd,this}return be(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){},isPersistent:ao}),e}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kc=gt(li),Ps=be({},li,{view:0,detail:0}),G0=gt(Ps),xl,bl,Ri,pa=be({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ri&&(Ri&&t.type==="mousemove"?(xl=t.screenX-Ri.screenX,bl=t.screenY-Ri.screenY):bl=xl=0,Ri=t),xl)},movementY:function(t){return"movementY"in t?t.movementY:bl}}),Hd=gt(pa),K0=be({},pa,{dataTransfer:0}),J0=gt(K0),Y0=be({},Ps,{relatedTarget:0}),kl=gt(Y0),Q0=be({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),X0=gt(Q0),ey=be({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ty=gt(ey),ny=be({},li,{data:0}),Wd=gt(ny),ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sy[t])?!!e[t]:!1}function Sc(){return oy}var ay=be({},Ps,{key:function(t){if(t.key){var e=ry[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=To(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sc,charCode:function(t){return t.type==="keypress"?To(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?To(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ly=gt(ay),uy=be({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vd=gt(uy),cy=be({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sc}),hy=gt(cy),dy=be({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),fy=gt(dy),py=be({},pa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),my=gt(py),gy=[9,13,27,32],Pc=hn&&"CompositionEvent"in window,Vi=null;hn&&"documentMode"in document&&(Vi=document.documentMode);var vy=hn&&"TextEvent"in window&&!Vi,nm=hn&&(!Pc||Vi&&8<Vi&&11>=Vi),qd=" ",Gd=!1;function rm(t,e){switch(t){case"keyup":return gy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function im(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function _y(t,e){switch(t){case"compositionend":return im(e);case"keypress":return e.which!==32?null:(Gd=!0,qd);case"textInput":return t=e.data,t===qd&&Gd?null:t;default:return null}}function yy(t,e){if(zr)return t==="compositionend"||!Pc&&rm(t,e)?(t=tm(),Eo=bc=Cn=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nm&&e.locale!=="ko"?null:e.data;default:return null}}var wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wy[t.type]:e==="textarea"}function sm(t,e,n,i){Mp(i),e=Ho(e,"onChange"),0<e.length&&(n=new kc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var qi=null,us=null;function xy(t){gm(t,0)}function ma(t){var e=Br(t);if(Lp(e))return t}function by(t,e){if(t==="change")return e}var om=!1;if(hn){var Sl;if(hn){var Pl="oninput"in document;if(!Pl){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),Pl=typeof Jd.oninput=="function"}Sl=Pl}else Sl=!1;om=Sl&&(!document.documentMode||9<document.documentMode)}function Yd(){qi&&(qi.detachEvent("onpropertychange",am),us=qi=null)}function am(t){if(t.propertyName==="value"&&ma(us)){var e=[];sm(e,us,t,vc(t)),Bp(xy,e)}}function ky(t,e,n){t==="focusin"?(Yd(),qi=e,us=n,qi.attachEvent("onpropertychange",am)):t==="focusout"&&Yd()}function Sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ma(us)}function Py(t,e){if(t==="click")return ma(e)}function Ey(t,e){if(t==="input"||t==="change")return ma(e)}function Ty(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $t=typeof Object.is=="function"?Object.is:Ty;function cs(t,e){if($t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Xl.call(e,s)||!$t(t[s],e[s]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,e){var n=Qd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function lm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function um(){for(var t=window,e=zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zo(t.document)}return e}function Ec(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cy(t){var e=um(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lm(n.ownerDocument.documentElement,n)){if(i!==null&&Ec(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,a=Math.min(i.start,s);i=i.end===void 0?a:Math.min(i.end,s),!t.extend&&a>i&&(s=i,i=a,a=s),s=Xd(n,a);var u=Xd(n,i);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ly=hn&&"documentMode"in document&&11>=document.documentMode,Dr=null,_u=null,Gi=null,yu=!1;function ef(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yu||Dr==null||Dr!==zo(i)||(i=Dr,"selectionStart"in i&&Ec(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Gi&&cs(Gi,i)||(Gi=i,i=Ho(_u,"onSelect"),0<i.length&&(e=new kc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Dr)))}function lo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $r={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionend:lo("Transition","TransitionEnd")},El={},cm={};hn&&(cm=document.createElement("div").style,"AnimationEvent"in window||(delete $r.animationend.animation,delete $r.animationiteration.animation,delete $r.animationstart.animation),"TransitionEvent"in window||delete $r.transitionend.transition);function ga(t){if(El[t])return El[t];if(!$r[t])return t;var e=$r[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cm)return El[t]=e[n];return t}var hm=ga("animationend"),dm=ga("animationiteration"),fm=ga("animationstart"),pm=ga("transitionend"),mm=new Map,tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(t,e){mm.set(t,e),fr(e,[t])}for(var Tl=0;Tl<tf.length;Tl++){var Cl=tf[Tl],jy=Cl.toLowerCase(),Ny=Cl[0].toUpperCase()+Cl.slice(1);Bn(jy,"on"+Ny)}Bn(hm,"onAnimationEnd");Bn(dm,"onAnimationIteration");Bn(fm,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(pm,"onTransitionEnd");Xr("onMouseEnter",["mouseout","mouseover"]);Xr("onMouseLeave",["mouseout","mouseover"]);Xr("onPointerEnter",["pointerout","pointerover"]);Xr("onPointerLeave",["pointerout","pointerover"]);fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fi));function nf(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,j0(i,e,void 0,t),t.currentTarget=null}function gm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var d=i[u],h=d.instance,p=d.currentTarget;if(d=d.listener,h!==a&&s.isPropagationStopped())break e;nf(s,d,p),a=h}else for(u=0;u<i.length;u++){if(d=i[u],h=d.instance,p=d.currentTarget,d=d.listener,h!==a&&s.isPropagationStopped())break e;nf(s,d,p),a=h}}}if($o)throw t=pu,$o=!1,pu=null,t}function pe(t,e){var n=e[Su];n===void 0&&(n=e[Su]=new Set);var i=t+"__bubble";n.has(i)||(vm(e,t,2,!1),n.add(i))}function Ll(t,e,n){var i=0;e&&(i|=4),vm(n,t,i,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function hs(t){if(!t[uo]){t[uo]=!0,Sp.forEach(function(n){n!=="selectionchange"&&(Oy.has(n)||Ll(n,!1,t),Ll(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Ll("selectionchange",!1,e))}}function vm(t,e,n,i){switch(em(e)){case 1:var s=V0;break;case 4:s=q0;break;default:s=xc}n=s.bind(null,e,n,t),s=void 0,!fu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function jl(t,e,n,i,s){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var d=i.stateNode.containerInfo;if(d===s||d.nodeType===8&&d.parentNode===s)break;if(u===4)for(u=i.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===s||h.nodeType===8&&h.parentNode===s))return;u=u.return}for(;d!==null;){if(u=rr(d),u===null)return;if(h=u.tag,h===5||h===6){i=a=u;continue e}d=d.parentNode}}i=i.return}Bp(function(){var p=a,g=vc(n),v=[];e:{var w=mm.get(t);if(w!==void 0){var k=kc,T=t;switch(t){case"keypress":if(To(n)===0)break e;case"keydown":case"keyup":k=ly;break;case"focusin":T="focus",k=kl;break;case"focusout":T="blur",k=kl;break;case"beforeblur":case"afterblur":k=kl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=J0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=hy;break;case hm:case dm:case fm:k=X0;break;case pm:k=fy;break;case"scroll":k=G0;break;case"wheel":k=my;break;case"copy":case"cut":case"paste":k=ty;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Vd}var E=(e&4)!==0,O=!E&&t==="scroll",b=E?w!==null?w+"Capture":null:w;E=[];for(var y=p,x;y!==null;){x=y;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,b!==null&&(j=ss(y,b),j!=null&&E.push(ds(y,j,x)))),O)break;y=y.return}0<E.length&&(w=new k(w,T,null,n,g),v.push({event:w,listeners:E}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",w&&n!==hu&&(T=n.relatedTarget||n.fromElement)&&(rr(T)||T[dn]))break e;if((k||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,k?(T=n.relatedTarget||n.toElement,k=p,T=T?rr(T):null,T!==null&&(O=pr(T),T!==O||T.tag!==5&&T.tag!==6)&&(T=null)):(k=null,T=p),k!==T)){if(E=Hd,j="onMouseLeave",b="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(E=Vd,j="onPointerLeave",b="onPointerEnter",y="pointer"),O=k==null?w:Br(k),x=T==null?w:Br(T),w=new E(j,y+"leave",k,n,g),w.target=O,w.relatedTarget=x,j=null,rr(g)===p&&(E=new E(b,y+"enter",T,n,g),E.target=x,E.relatedTarget=O,j=E),O=j,k&&T)t:{for(E=k,b=T,y=0,x=E;x;x=Er(x))y++;for(x=0,j=b;j;j=Er(j))x++;for(;0<y-x;)E=Er(E),y--;for(;0<x-y;)b=Er(b),x--;for(;y--;){if(E===b||b!==null&&E===b.alternate)break t;E=Er(E),b=Er(b)}E=null}else E=null;k!==null&&rf(v,w,k,E,!1),T!==null&&O!==null&&rf(v,O,T,E,!0)}}e:{if(w=p?Br(p):window,k=w.nodeName&&w.nodeName.toLowerCase(),k==="select"||k==="input"&&w.type==="file")var M=by;else if(Kd(w))if(om)M=Ey;else{M=Sy;var D=ky}else(k=w.nodeName)&&k.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(M=Py);if(M&&(M=M(t,p))){sm(v,M,n,g);break e}D&&D(t,w,p),t==="focusout"&&(D=w._wrapperState)&&D.controlled&&w.type==="number"&&ou(w,"number",w.value)}switch(D=p?Br(p):window,t){case"focusin":(Kd(D)||D.contentEditable==="true")&&(Dr=D,_u=p,Gi=null);break;case"focusout":Gi=_u=Dr=null;break;case"mousedown":yu=!0;break;case"contextmenu":case"mouseup":case"dragend":yu=!1,ef(v,n,g);break;case"selectionchange":if(Ly)break;case"keydown":case"keyup":ef(v,n,g)}var $;if(Pc)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else zr?rm(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(nm&&n.locale!=="ko"&&(zr||U!=="onCompositionStart"?U==="onCompositionEnd"&&zr&&($=tm()):(Cn=g,bc="value"in Cn?Cn.value:Cn.textContent,zr=!0)),D=Ho(p,U),0<D.length&&(U=new Wd(U,t,null,n,g),v.push({event:U,listeners:D}),$?U.data=$:($=im(n),$!==null&&(U.data=$)))),($=vy?_y(t,n):yy(t,n))&&(p=Ho(p,"onBeforeInput"),0<p.length&&(g=new Wd("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:p}),g.data=$))}gm(v,e)})}function ds(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ho(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=ss(t,n),a!=null&&i.unshift(ds(t,a,s)),a=ss(t,e),a!=null&&i.push(ds(t,a,s))),t=t.return}return i}function Er(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rf(t,e,n,i,s){for(var a=e._reactName,u=[];n!==null&&n!==i;){var d=n,h=d.alternate,p=d.stateNode;if(h!==null&&h===i)break;d.tag===5&&p!==null&&(d=p,s?(h=ss(n,a),h!=null&&u.unshift(ds(n,h,d))):s||(h=ss(n,a),h!=null&&u.push(ds(n,h,d)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var Ry=/\r\n?/g,Iy=/\u0000|\uFFFD/g;function sf(t){return(typeof t=="string"?t:""+t).replace(Ry,`
`).replace(Iy,"")}function co(t,e,n){if(e=sf(e),sf(t)!==e&&n)throw Error(B(425))}function Wo(){}var wu=null,xu=null;function bu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,Ay=typeof clearTimeout=="function"?clearTimeout:void 0,of=typeof Promise=="function"?Promise:void 0,My=typeof queueMicrotask=="function"?queueMicrotask:typeof of<"u"?function(t){return of.resolve(null).then(t).catch(zy)}:ku;function zy(t){setTimeout(function(){throw t})}function Nl(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),ls(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);ls(e)}function Rn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function af(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ui=Math.random().toString(36).slice(2),qt="__reactFiber$"+ui,fs="__reactProps$"+ui,dn="__reactContainer$"+ui,Su="__reactEvents$"+ui,Dy="__reactListeners$"+ui,$y="__reactHandles$"+ui;function rr(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dn]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=af(t);t!==null;){if(n=t[qt])return n;t=af(t)}return e}t=n,n=t.parentNode}return null}function Es(t){return t=t[qt]||t[dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function va(t){return t[fs]||null}var Pu=[],Ur=-1;function Un(t){return{current:t}}function me(t){0>Ur||(t.current=Pu[Ur],Pu[Ur]=null,Ur--)}function de(t,e){Ur++,Pu[Ur]=t.current,t.current=e}var $n={},Ge=Un($n),ot=Un(!1),lr=$n;function ei(t,e){var n=t.type.contextTypes;if(!n)return $n;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function at(t){return t=t.childContextTypes,t!=null}function Vo(){me(ot),me(Ge)}function lf(t,e,n){if(Ge.current!==$n)throw Error(B(168));de(Ge,e),de(ot,n)}function _m(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(B(108,k0(t)||"Unknown",s));return be({},n,i)}function qo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,lr=Ge.current,de(Ge,t),de(ot,ot.current),!0}function uf(t,e,n){var i=t.stateNode;if(!i)throw Error(B(169));n?(t=_m(t,e,lr),i.__reactInternalMemoizedMergedChildContext=t,me(ot),me(Ge),de(Ge,t)):me(ot),de(ot,n)}var sn=null,_a=!1,Ol=!1;function ym(t){sn===null?sn=[t]:sn.push(t)}function By(t){_a=!0,ym(t)}function Fn(){if(!Ol&&sn!==null){Ol=!0;var t=0,e=ue;try{var n=sn;for(ue=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}sn=null,_a=!1}catch(s){throw sn!==null&&(sn=sn.slice(t+1)),Hp(_c,Fn),s}finally{ue=e,Ol=!1}}return null}var Fr=[],Zr=0,Go=null,Ko=0,bt=[],kt=0,ur=null,on=1,an="";function Xn(t,e){Fr[Zr++]=Ko,Fr[Zr++]=Go,Go=t,Ko=e}function wm(t,e,n){bt[kt++]=on,bt[kt++]=an,bt[kt++]=ur,ur=t;var i=on;t=an;var s=32-zt(i)-1;i&=~(1<<s),n+=1;var a=32-zt(e)+s;if(30<a){var u=s-s%5;a=(i&(1<<u)-1).toString(32),i>>=u,s-=u,on=1<<32-zt(e)+s|n<<s|i,an=a+t}else on=1<<a|n<<s|i,an=t}function Tc(t){t.return!==null&&(Xn(t,1),wm(t,1,0))}function Cc(t){for(;t===Go;)Go=Fr[--Zr],Fr[Zr]=null,Ko=Fr[--Zr],Fr[Zr]=null;for(;t===ur;)ur=bt[--kt],bt[kt]=null,an=bt[--kt],bt[kt]=null,on=bt[--kt],bt[kt]=null}var dt=null,ht=null,ge=!1,Mt=null;function xm(t,e){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function cf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ht=Rn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ur!==null?{id:on,overflow:an}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ht=null,!0):!1;default:return!1}}function Eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tu(t){if(ge){var e=ht;if(e){var n=e;if(!cf(t,e)){if(Eu(t))throw Error(B(418));e=Rn(n.nextSibling);var i=dt;e&&cf(t,e)?xm(i,n):(t.flags=t.flags&-4097|2,ge=!1,dt=t)}}else{if(Eu(t))throw Error(B(418));t.flags=t.flags&-4097|2,ge=!1,dt=t}}}function hf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function ho(t){if(t!==dt)return!1;if(!ge)return hf(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bu(t.type,t.memoizedProps)),e&&(e=ht)){if(Eu(t))throw bm(),Error(B(418));for(;e;)xm(t,e),e=Rn(e.nextSibling)}if(hf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ht=Rn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ht=null}}else ht=dt?Rn(t.stateNode.nextSibling):null;return!0}function bm(){for(var t=ht;t;)t=Rn(t.nextSibling)}function ti(){ht=dt=null,ge=!1}function Lc(t){Mt===null?Mt=[t]:Mt.push(t)}var Uy=gn.ReactCurrentBatchConfig;function Ii(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var i=n.stateNode}if(!i)throw Error(B(147,t));var s=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var d=s.refs;u===null?delete d[a]:d[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function fo(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function df(t){var e=t._init;return e(t._payload)}function km(t){function e(b,y){if(t){var x=b.deletions;x===null?(b.deletions=[y],b.flags|=16):x.push(y)}}function n(b,y){if(!t)return null;for(;y!==null;)e(b,y),y=y.sibling;return null}function i(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=zn(b,y),b.index=0,b.sibling=null,b}function a(b,y,x){return b.index=x,t?(x=b.alternate,x!==null?(x=x.index,x<y?(b.flags|=2,y):x):(b.flags|=2,y)):(b.flags|=1048576,y)}function u(b){return t&&b.alternate===null&&(b.flags|=2),b}function d(b,y,x,j){return y===null||y.tag!==6?(y=$l(x,b.mode,j),y.return=b,y):(y=s(y,x),y.return=b,y)}function h(b,y,x,j){var M=x.type;return M===Mr?g(b,y,x.props.children,j,x.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===kn&&df(M)===y.type)?(j=s(y,x.props),j.ref=Ii(b,y,x),j.return=b,j):(j=Io(x.type,x.key,x.props,null,b.mode,j),j.ref=Ii(b,y,x),j.return=b,j)}function p(b,y,x,j){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Bl(x,b.mode,j),y.return=b,y):(y=s(y,x.children||[]),y.return=b,y)}function g(b,y,x,j,M){return y===null||y.tag!==7?(y=ar(x,b.mode,j,M),y.return=b,y):(y=s(y,x),y.return=b,y)}function v(b,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$l(""+y,b.mode,x),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case to:return x=Io(y.type,y.key,y.props,null,b.mode,x),x.ref=Ii(b,null,y),x.return=b,x;case Ar:return y=Bl(y,b.mode,x),y.return=b,y;case kn:var j=y._init;return v(b,j(y._payload),x)}if(Bi(y)||Li(y))return y=ar(y,b.mode,x,null),y.return=b,y;fo(b,y)}return null}function w(b,y,x,j){var M=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:d(b,y,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case to:return x.key===M?h(b,y,x,j):null;case Ar:return x.key===M?p(b,y,x,j):null;case kn:return M=x._init,w(b,y,M(x._payload),j)}if(Bi(x)||Li(x))return M!==null?null:g(b,y,x,j,null);fo(b,x)}return null}function k(b,y,x,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(x)||null,d(y,b,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case to:return b=b.get(j.key===null?x:j.key)||null,h(y,b,j,M);case Ar:return b=b.get(j.key===null?x:j.key)||null,p(y,b,j,M);case kn:var D=j._init;return k(b,y,x,D(j._payload),M)}if(Bi(j)||Li(j))return b=b.get(x)||null,g(y,b,j,M,null);fo(y,j)}return null}function T(b,y,x,j){for(var M=null,D=null,$=y,U=y=0,X=null;$!==null&&U<x.length;U++){$.index>U?(X=$,$=null):X=$.sibling;var G=w(b,$,x[U],j);if(G===null){$===null&&($=X);break}t&&$&&G.alternate===null&&e(b,$),y=a(G,y,U),D===null?M=G:D.sibling=G,D=G,$=X}if(U===x.length)return n(b,$),ge&&Xn(b,U),M;if($===null){for(;U<x.length;U++)$=v(b,x[U],j),$!==null&&(y=a($,y,U),D===null?M=$:D.sibling=$,D=$);return ge&&Xn(b,U),M}for($=i(b,$);U<x.length;U++)X=k($,b,U,x[U],j),X!==null&&(t&&X.alternate!==null&&$.delete(X.key===null?U:X.key),y=a(X,y,U),D===null?M=X:D.sibling=X,D=X);return t&&$.forEach(function(oe){return e(b,oe)}),ge&&Xn(b,U),M}function E(b,y,x,j){var M=Li(x);if(typeof M!="function")throw Error(B(150));if(x=M.call(x),x==null)throw Error(B(151));for(var D=M=null,$=y,U=y=0,X=null,G=x.next();$!==null&&!G.done;U++,G=x.next()){$.index>U?(X=$,$=null):X=$.sibling;var oe=w(b,$,G.value,j);if(oe===null){$===null&&($=X);break}t&&$&&oe.alternate===null&&e(b,$),y=a(oe,y,U),D===null?M=oe:D.sibling=oe,D=oe,$=X}if(G.done)return n(b,$),ge&&Xn(b,U),M;if($===null){for(;!G.done;U++,G=x.next())G=v(b,G.value,j),G!==null&&(y=a(G,y,U),D===null?M=G:D.sibling=G,D=G);return ge&&Xn(b,U),M}for($=i(b,$);!G.done;U++,G=x.next())G=k($,b,U,G.value,j),G!==null&&(t&&G.alternate!==null&&$.delete(G.key===null?U:G.key),y=a(G,y,U),D===null?M=G:D.sibling=G,D=G);return t&&$.forEach(function(fe){return e(b,fe)}),ge&&Xn(b,U),M}function O(b,y,x,j){if(typeof x=="object"&&x!==null&&x.type===Mr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case to:e:{for(var M=x.key,D=y;D!==null;){if(D.key===M){if(M=x.type,M===Mr){if(D.tag===7){n(b,D.sibling),y=s(D,x.props.children),y.return=b,b=y;break e}}else if(D.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===kn&&df(M)===D.type){n(b,D.sibling),y=s(D,x.props),y.ref=Ii(b,D,x),y.return=b,b=y;break e}n(b,D);break}else e(b,D);D=D.sibling}x.type===Mr?(y=ar(x.props.children,b.mode,j,x.key),y.return=b,b=y):(j=Io(x.type,x.key,x.props,null,b.mode,j),j.ref=Ii(b,y,x),j.return=b,b=j)}return u(b);case Ar:e:{for(D=x.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(b,y.sibling),y=s(y,x.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else e(b,y);y=y.sibling}y=Bl(x,b.mode,j),y.return=b,b=y}return u(b);case kn:return D=x._init,O(b,y,D(x._payload),j)}if(Bi(x))return T(b,y,x,j);if(Li(x))return E(b,y,x,j);fo(b,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(b,y.sibling),y=s(y,x),y.return=b,b=y):(n(b,y),y=$l(x,b.mode,j),y.return=b,b=y),u(b)):n(b,y)}return O}var ni=km(!0),Sm=km(!1),Jo=Un(null),Yo=null,Hr=null,jc=null;function Nc(){jc=Hr=Yo=null}function Oc(t){var e=Jo.current;me(Jo),t._currentValue=e}function Cu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Yr(t,e){Yo=t,jc=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function Et(t){var e=t._currentValue;if(jc!==t)if(t={context:t,memoizedValue:e,next:null},Hr===null){if(Yo===null)throw Error(B(308));Hr=t,Yo.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return e}var ir=null;function Rc(t){ir===null?ir=[t]:ir.push(t)}function Pm(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Rc(e)):(n.next=s.next,s.next=n),e.interleaved=n,fn(t,i)}function fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Ic(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Em(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function In(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ae&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,fn(t,n)}return s=i.interleaved,s===null?(e.next=e,Rc(i)):(e.next=s.next,s.next=e),i.interleaved=e,fn(t,n)}function Co(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,yc(t,n)}}function ff(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?s=a=e:a=a.next=e}else s=a=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qo(t,e,n,i){var s=t.updateQueue;Sn=!1;var a=s.firstBaseUpdate,u=s.lastBaseUpdate,d=s.shared.pending;if(d!==null){s.shared.pending=null;var h=d,p=h.next;h.next=null,u===null?a=p:u.next=p,u=h;var g=t.alternate;g!==null&&(g=g.updateQueue,d=g.lastBaseUpdate,d!==u&&(d===null?g.firstBaseUpdate=p:d.next=p,g.lastBaseUpdate=h))}if(a!==null){var v=s.baseState;u=0,g=p=h=null,d=a;do{var w=d.lane,k=d.eventTime;if((i&w)===w){g!==null&&(g=g.next={eventTime:k,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var T=t,E=d;switch(w=e,k=n,E.tag){case 1:if(T=E.payload,typeof T=="function"){v=T.call(k,v,w);break e}v=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,w=typeof T=="function"?T.call(k,v,w):T,w==null)break e;v=be({},v,w);break e;case 2:Sn=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,w=s.effects,w===null?s.effects=[d]:w.push(d))}else k={eventTime:k,lane:w,tag:d.tag,payload:d.payload,callback:d.callback,next:null},g===null?(p=g=k,h=v):g=g.next=k,u|=w;if(d=d.next,d===null){if(d=s.shared.pending,d===null)break;w=d,d=w.next,w.next=null,s.lastBaseUpdate=w,s.shared.pending=null}}while(!0);if(g===null&&(h=v),s.baseState=h,s.firstBaseUpdate=p,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else a===null&&(s.shared.lanes=0);hr|=u,t.lanes=u,t.memoizedState=v}}function pf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(B(191,s));s.call(i)}}}var Ts={},Kt=Un(Ts),ps=Un(Ts),ms=Un(Ts);function sr(t){if(t===Ts)throw Error(B(174));return t}function Ac(t,e){switch(de(ms,e),de(ps,t),de(Kt,Ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lu(e,t)}me(Kt),de(Kt,e)}function ri(){me(Kt),me(ps),me(ms)}function Tm(t){sr(ms.current);var e=sr(Kt.current),n=lu(e,t.type);e!==n&&(de(ps,t),de(Kt,n))}function Mc(t){ps.current===t&&(me(Kt),me(ps))}var we=Un(0);function Xo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rl=[];function zc(){for(var t=0;t<Rl.length;t++)Rl[t]._workInProgressVersionPrimary=null;Rl.length=0}var Lo=gn.ReactCurrentDispatcher,Il=gn.ReactCurrentBatchConfig,cr=0,xe=null,Ie=null,$e=null,ea=!1,Ki=!1,gs=0,Fy=0;function We(){throw Error(B(321))}function Dc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!$t(t[n],e[n]))return!1;return!0}function $c(t,e,n,i,s,a){if(cr=a,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lo.current=t===null||t.memoizedState===null?Vy:qy,t=n(i,s),Ki){a=0;do{if(Ki=!1,gs=0,25<=a)throw Error(B(301));a+=1,$e=Ie=null,e.updateQueue=null,Lo.current=Gy,t=n(i,s)}while(Ki)}if(Lo.current=ta,e=Ie!==null&&Ie.next!==null,cr=0,$e=Ie=xe=null,ea=!1,e)throw Error(B(300));return t}function Bc(){var t=gs!==0;return gs=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?xe.memoizedState=$e=t:$e=$e.next=t,$e}function Tt(){if(Ie===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=$e===null?xe.memoizedState:$e.next;if(e!==null)$e=e,Ie=t;else{if(t===null)throw Error(B(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},$e===null?xe.memoizedState=$e=t:$e=$e.next=t}return $e}function vs(t,e){return typeof e=="function"?e(t):e}function Al(t){var e=Tt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=Ie,s=i.baseQueue,a=n.pending;if(a!==null){if(s!==null){var u=s.next;s.next=a.next,a.next=u}i.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,i=i.baseState;var d=u=null,h=null,p=a;do{var g=p.lane;if((cr&g)===g)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:t(i,p.action);else{var v={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(d=h=v,u=i):h=h.next=v,xe.lanes|=g,hr|=g}p=p.next}while(p!==null&&p!==a);h===null?u=i:h.next=d,$t(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseState=u,e.baseQueue=h,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do a=s.lane,xe.lanes|=a,hr|=a,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ml(t){var e=Tt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,a=e.memoizedState;if(s!==null){n.pending=null;var u=s=s.next;do a=t(a,u.action),u=u.next;while(u!==s);$t(a,e.memoizedState)||(st=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Cm(){}function Lm(t,e){var n=xe,i=Tt(),s=e(),a=!$t(i.memoizedState,s);if(a&&(i.memoizedState=s,st=!0),i=i.queue,Uc(Om.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,_s(9,Nm.bind(null,n,i,s,e),void 0,null),Be===null)throw Error(B(349));cr&30||jm(n,e,s)}return s}function jm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Nm(t,e,n,i){e.value=n,e.getSnapshot=i,Rm(e)&&Im(t)}function Om(t,e,n){return n(function(){Rm(e)&&Im(t)})}function Rm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!$t(t,n)}catch{return!0}}function Im(t){var e=fn(t,1);e!==null&&Dt(e,t,1,-1)}function mf(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:t},e.queue=t,t=t.dispatch=Wy.bind(null,xe,t),[e.memoizedState,t]}function _s(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Am(){return Tt().memoizedState}function jo(t,e,n,i){var s=Wt();xe.flags|=t,s.memoizedState=_s(1|e,n,void 0,i===void 0?null:i)}function ya(t,e,n,i){var s=Tt();i=i===void 0?null:i;var a=void 0;if(Ie!==null){var u=Ie.memoizedState;if(a=u.destroy,i!==null&&Dc(i,u.deps)){s.memoizedState=_s(e,n,a,i);return}}xe.flags|=t,s.memoizedState=_s(1|e,n,a,i)}function gf(t,e){return jo(8390656,8,t,e)}function Uc(t,e){return ya(2048,8,t,e)}function Mm(t,e){return ya(4,2,t,e)}function zm(t,e){return ya(4,4,t,e)}function Dm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $m(t,e,n){return n=n!=null?n.concat([t]):null,ya(4,4,Dm.bind(null,e,t),n)}function Fc(){}function Bm(t,e){var n=Tt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Um(t,e){var n=Tt();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&Dc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Fm(t,e,n){return cr&21?($t(n,e)||(n=qp(),xe.lanes|=n,hr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function Zy(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var i=Il.transition;Il.transition={};try{t(!1),e()}finally{ue=n,Il.transition=i}}function Zm(){return Tt().memoizedState}function Hy(t,e,n){var i=Mn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Hm(t))Wm(e,n);else if(n=Pm(t,e,n,i),n!==null){var s=Qe();Dt(n,t,i,s),Vm(n,e,i)}}function Wy(t,e,n){var i=Mn(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hm(t))Wm(e,s);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,d=a(u,n);if(s.hasEagerState=!0,s.eagerState=d,$t(d,u)){var h=e.interleaved;h===null?(s.next=s,Rc(e)):(s.next=h.next,h.next=s),e.interleaved=s;return}}catch{}finally{}n=Pm(t,e,s,i),n!==null&&(s=Qe(),Dt(n,t,i,s),Vm(n,e,i))}}function Hm(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Wm(t,e){Ki=ea=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vm(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,yc(t,n)}}var ta={readContext:Et,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},Vy={readContext:Et,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Et,useEffect:gf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jo(4194308,4,Dm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jo(4194308,4,t,e)},useInsertionEffect:function(t,e){return jo(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Wt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=Hy.bind(null,xe,t),[i.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:mf,useDebugValue:Fc,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=mf(!1),e=t[0];return t=Zy.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=xe,s=Wt();if(ge){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Be===null)throw Error(B(349));cr&30||jm(i,e,n)}s.memoizedState=n;var a={value:n,getSnapshot:e};return s.queue=a,gf(Om.bind(null,i,a,t),[t]),i.flags|=2048,_s(9,Nm.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=Wt(),e=Be.identifierPrefix;if(ge){var n=an,i=on;n=(i&~(1<<32-zt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=gs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Fy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qy={readContext:Et,useCallback:Bm,useContext:Et,useEffect:Uc,useImperativeHandle:$m,useInsertionEffect:Mm,useLayoutEffect:zm,useMemo:Um,useReducer:Al,useRef:Am,useState:function(){return Al(vs)},useDebugValue:Fc,useDeferredValue:function(t){var e=Tt();return Fm(e,Ie.memoizedState,t)},useTransition:function(){var t=Al(vs)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Lm,useId:Zm,unstable_isNewReconciler:!1},Gy={readContext:Et,useCallback:Bm,useContext:Et,useEffect:Uc,useImperativeHandle:$m,useInsertionEffect:Mm,useLayoutEffect:zm,useMemo:Um,useReducer:Ml,useRef:Am,useState:function(){return Ml(vs)},useDebugValue:Fc,useDeferredValue:function(t){var e=Tt();return Ie===null?e.memoizedState=t:Fm(e,Ie.memoizedState,t)},useTransition:function(){var t=Ml(vs)[0],e=Tt().memoizedState;return[t,e]},useMutableSource:Cm,useSyncExternalStore:Lm,useId:Zm,unstable_isNewReconciler:!1};function Rt(t,e){if(t&&t.defaultProps){e=be({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:be({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wa={isMounted:function(t){return(t=t._reactInternals)?pr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Qe(),s=Mn(t),a=ln(i,s);a.payload=e,n!=null&&(a.callback=n),e=In(t,a,s),e!==null&&(Dt(e,t,s,i),Co(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Qe(),s=Mn(t),a=ln(i,s);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=In(t,a,s),e!==null&&(Dt(e,t,s,i),Co(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),i=Mn(t),s=ln(n,i);s.tag=2,e!=null&&(s.callback=e),e=In(t,s,i),e!==null&&(Dt(e,t,i,n),Co(e,t,i))}};function vf(t,e,n,i,s,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!cs(n,i)||!cs(s,a):!0}function qm(t,e,n){var i=!1,s=$n,a=e.contextType;return typeof a=="object"&&a!==null?a=Et(a):(s=at(e)?lr:Ge.current,i=e.contextTypes,a=(i=i!=null)?ei(t,s):$n),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wa,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=a),e}function _f(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&wa.enqueueReplaceState(e,e.state,null)}function ju(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ic(t);var a=e.contextType;typeof a=="object"&&a!==null?s.context=Et(a):(a=at(e)?lr:Ge.current,s.context=ei(t,a)),s.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Lu(t,e,a,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wa.enqueueReplaceState(s,s.state,null),Qo(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ii(t,e){try{var n="",i=e;do n+=b0(i),i=i.return;while(i);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:s,digest:null}}function zl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Nu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ky=typeof WeakMap=="function"?WeakMap:Map;function Gm(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ra||(ra=!0,Uu=i),Nu(t,e)},n}function Km(t,e,n){n=ln(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){Nu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Nu(t,e),typeof i!="function"&&(An===null?An=new Set([this]):An.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function yf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Ky;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=uw.bind(null,t,e,n),e.then(t,t))}function wf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xf(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,In(n,e,1))),n.lanes|=1),t)}var Jy=gn.ReactCurrentOwner,st=!1;function Ye(t,e,n,i){e.child=t===null?Sm(e,null,n,i):ni(e,t.child,n,i)}function bf(t,e,n,i,s){n=n.render;var a=e.ref;return Yr(e,s),i=$c(t,e,n,i,a,s),n=Bc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(ge&&n&&Tc(e),e.flags|=1,Ye(t,e,i,s),e.child)}function kf(t,e,n,i,s){if(t===null){var a=n.type;return typeof a=="function"&&!Jc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Jm(t,e,a,i,s)):(t=Io(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&s)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:cs,n(u,i)&&t.ref===e.ref)return pn(t,e,s)}return e.flags|=1,t=zn(a,i),t.ref=e.ref,t.return=e,e.child=t}function Jm(t,e,n,i,s){if(t!==null){var a=t.memoizedProps;if(cs(a,i)&&t.ref===e.ref)if(st=!1,e.pendingProps=i=a,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,pn(t,e,s)}return Ou(t,e,n,i,s)}function Ym(t,e,n){var i=e.pendingProps,s=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Vr,ct),ct|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,de(Vr,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,de(Vr,ct),ct|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,de(Vr,ct),ct|=i;return Ye(t,e,s,n),e.child}function Qm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ou(t,e,n,i,s){var a=at(n)?lr:Ge.current;return a=ei(e,a),Yr(e,s),n=$c(t,e,n,i,a,s),i=Bc(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(ge&&i&&Tc(e),e.flags|=1,Ye(t,e,n,s),e.child)}function Sf(t,e,n,i,s){if(at(n)){var a=!0;qo(e)}else a=!1;if(Yr(e,s),e.stateNode===null)No(t,e),qm(e,n,i),ju(e,n,i,s),i=!0;else if(t===null){var u=e.stateNode,d=e.memoizedProps;u.props=d;var h=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=Et(p):(p=at(n)?lr:Ge.current,p=ei(e,p));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==i||h!==p)&&_f(e,u,i,p),Sn=!1;var w=e.memoizedState;u.state=w,Qo(e,i,u,s),h=e.memoizedState,d!==i||w!==h||ot.current||Sn?(typeof g=="function"&&(Lu(e,n,g,i),h=e.memoizedState),(d=Sn||vf(e,n,d,i,w,h,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),u.props=i,u.state=h,u.context=p,i=d):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,Em(t,e),d=e.memoizedProps,p=e.type===e.elementType?d:Rt(e.type,d),u.props=p,v=e.pendingProps,w=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=Et(h):(h=at(n)?lr:Ge.current,h=ei(e,h));var k=n.getDerivedStateFromProps;(g=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==v||w!==h)&&_f(e,u,i,h),Sn=!1,w=e.memoizedState,u.state=w,Qo(e,i,u,s);var T=e.memoizedState;d!==v||w!==T||ot.current||Sn?(typeof k=="function"&&(Lu(e,n,k,i),T=e.memoizedState),(p=Sn||vf(e,n,p,i,w,T,h)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,T,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,T,h)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=T),u.props=i,u.state=T,u.context=h,i=p):(typeof u.componentDidUpdate!="function"||d===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),i=!1)}return Ru(t,e,n,i,a,s)}function Ru(t,e,n,i,s,a){Qm(t,e);var u=(e.flags&128)!==0;if(!i&&!u)return s&&uf(e,n,!1),pn(t,e,a);i=e.stateNode,Jy.current=e;var d=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&u?(e.child=ni(e,t.child,null,a),e.child=ni(e,null,d,a)):Ye(t,e,d,a),e.memoizedState=i.state,s&&uf(e,n,!0),e.child}function Xm(t){var e=t.stateNode;e.pendingContext?lf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lf(t,e.context,!1),Ac(t,e.containerInfo)}function Pf(t,e,n,i,s){return ti(),Lc(s),e.flags|=256,Ye(t,e,n,i),e.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Au(t){return{baseLanes:t,cachePool:null,transitions:null}}function eg(t,e,n){var i=e.pendingProps,s=we.current,a=!1,u=(e.flags&128)!==0,d;if((d=u)||(d=t!==null&&t.memoizedState===null?!1:(s&2)!==0),d?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),de(we,s&1),t===null)return Tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=ka(u,i,0,null),t=ar(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Au(n),e.memoizedState=Iu,t):Zc(e,u));if(s=t.memoizedState,s!==null&&(d=s.dehydrated,d!==null))return Yy(t,e,u,i,d,s,n);if(a){a=i.fallback,u=e.mode,s=t.child,d=s.sibling;var h={mode:"hidden",children:i.children};return!(u&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=zn(s,h),i.subtreeFlags=s.subtreeFlags&14680064),d!==null?a=zn(d,a):(a=ar(a,u,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=t.child.memoizedState,u=u===null?Au(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Iu,i}return a=t.child,t=a.sibling,i=zn(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Zc(t,e){return e=ka({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function po(t,e,n,i){return i!==null&&Lc(i),ni(e,t.child,null,n),t=Zc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Yy(t,e,n,i,s,a,u){if(n)return e.flags&256?(e.flags&=-257,i=zl(Error(B(422))),po(t,e,u,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,s=e.mode,i=ka({mode:"visible",children:i.children},s,0,null),a=ar(a,s,u,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&ni(e,t.child,null,u),e.child.memoizedState=Au(u),e.memoizedState=Iu,a);if(!(e.mode&1))return po(t,e,u,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var d=i.dgst;return i=d,a=Error(B(419)),i=zl(a,i,void 0),po(t,e,u,i)}if(d=(u&t.childLanes)!==0,st||d){if(i=Be,i!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|u)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,fn(t,s),Dt(i,t,s,-1))}return Kc(),i=zl(Error(B(421))),po(t,e,u,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cw.bind(null,t),s._reactRetry=e,null):(t=a.treeContext,ht=Rn(s.nextSibling),dt=e,ge=!0,Mt=null,t!==null&&(bt[kt++]=on,bt[kt++]=an,bt[kt++]=ur,on=t.id,an=t.overflow,ur=e),e=Zc(e,i.children),e.flags|=4096,e)}function Ef(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Cu(t.return,e,n)}function Dl(t,e,n,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s)}function tg(t,e,n){var i=e.pendingProps,s=i.revealOrder,a=i.tail;if(Ye(t,e,i.children,n),i=we.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ef(t,n,e);else if(t.tag===19)Ef(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(de(we,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Dl(e,!1,s,n,a);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Dl(e,!0,n,null,a);break;case"together":Dl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function No(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Qy(t,e,n){switch(e.tag){case 3:Xm(e),ti();break;case 5:Tm(e);break;case 1:at(e.type)&&qo(e);break;case 4:Ac(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;de(Jo,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(de(we,we.current&1),e.flags|=128,null):n&e.child.childLanes?eg(t,e,n):(de(we,we.current&1),t=pn(t,e,n),t!==null?t.sibling:null);de(we,we.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return tg(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(we,we.current),i)break;return null;case 22:case 23:return e.lanes=0,Ym(t,e,n)}return pn(t,e,n)}var ng,Mu,rg,ig;ng=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mu=function(){};rg=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,sr(Kt.current);var a=null;switch(n){case"input":s=iu(t,s),i=iu(t,i),a=[];break;case"select":s=be({},s,{value:void 0}),i=be({},i,{value:void 0}),a=[];break;case"textarea":s=au(t,s),i=au(t,i),a=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Wo)}uu(n,i);var u;n=null;for(p in s)if(!i.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var d=s[p];for(u in d)d.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(rs.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in i){var h=i[p];if(d=s!=null?s[p]:void 0,i.hasOwnProperty(p)&&h!==d&&(h!=null||d!=null))if(p==="style")if(d){for(u in d)!d.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&d[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(a||(a=[]),a.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(a=a||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(rs.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&pe("scroll",t),a||d===h||(a=[])):(a=a||[]).push(p,h))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};ig=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ai(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Xy(t,e,n){var i=e.pendingProps;switch(Cc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(e),null;case 1:return at(e.type)&&Vo(),Ve(e),null;case 3:return i=e.stateNode,ri(),me(ot),me(Ge),zc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ho(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Mt!==null&&(Hu(Mt),Mt=null))),Mu(t,e),Ve(e),null;case 5:Mc(e);var s=sr(ms.current);if(n=e.type,t!==null&&e.stateNode!=null)rg(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(B(166));return Ve(e),null}if(t=sr(Kt.current),ho(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[qt]=e,i[fs]=a,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",i),pe("close",i);break;case"iframe":case"object":case"embed":pe("load",i);break;case"video":case"audio":for(s=0;s<Fi.length;s++)pe(Fi[s],i);break;case"source":pe("error",i);break;case"img":case"image":case"link":pe("error",i),pe("load",i);break;case"details":pe("toggle",i);break;case"input":Id(i,a),pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},pe("invalid",i);break;case"textarea":Md(i,a),pe("invalid",i)}uu(n,a),s=null;for(var u in a)if(a.hasOwnProperty(u)){var d=a[u];u==="children"?typeof d=="string"?i.textContent!==d&&(a.suppressHydrationWarning!==!0&&co(i.textContent,d,t),s=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&co(i.textContent,d,t),s=["children",""+d]):rs.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&pe("scroll",i)}switch(n){case"input":no(i),Ad(i,a,!0);break;case"textarea":no(i),zd(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=Wo)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Op(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),n==="select"&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[qt]=e,t[fs]=i,ng(t,e,!1,!1),e.stateNode=t;e:{switch(u=cu(n,i),n){case"dialog":pe("cancel",t),pe("close",t),s=i;break;case"iframe":case"object":case"embed":pe("load",t),s=i;break;case"video":case"audio":for(s=0;s<Fi.length;s++)pe(Fi[s],t);s=i;break;case"source":pe("error",t),s=i;break;case"img":case"image":case"link":pe("error",t),pe("load",t),s=i;break;case"details":pe("toggle",t),s=i;break;case"input":Id(t,i),s=iu(t,i),pe("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=be({},i,{value:void 0}),pe("invalid",t);break;case"textarea":Md(t,i),s=au(t,i),pe("invalid",t);break;default:s=i}uu(n,s),d=s;for(a in d)if(d.hasOwnProperty(a)){var h=d[a];a==="style"?Ap(t,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Rp(t,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&is(t,h):typeof h=="number"&&is(t,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rs.hasOwnProperty(a)?h!=null&&a==="onScroll"&&pe("scroll",t):h!=null&&fc(t,a,h,u))}switch(n){case"input":no(t),Ad(t,i,!1);break;case"textarea":no(t),zd(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Dn(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?qr(t,!!i.multiple,a,!1):i.defaultValue!=null&&qr(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Wo)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ve(e),null;case 6:if(t&&e.stateNode!=null)ig(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(B(166));if(n=sr(ms.current),sr(Kt.current),ho(e)){if(i=e.stateNode,n=e.memoizedProps,i[qt]=e,(a=i.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:co(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[qt]=e,e.stateNode=i}return Ve(e),null;case 13:if(me(we),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&ht!==null&&e.mode&1&&!(e.flags&128))bm(),ti(),e.flags|=98560,a=!1;else if(a=ho(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(B(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[qt]=e}else ti(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ve(e),a=!1}else Mt!==null&&(Hu(Mt),Mt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||we.current&1?Ae===0&&(Ae=3):Kc())),e.updateQueue!==null&&(e.flags|=4),Ve(e),null);case 4:return ri(),Mu(t,e),t===null&&hs(e.stateNode.containerInfo),Ve(e),null;case 10:return Oc(e.type._context),Ve(e),null;case 17:return at(e.type)&&Vo(),Ve(e),null;case 19:if(me(we),a=e.memoizedState,a===null)return Ve(e),null;if(i=(e.flags&128)!==0,u=a.rendering,u===null)if(i)Ai(a,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Xo(t),u!==null){for(e.flags|=128,Ai(a,!1),i=u.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return de(we,we.current&1|2),e.child}t=t.sibling}a.tail!==null&&Te()>si&&(e.flags|=128,i=!0,Ai(a,!1),e.lanes=4194304)}else{if(!i)if(t=Xo(u),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ai(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ge)return Ve(e),null}else 2*Te()-a.renderingStartTime>si&&n!==1073741824&&(e.flags|=128,i=!0,Ai(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Te(),e.sibling=null,n=we.current,de(we,i?n&1|2:n&1),e):(Ve(e),null);case 22:case 23:return Gc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ct&1073741824&&(Ve(e),e.subtreeFlags&6&&(e.flags|=8192)):Ve(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ew(t,e){switch(Cc(e),e.tag){case 1:return at(e.type)&&Vo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ri(),me(ot),me(Ge),zc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mc(e),null;case 13:if(me(we),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));ti()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(we),null;case 4:return ri(),null;case 10:return Oc(e.type._context),null;case 22:case 23:return Gc(),null;case 24:return null;default:return null}}var mo=!1,qe=!1,tw=typeof WeakSet=="function"?WeakSet:Set,H=null;function Wr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ke(t,e,i)}else n.current=null}function zu(t,e,n){try{n()}catch(i){ke(t,e,i)}}var Tf=!1;function nw(t,e){if(wu=Fo,t=um(),Ec(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,d=-1,h=-1,p=0,g=0,v=t,w=null;t:for(;;){for(var k;v!==n||s!==0&&v.nodeType!==3||(d=u+s),v!==a||i!==0&&v.nodeType!==3||(h=u+i),v.nodeType===3&&(u+=v.nodeValue.length),(k=v.firstChild)!==null;)w=v,v=k;for(;;){if(v===t)break t;if(w===n&&++p===s&&(d=u),w===a&&++g===i&&(h=u),(k=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=k}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(xu={focusedElem:t,selectionRange:n},Fo=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,O=T.memoizedState,b=e.stateNode,y=b.getSnapshotBeforeUpdate(e.elementType===e.type?E:Rt(e.type,E),O);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(j){ke(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return T=Tf,Tf=!1,T}function Ji(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var a=s.destroy;s.destroy=void 0,a!==void 0&&zu(e,n,a)}s=s.next}while(s!==i)}}function xa(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function sg(t){var e=t.alternate;e!==null&&(t.alternate=null,sg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[qt],delete e[fs],delete e[Su],delete e[Dy],delete e[$y])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function og(t){return t.tag===5||t.tag===3||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||og(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $u(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wo));else if(i!==4&&(t=t.child,t!==null))for($u(t,e,n),t=t.sibling;t!==null;)$u(t,e,n),t=t.sibling}function Bu(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Bu(t,e,n),t=t.sibling;t!==null;)Bu(t,e,n),t=t.sibling}var Fe=null,It=!1;function wn(t,e,n){for(n=n.child;n!==null;)ag(t,e,n),n=n.sibling}function ag(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 5:qe||Wr(n,e);case 6:var i=Fe,s=It;Fe=null,wn(t,e,n),Fe=i,It=s,Fe!==null&&(It?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(It?(t=Fe,n=n.stateNode,t.nodeType===8?Nl(t.parentNode,n):t.nodeType===1&&Nl(t,n),ls(t)):Nl(Fe,n.stateNode));break;case 4:i=Fe,s=It,Fe=n.stateNode.containerInfo,It=!0,wn(t,e,n),Fe=i,It=s;break;case 0:case 11:case 14:case 15:if(!qe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var a=s,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&zu(n,e,u),s=s.next}while(s!==i)}wn(t,e,n);break;case 1:if(!qe&&(Wr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(d){ke(n,e,d)}wn(t,e,n);break;case 21:wn(t,e,n);break;case 22:n.mode&1?(qe=(i=qe)||n.memoizedState!==null,wn(t,e,n),qe=i):wn(t,e,n);break;default:wn(t,e,n)}}function Lf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tw),e.forEach(function(i){var s=hw.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Nt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var a=t,u=e,d=u;e:for(;d!==null;){switch(d.tag){case 5:Fe=d.stateNode,It=!1;break e;case 3:Fe=d.stateNode.containerInfo,It=!0;break e;case 4:Fe=d.stateNode.containerInfo,It=!0;break e}d=d.return}if(Fe===null)throw Error(B(160));ag(a,u,s),Fe=null,It=!1;var h=s.alternate;h!==null&&(h.return=null),s.return=null}catch(p){ke(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)lg(e,t),e=e.sibling}function lg(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nt(e,t),Ht(t),i&4){try{Ji(3,t,t.return),xa(3,t)}catch(E){ke(t,t.return,E)}try{Ji(5,t,t.return)}catch(E){ke(t,t.return,E)}}break;case 1:Nt(e,t),Ht(t),i&512&&n!==null&&Wr(n,n.return);break;case 5:if(Nt(e,t),Ht(t),i&512&&n!==null&&Wr(n,n.return),t.flags&32){var s=t.stateNode;try{is(s,"")}catch(E){ke(t,t.return,E)}}if(i&4&&(s=t.stateNode,s!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,d=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&jp(s,a),cu(d,u);var p=cu(d,a);for(u=0;u<h.length;u+=2){var g=h[u],v=h[u+1];g==="style"?Ap(s,v):g==="dangerouslySetInnerHTML"?Rp(s,v):g==="children"?is(s,v):fc(s,g,v,p)}switch(d){case"input":su(s,a);break;case"textarea":Np(s,a);break;case"select":var w=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?qr(s,!!a.multiple,k,!1):w!==!!a.multiple&&(a.defaultValue!=null?qr(s,!!a.multiple,a.defaultValue,!0):qr(s,!!a.multiple,a.multiple?[]:"",!1))}s[fs]=a}catch(E){ke(t,t.return,E)}}break;case 6:if(Nt(e,t),Ht(t),i&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,a=t.memoizedProps;try{s.nodeValue=a}catch(E){ke(t,t.return,E)}}break;case 3:if(Nt(e,t),Ht(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(e.containerInfo)}catch(E){ke(t,t.return,E)}break;case 4:Nt(e,t),Ht(t);break;case 13:Nt(e,t),Ht(t),s=t.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Vc=Te())),i&4&&Lf(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(qe=(p=qe)||g,Nt(e,t),qe=p):Nt(e,t),Ht(t),i&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(H=t,g=t.child;g!==null;){for(v=H=g;H!==null;){switch(w=H,k=w.child,w.tag){case 0:case 11:case 14:case 15:Ji(4,w,w.return);break;case 1:Wr(w,w.return);var T=w.stateNode;if(typeof T.componentWillUnmount=="function"){i=w,n=w.return;try{e=i,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){ke(i,n,E)}}break;case 5:Wr(w,w.return);break;case 22:if(w.memoizedState!==null){Nf(v);continue}}k!==null?(k.return=w,H=k):Nf(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{s=v.stateNode,p?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=v.stateNode,h=v.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=Ip("display",u))}catch(E){ke(t,t.return,E)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(E){ke(t,t.return,E)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Nt(e,t),Ht(t),i&4&&Lf(t);break;case 21:break;default:Nt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(og(n)){var i=n;break e}n=n.return}throw Error(B(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(is(s,""),i.flags&=-33);var a=Cf(t);Bu(t,a,s);break;case 3:case 4:var u=i.stateNode.containerInfo,d=Cf(t);$u(t,d,u);break;default:throw Error(B(161))}}catch(h){ke(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rw(t,e,n){H=t,ug(t)}function ug(t,e,n){for(var i=(t.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&i){var u=s.memoizedState!==null||mo;if(!u){var d=s.alternate,h=d!==null&&d.memoizedState!==null||qe;d=mo;var p=qe;if(mo=u,(qe=h)&&!p)for(H=s;H!==null;)u=H,h=u.child,u.tag===22&&u.memoizedState!==null?Of(s):h!==null?(h.return=u,H=h):Of(s);for(;a!==null;)H=a,ug(a),a=a.sibling;H=s,mo=d,qe=p}jf(t)}else s.subtreeFlags&8772&&a!==null?(a.return=s,H=a):jf(t)}}function jf(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qe||xa(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!qe)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Rt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&pf(e,a,i);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pf(e,u,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&ls(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}qe||e.flags&512&&Du(e)}catch(w){ke(e,e.return,w)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function Nf(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function Of(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xa(4,e)}catch(h){ke(e,n,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(h){ke(e,s,h)}}var a=e.return;try{Du(e)}catch(h){ke(e,a,h)}break;case 5:var u=e.return;try{Du(e)}catch(h){ke(e,u,h)}}}catch(h){ke(e,e.return,h)}if(e===t){H=null;break}var d=e.sibling;if(d!==null){d.return=e.return,H=d;break}H=e.return}}var iw=Math.ceil,na=gn.ReactCurrentDispatcher,Hc=gn.ReactCurrentOwner,Pt=gn.ReactCurrentBatchConfig,ae=0,Be=null,je=null,Ze=0,ct=0,Vr=Un(0),Ae=0,ys=null,hr=0,ba=0,Wc=0,Yi=null,rt=null,Vc=0,si=1/0,nn=null,ra=!1,Uu=null,An=null,go=!1,Ln=null,ia=0,Qi=0,Fu=null,Oo=-1,Ro=0;function Qe(){return ae&6?Te():Oo!==-1?Oo:Oo=Te()}function Mn(t){return t.mode&1?ae&2&&Ze!==0?Ze&-Ze:Uy.transition!==null?(Ro===0&&(Ro=qp()),Ro):(t=ue,t!==0||(t=window.event,t=t===void 0?16:em(t.type)),t):1}function Dt(t,e,n,i){if(50<Qi)throw Qi=0,Fu=null,Error(B(185));Ss(t,n,i),(!(ae&2)||t!==Be)&&(t===Be&&(!(ae&2)&&(ba|=n),Ae===4&&En(t,Ze)),lt(t,i),n===1&&ae===0&&!(e.mode&1)&&(si=Te()+500,_a&&Fn()))}function lt(t,e){var n=t.callbackNode;U0(t,e);var i=Uo(t,t===Be?Ze:0);if(i===0)n!==null&&Bd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&Bd(n),e===1)t.tag===0?By(Rf.bind(null,t)):ym(Rf.bind(null,t)),My(function(){!(ae&6)&&Fn()}),n=null;else{switch(Gp(i)){case 1:n=_c;break;case 4:n=Wp;break;case 16:n=Bo;break;case 536870912:n=Vp;break;default:n=Bo}n=vg(n,cg.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cg(t,e){if(Oo=-1,Ro=0,ae&6)throw Error(B(327));var n=t.callbackNode;if(Qr()&&t.callbackNode!==n)return null;var i=Uo(t,t===Be?Ze:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=sa(t,i);else{e=i;var s=ae;ae|=2;var a=dg();(Be!==t||Ze!==e)&&(nn=null,si=Te()+500,or(t,e));do try{aw();break}catch(d){hg(t,d)}while(!0);Nc(),na.current=a,ae=s,je!==null?e=0:(Be=null,Ze=0,e=Ae)}if(e!==0){if(e===2&&(s=mu(t),s!==0&&(i=s,e=Zu(t,s))),e===1)throw n=ys,or(t,0),En(t,i),lt(t,Te()),n;if(e===6)En(t,i);else{if(s=t.current.alternate,!(i&30)&&!sw(s)&&(e=sa(t,i),e===2&&(a=mu(t),a!==0&&(i=a,e=Zu(t,a))),e===1))throw n=ys,or(t,0),En(t,i),lt(t,Te()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(B(345));case 2:er(t,rt,nn);break;case 3:if(En(t,i),(i&130023424)===i&&(e=Vc+500-Te(),10<e)){if(Uo(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){Qe(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ku(er.bind(null,t,rt,nn),e);break}er(t,rt,nn);break;case 4:if(En(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var u=31-zt(i);a=1<<u,u=e[u],u>s&&(s=u),i&=~a}if(i=s,i=Te()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*iw(i/1960))-i,10<i){t.timeoutHandle=ku(er.bind(null,t,rt,nn),i);break}er(t,rt,nn);break;case 5:er(t,rt,nn);break;default:throw Error(B(329))}}}return lt(t,Te()),t.callbackNode===n?cg.bind(null,t):null}function Zu(t,e){var n=Yi;return t.current.memoizedState.isDehydrated&&(or(t,e).flags|=256),t=sa(t,e),t!==2&&(e=rt,rt=n,e!==null&&Hu(e)),t}function Hu(t){rt===null?rt=t:rt.push.apply(rt,t)}function sw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],a=s.getSnapshot;s=s.value;try{if(!$t(a(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~Wc,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zt(e),i=1<<n;t[n]=-1,e&=~i}}function Rf(t){if(ae&6)throw Error(B(327));Qr();var e=Uo(t,0);if(!(e&1))return lt(t,Te()),null;var n=sa(t,e);if(t.tag!==0&&n===2){var i=mu(t);i!==0&&(e=i,n=Zu(t,i))}if(n===1)throw n=ys,or(t,0),En(t,e),lt(t,Te()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,er(t,rt,nn),lt(t,Te()),null}function qc(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(si=Te()+500,_a&&Fn())}}function dr(t){Ln!==null&&Ln.tag===0&&!(ae&6)&&Qr();var e=ae;ae|=1;var n=Pt.transition,i=ue;try{if(Pt.transition=null,ue=1,t)return t()}finally{ue=i,Pt.transition=n,ae=e,!(ae&6)&&Fn()}}function Gc(){ct=Vr.current,me(Vr)}function or(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ay(n)),je!==null)for(n=je.return;n!==null;){var i=n;switch(Cc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Vo();break;case 3:ri(),me(ot),me(Ge),zc();break;case 5:Mc(i);break;case 4:ri();break;case 13:me(we);break;case 19:me(we);break;case 10:Oc(i.type._context);break;case 22:case 23:Gc()}n=n.return}if(Be=t,je=t=zn(t.current,null),Ze=ct=e,Ae=0,ys=null,Wc=ba=hr=0,rt=Yi=null,ir!==null){for(e=0;e<ir.length;e++)if(n=ir[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=s,i.next=u}n.pending=i}ir=null}return t}function hg(t,e){do{var n=je;try{if(Nc(),Lo.current=ta,ea){for(var i=xe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ea=!1}if(cr=0,$e=Ie=xe=null,Ki=!1,gs=0,Hc.current=null,n===null||n.return===null){Ae=1,ys=e,je=null;break}e:{var a=t,u=n.return,d=n,h=e;if(e=Ze,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,g=d,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var k=wf(u);if(k!==null){k.flags&=-257,xf(k,u,d,a,e),k.mode&1&&yf(a,p,e),e=k,h=p;var T=e.updateQueue;if(T===null){var E=new Set;E.add(h),e.updateQueue=E}else T.add(h);break e}else{if(!(e&1)){yf(a,p,e),Kc();break e}h=Error(B(426))}}else if(ge&&d.mode&1){var O=wf(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),xf(O,u,d,a,e),Lc(ii(h,d));break e}}a=h=ii(h,d),Ae!==4&&(Ae=2),Yi===null?Yi=[a]:Yi.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var b=Gm(a,h,e);ff(a,b);break e;case 1:d=h;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(An===null||!An.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var j=Km(a,d,e);ff(a,j);break e}}a=a.return}while(a!==null)}pg(n)}catch(M){e=M,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function dg(){var t=na.current;return na.current=ta,t===null?ta:t}function Kc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Be===null||!(hr&268435455)&&!(ba&268435455)||En(Be,Ze)}function sa(t,e){var n=ae;ae|=2;var i=dg();(Be!==t||Ze!==e)&&(nn=null,or(t,e));do try{ow();break}catch(s){hg(t,s)}while(!0);if(Nc(),ae=n,na.current=i,je!==null)throw Error(B(261));return Be=null,Ze=0,Ae}function ow(){for(;je!==null;)fg(je)}function aw(){for(;je!==null&&!O0();)fg(je)}function fg(t){var e=gg(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?pg(t):je=e,Hc.current=null}function pg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ew(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,je=null;return}}else if(n=Xy(n,e,ct),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);Ae===0&&(Ae=5)}function er(t,e,n){var i=ue,s=Pt.transition;try{Pt.transition=null,ue=1,lw(t,e,n,i)}finally{Pt.transition=s,ue=i}return null}function lw(t,e,n,i){do Qr();while(Ln!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(F0(t,a),t===Be&&(je=Be=null,Ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||go||(go=!0,vg(Bo,function(){return Qr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Pt.transition,Pt.transition=null;var u=ue;ue=1;var d=ae;ae|=4,Hc.current=null,nw(t,n),lg(n,t),Cy(xu),Fo=!!wu,xu=wu=null,t.current=n,rw(n),R0(),ae=d,ue=u,Pt.transition=a}else t.current=n;if(go&&(go=!1,Ln=t,ia=s),a=t.pendingLanes,a===0&&(An=null),M0(n.stateNode),lt(t,Te()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ra)throw ra=!1,t=Uu,Uu=null,t;return ia&1&&t.tag!==0&&Qr(),a=t.pendingLanes,a&1?t===Fu?Qi++:(Qi=0,Fu=t):Qi=0,Fn(),null}function Qr(){if(Ln!==null){var t=Gp(ia),e=Pt.transition,n=ue;try{if(Pt.transition=null,ue=16>t?16:t,Ln===null)var i=!1;else{if(t=Ln,Ln=null,ia=0,ae&6)throw Error(B(331));var s=ae;for(ae|=4,H=t.current;H!==null;){var a=H,u=a.child;if(H.flags&16){var d=a.deletions;if(d!==null){for(var h=0;h<d.length;h++){var p=d[h];for(H=p;H!==null;){var g=H;switch(g.tag){case 0:case 11:case 15:Ji(8,g,a)}var v=g.child;if(v!==null)v.return=g,H=v;else for(;H!==null;){g=H;var w=g.sibling,k=g.return;if(sg(g),g===p){H=null;break}if(w!==null){w.return=k,H=w;break}H=k}}}var T=a.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var O=E.sibling;E.sibling=null,E=O}while(E!==null)}}H=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,H=u;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ji(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,H=b;break e}H=a.return}}var y=t.current;for(H=y;H!==null;){u=H;var x=u.child;if(u.subtreeFlags&2064&&x!==null)x.return=u,H=x;else e:for(u=y;H!==null;){if(d=H,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:xa(9,d)}}catch(M){ke(d,d.return,M)}if(d===u){H=null;break e}var j=d.sibling;if(j!==null){j.return=d.return,H=j;break e}H=d.return}}if(ae=s,Fn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fa,t)}catch{}i=!0}return i}finally{ue=n,Pt.transition=e}}return!1}function If(t,e,n){e=ii(n,e),e=Gm(t,e,1),t=In(t,e,1),e=Qe(),t!==null&&(Ss(t,1,e),lt(t,e))}function ke(t,e,n){if(t.tag===3)If(t,t,n);else for(;e!==null;){if(e.tag===3){If(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(An===null||!An.has(i))){t=ii(n,t),t=Km(e,t,1),e=In(e,t,1),t=Qe(),e!==null&&(Ss(e,1,t),lt(e,t));break}}e=e.return}}function uw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Be===t&&(Ze&n)===n&&(Ae===4||Ae===3&&(Ze&130023424)===Ze&&500>Te()-Vc?or(t,0):Wc|=n),lt(t,e)}function mg(t,e){e===0&&(t.mode&1?(e=so,so<<=1,!(so&130023424)&&(so=4194304)):e=1);var n=Qe();t=fn(t,e),t!==null&&(Ss(t,e,n),lt(t,n))}function cw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),mg(t,n)}function hw(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(B(314))}i!==null&&i.delete(e),mg(t,n)}var gg;gg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,Qy(t,e,n);st=!!(t.flags&131072)}else st=!1,ge&&e.flags&1048576&&wm(e,Ko,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;No(t,e),t=e.pendingProps;var s=ei(e,Ge.current);Yr(e,n),s=$c(null,e,i,t,s,n);var a=Bc();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(i)?(a=!0,qo(e)):a=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ic(e),s.updater=wa,e.stateNode=s,s._reactInternals=e,ju(e,i,t,n),e=Ru(null,e,i,!0,a,n)):(e.tag=0,ge&&a&&Tc(e),Ye(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(No(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=fw(i),t=Rt(i,t),s){case 0:e=Ou(null,e,i,t,n);break e;case 1:e=Sf(null,e,i,t,n);break e;case 11:e=bf(null,e,i,t,n);break e;case 14:e=kf(null,e,i,Rt(i.type,t),n);break e}throw Error(B(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),Ou(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),Sf(t,e,i,s,n);case 3:e:{if(Xm(e),t===null)throw Error(B(387));i=e.pendingProps,a=e.memoizedState,s=a.element,Em(t,e),Qo(e,i,null,n);var u=e.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){s=ii(Error(B(423)),e),e=Pf(t,e,i,n,s);break e}else if(i!==s){s=ii(Error(B(424)),e),e=Pf(t,e,i,n,s);break e}else for(ht=Rn(e.stateNode.containerInfo.firstChild),dt=e,ge=!0,Mt=null,n=Sm(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ti(),i===s){e=pn(t,e,n);break e}Ye(t,e,i,n)}e=e.child}return e;case 5:return Tm(e),t===null&&Tu(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,u=s.children,bu(i,s)?u=null:a!==null&&bu(i,a)&&(e.flags|=32),Qm(t,e),Ye(t,e,u,n),e.child;case 6:return t===null&&Tu(e),null;case 13:return eg(t,e,n);case 4:return Ac(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=ni(e,null,i,n):Ye(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),bf(t,e,i,s,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,a=e.memoizedProps,u=s.value,de(Jo,i._currentValue),i._currentValue=u,a!==null)if($t(a.value,u)){if(a.children===s.children&&!ot.current){e=pn(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var d=a.dependencies;if(d!==null){u=a.child;for(var h=d.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=ln(-1,n&-n),h.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?h.next=h:(h.next=g.next,g.next=h),p.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),Cu(a.return,n,e),d.lanes|=n;break}h=h.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(B(341));u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),Cu(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,Yr(e,n),s=Et(s),i=i(s),e.flags|=1,Ye(t,e,i,n),e.child;case 14:return i=e.type,s=Rt(i,e.pendingProps),s=Rt(i.type,s),kf(t,e,i,s,n);case 15:return Jm(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Rt(i,s),No(t,e),e.tag=1,at(i)?(t=!0,qo(e)):t=!1,Yr(e,n),qm(e,i,s),ju(e,i,s,n),Ru(null,e,i,!0,t,n);case 19:return tg(t,e,n);case 22:return Ym(t,e,n)}throw Error(B(156,e.tag))};function vg(t,e){return Hp(t,e)}function dw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(t,e,n,i){return new dw(t,e,n,i)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fw(t){if(typeof t=="function")return Jc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mc)return 11;if(t===gc)return 14}return 2}function zn(t,e){var n=t.alternate;return n===null?(n=St(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Io(t,e,n,i,s,a){var u=2;if(i=t,typeof t=="function")Jc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Mr:return ar(n.children,s,a,e);case pc:u=8,s|=8;break;case eu:return t=St(12,n,e,s|2),t.elementType=eu,t.lanes=a,t;case tu:return t=St(13,n,e,s),t.elementType=tu,t.lanes=a,t;case nu:return t=St(19,n,e,s),t.elementType=nu,t.lanes=a,t;case Tp:return ka(n,s,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pp:u=10;break e;case Ep:u=9;break e;case mc:u=11;break e;case gc:u=14;break e;case kn:u=16,i=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=St(u,n,e,s),e.elementType=t,e.type=i,e.lanes=a,e}function ar(t,e,n,i){return t=St(7,t,i,e),t.lanes=n,t}function ka(t,e,n,i){return t=St(22,t,i,e),t.elementType=Tp,t.lanes=n,t.stateNode={isHidden:!1},t}function $l(t,e,n){return t=St(6,t,null,e),t.lanes=n,t}function Bl(t,e,n){return e=St(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pw(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yc(t,e,n,i,s,a,u,d,h){return t=new pw(t,e,n,d,h),e===1?(e=1,a===!0&&(e|=8)):e=0,a=St(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ic(a),t}function mw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function _g(t){if(!t)return $n;t=t._reactInternals;e:{if(pr(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(at(n))return _m(t,n,e)}return e}function yg(t,e,n,i,s,a,u,d,h){return t=Yc(n,i,!0,t,s,a,u,d,h),t.context=_g(null),n=t.current,i=Qe(),s=Mn(n),a=ln(i,s),a.callback=e??null,In(n,a,s),t.current.lanes=s,Ss(t,s,i),lt(t,i),t}function Sa(t,e,n,i){var s=e.current,a=Qe(),u=Mn(s);return n=_g(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(a,u),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=In(s,e,u),t!==null&&(Dt(t,s,u,a),Co(t,s,u)),u}function oa(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Af(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qc(t,e){Af(t,e),(t=t.alternate)&&Af(t,e)}function gw(){return null}var wg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xc(t){this._internalRoot=t}Pa.prototype.render=Xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Sa(t,e,null,null)};Pa.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dr(function(){Sa(null,t,null,null)}),e[dn]=null}};function Pa(t){this._internalRoot=t}Pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Pn.length&&e!==0&&e<Pn[n].priority;n++);Pn.splice(n,0,t),n===0&&Xp(t)}};function eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Mf(){}function vw(t,e,n,i,s){if(s){if(typeof i=="function"){var a=i;i=function(){var p=oa(u);a.call(p)}}var u=yg(e,i,t,0,null,!1,!1,"",Mf);return t._reactRootContainer=u,t[dn]=u.current,hs(t.nodeType===8?t.parentNode:t),dr(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var d=i;i=function(){var p=oa(h);d.call(p)}}var h=Yc(t,0,!1,null,null,!1,!1,"",Mf);return t._reactRootContainer=h,t[dn]=h.current,hs(t.nodeType===8?t.parentNode:t),dr(function(){Sa(e,h,n,i)}),h}function Ta(t,e,n,i,s){var a=n._reactRootContainer;if(a){var u=a;if(typeof s=="function"){var d=s;s=function(){var h=oa(u);d.call(h)}}Sa(e,u,t,s)}else u=vw(n,e,t,s,i);return oa(u)}Kp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ui(e.pendingLanes);n!==0&&(yc(e,n|1),lt(e,Te()),!(ae&6)&&(si=Te()+500,Fn()))}break;case 13:dr(function(){var i=fn(t,1);if(i!==null){var s=Qe();Dt(i,t,1,s)}}),Qc(t,1)}};wc=function(t){if(t.tag===13){var e=fn(t,134217728);if(e!==null){var n=Qe();Dt(e,t,134217728,n)}Qc(t,134217728)}};Jp=function(t){if(t.tag===13){var e=Mn(t),n=fn(t,e);if(n!==null){var i=Qe();Dt(n,t,e,i)}Qc(t,e)}};Yp=function(){return ue};Qp=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};du=function(t,e,n){switch(e){case"input":if(su(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=va(i);if(!s)throw Error(B(90));Lp(i),su(i,s)}}}break;case"textarea":Np(t,n);break;case"select":e=n.value,e!=null&&qr(t,!!n.multiple,e,!1)}};Dp=qc;$p=dr;var _w={usingClientEntryPoint:!1,Events:[Es,Br,va,Mp,zp,qc]},Mi={findFiberByHostInstance:rr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yw={bundleType:Mi.bundleType,version:Mi.version,rendererPackageName:Mi.rendererPackageName,rendererConfig:Mi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Fp(t),t===null?null:t.stateNode},findFiberByHostInstance:Mi.findFiberByHostInstance||gw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{fa=vo.inject(yw),Gt=vo}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_w;mt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eh(e))throw Error(B(200));return mw(t,e,null,n)};mt.createRoot=function(t,e){if(!eh(t))throw Error(B(299));var n=!1,i="",s=wg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Yc(t,1,!1,null,null,n,!1,i,s),t[dn]=e.current,hs(t.nodeType===8?t.parentNode:t),new Xc(e)};mt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Fp(e),t=t===null?null:t.stateNode,t};mt.flushSync=function(t){return dr(t)};mt.hydrate=function(t,e,n){if(!Ea(e))throw Error(B(200));return Ta(null,t,e,!0,n)};mt.hydrateRoot=function(t,e,n){if(!eh(t))throw Error(B(405));var i=n!=null&&n.hydratedSources||null,s=!1,a="",u=wg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=yg(e,null,t,1,n??null,s,!1,a,u),t[dn]=e.current,hs(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Pa(e)};mt.render=function(t,e,n){if(!Ea(e))throw Error(B(200));return Ta(null,t,e,!1,n)};mt.unmountComponentAtNode=function(t){if(!Ea(t))throw Error(B(40));return t._reactRootContainer?(dr(function(){Ta(null,null,t,!1,function(){t._reactRootContainer=null,t[dn]=null})}),!0):!1};mt.unstable_batchedUpdates=qc;mt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Ea(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Ta(t,e,n,!1,i)};mt.version="18.3.1-next-f1338f8080-20240426";function xg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xg)}catch(t){console.error(t)}}xg(),xp.exports=mt;var ww=xp.exports,bg,zf=ww;bg=zf.createRoot,zf.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Df="popstate";function xw(t={}){function e(i,s){let{pathname:a,search:u,hash:d}=i.location;return Wu("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){return typeof s=="string"?s:ws(s)}return kw(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ct(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bw(){return Math.random().toString(36).substring(2,10)}function $f(t,e){return{usr:t.state,key:t.key,idx:e}}function Wu(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ci(e):e,state:n,key:e&&e.key||i||bw()}}function ws({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ci(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function kw(t,e,n,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,d="POP",h=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){d="POP";let O=g(),b=O==null?null:O-p;p=O,h&&h({action:d,location:E.location,delta:b})}function w(O,b){d="PUSH";let y=Wu(E.location,O,b);p=g()+1;let x=$f(y,p),j=E.createHref(y);try{u.pushState(x,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(j)}a&&h&&h({action:d,location:E.location,delta:1})}function k(O,b){d="REPLACE";let y=Wu(E.location,O,b);p=g();let x=$f(y,p),j=E.createHref(y);u.replaceState(x,"",j),a&&h&&h({action:d,location:E.location,delta:0})}function T(O){return Sw(O)}let E={get action(){return d},get location(){return t(s,u)},listen(O){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Df,v),h=O,()=>{s.removeEventListener(Df,v),h=null}},createHref(O){return e(s,O)},createURL:T,encodeLocation(O){let b=T(O);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:w,replace:k,go(O){return u.go(O)}};return E}function Sw(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ve(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:ws(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function kg(t,e,n="/"){return Pw(t,e,n,!1)}function Pw(t,e,n,i){let s=typeof e=="string"?ci(e):e,a=mn(s.pathname||"/",n);if(a==null)return null;let u=Sg(t);Ew(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=zw(a);d=Aw(u[h],p,i)}return d}function Sg(t,e=[],n=[],i="",s=!1){let a=(u,d,h=s,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&h)return;ve(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=un([i,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(ve(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Sg(u.children,e,w,v,h)),!(u.path==null&&!u.index)&&e.push({path:v,score:Rw(v,u.index),routesMeta:w})};return t.forEach((u,d)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))a(u,d);else for(let p of Pg(u.path))a(u,d,!0,p)}),e}function Pg(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let u=Pg(i.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),s&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function Ew(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Iw(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Tw=/^:[\w-]+$/,Cw=3,Lw=2,jw=1,Nw=10,Ow=-2,Bf=t=>t==="*";function Rw(t,e){let n=t.split("/"),i=n.length;return n.some(Bf)&&(i+=Ow),e&&(i+=Lw),n.filter(s=>!Bf(s)).reduce((s,a)=>s+(Tw.test(a)?Cw:a===""?jw:Nw),i)}function Iw(t,e){return t.length===e.length&&t.slice(0,-1).every((i,s)=>i===e[s])?t[t.length-1]-e[e.length-1]:0}function Aw(t,e,n=!1){let{routesMeta:i}=t,s={},a="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,g=a==="/"?e:e.slice(a.length)||"/",v=aa({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),w=h.route;if(!v&&p&&n&&!i[i.length-1].route.index&&(v=aa({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!v)return null;Object.assign(s,v.params),u.push({params:s,pathname:un([a,v.pathname]),pathnameBase:Uw(un([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=un([a,v.pathnameBase]))}return u}function aa(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=Mw(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let T=d[w]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const k=d[w];return v&&!k?p[g]=void 0:p[g]=(k||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function Mw(t,e=!1,n=!0){Ct(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function zw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ct(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function mn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}var Eg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dw=t=>Eg.test(t);function $w(t,e="/"){let{pathname:n,search:i="",hash:s=""}=typeof t=="string"?ci(t):t,a;if(n)if(Dw(n))a=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ct(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?a=Uf(n.substring(1),"/"):a=Uf(n,e)}else a=e;return{pathname:a,search:Fw(i),hash:Zw(s)}}function Uf(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ul(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function th(t){let e=Bw(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function nh(t,e,n,i=!1){let s;typeof t=="string"?s=ci(t):(s={...t},ve(!s.pathname||!s.pathname.includes("?"),Ul("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),Ul("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),Ul("#","search","hash",s)));let a=t===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}d=v>=0?e[v]:"/"}let h=$w(s,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var un=t=>t.join("/").replace(/\/\/+/g,"/"),Uw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Zw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Hw=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ww(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function Vw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Tg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cg(t,e){let n=t;if(typeof n!="string"||!Eg.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,s=!1;if(Tg)try{let a=new URL(window.location.href),u=n.startsWith("//")?new URL(a.protocol+n):new URL(n),d=mn(u.pathname,e);u.origin===a.origin&&d!=null?n=d+u.search+u.hash:s=!0}catch{Ct(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:s,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lg=["POST","PUT","PATCH","DELETE"];new Set(Lg);var qw=["GET",...Lg];new Set(qw);var hi=P.createContext(null);hi.displayName="DataRouter";var Ca=P.createContext(null);Ca.displayName="DataRouterState";var Gw=P.createContext(!1),jg=P.createContext({isTransitioning:!1});jg.displayName="ViewTransition";var Kw=P.createContext(new Map);Kw.displayName="Fetchers";var Jw=P.createContext(null);Jw.displayName="Await";var vt=P.createContext(null);vt.displayName="Navigation";var Cs=P.createContext(null);Cs.displayName="Location";var Jt=P.createContext({outlet:null,matches:[],isDataRoute:!1});Jt.displayName="Route";var rh=P.createContext(null);rh.displayName="RouteError";var Ng="REACT_ROUTER_ERROR",Yw="REDIRECT",Qw="ROUTE_ERROR_RESPONSE";function Xw(t){if(t.startsWith(`${Ng}:${Yw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ex(t){if(t.startsWith(`${Ng}:${Qw}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Hw(e.status,e.statusText,e.data)}catch{}}function tx(t,{relative:e}={}){ve(di(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(vt),{hash:s,pathname:a,search:u}=js(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:un([n,a])),i.createHref({pathname:d,search:u,hash:s})}function di(){return P.useContext(Cs)!=null}function Zn(){return ve(di(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Cs).location}var Og="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Rg(t){P.useContext(vt).static||P.useLayoutEffect(t)}function Ls(){let{isDataRoute:t}=P.useContext(Jt);return t?px():nx()}function nx(){ve(di(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(hi),{basename:e,navigator:n}=P.useContext(vt),{matches:i}=P.useContext(Jt),{pathname:s}=Zn(),a=JSON.stringify(th(i)),u=P.useRef(!1);return Rg(()=>{u.current=!0}),P.useCallback((h,p={})=>{if(Ct(u.current,Og),!u.current)return;if(typeof h=="number"){n.go(h);return}let g=nh(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:un([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}P.createContext(null);function js(t,{relative:e}={}){let{matches:n}=P.useContext(Jt),{pathname:i}=Zn(),s=JSON.stringify(th(n));return P.useMemo(()=>nh(t,JSON.parse(s),i,e==="path"),[t,s,i,e])}function rx(t,e){return Ig(t,e)}function Ig(t,e,n,i,s){var y;ve(di(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=P.useContext(vt),{matches:u}=P.useContext(Jt),d=u[u.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let x=v&&v.path||"";Mg(p,!v||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let w=Zn(),k;if(e){let x=typeof e=="string"?ci(e):e;ve(g==="/"||((y=x.pathname)==null?void 0:y.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${x.pathname}" was given in the \`location\` prop.`),k=x}else k=w;let T=k.pathname||"/",E=T;if(g!=="/"){let x=g.replace(/^\//,"").split("/");E="/"+T.replace(/^\//,"").split("/").slice(x.length).join("/")}let O=kg(t,{pathname:E});Ct(v||O!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),Ct(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=lx(O&&O.map(x=>Object.assign({},x,{params:Object.assign({},h,x.params),pathname:un([g,a.encodeLocation?a.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?g:un([g,a.encodeLocation?a.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),u,n,i,s);return e&&b?P.createElement(Cs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},b):b}function ix(){let t=fx(),e=Ww(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,u)}var sx=P.createElement(ix,null),Ag=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=ex(t.digest);n&&(t=n)}let e=t!==void 0?P.createElement(Jt.Provider,{value:this.props.routeContext},P.createElement(rh.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?P.createElement(ox,{error:t},e):e}};Ag.contextType=Gw;var Fl=new WeakMap;function ox({children:t,error:e}){let{basename:n}=P.useContext(vt);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Xw(e.digest);if(i){let s=Fl.get(e);if(s)throw s;let a=Cg(i.location,n);if(Tg&&!Fl.get(e))if(a.isExternal||i.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:i.replace}));throw Fl.set(e,u),u}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function ax({routeContext:t,match:e,children:n}){let i=P.useContext(hi);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Jt.Provider,{value:t},n)}function lx(t,e=[],n=null,i=null,s=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);ve(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=g),v.route.id){let{loaderData:w,errors:k}=n,T=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!k||k[v.route.id]===void 0);if(v.route.lazy||T){d=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}let p=n&&i?(g,v)=>{var w,k;i(g,{location:n.location,params:((k=(w=n.matches)==null?void 0:w[0])==null?void 0:k.params)??{},unstable_pattern:Vw(n.matches),errorInfo:v})}:void 0;return a.reduceRight((g,v,w)=>{let k,T=!1,E=null,O=null;n&&(k=u&&v.route.id?u[v.route.id]:void 0,E=v.route.errorElement||sx,d&&(h<0&&w===0?(Mg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,O=null):h===w&&(T=!0,O=v.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,w+1)),y=()=>{let x;return k?x=E:T?x=O:v.route.Component?x=P.createElement(v.route.Component,null):v.route.element?x=v.route.element:x=g,P.createElement(ax,{match:v,routeContext:{outlet:g,matches:b,isDataRoute:n!=null},children:x})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?P.createElement(Ag,{location:n.location,revalidation:n.revalidation,component:E,error:k,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:p}):y()},null)}function ih(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ux(t){let e=P.useContext(hi);return ve(e,ih(t)),e}function cx(t){let e=P.useContext(Ca);return ve(e,ih(t)),e}function hx(t){let e=P.useContext(Jt);return ve(e,ih(t)),e}function sh(t){let e=hx(t),n=e.matches[e.matches.length-1];return ve(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function dx(){return sh("useRouteId")}function fx(){var i;let t=P.useContext(rh),e=cx("useRouteError"),n=sh("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function px(){let{router:t}=ux("useNavigate"),e=sh("useNavigate"),n=P.useRef(!1);return Rg(()=>{n.current=!0}),P.useCallback(async(s,a={})=>{Ct(n.current,Og),n.current&&(typeof s=="number"?await t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var Ff={};function Mg(t,e,n){!e&&!Ff[t]&&(Ff[t]=!0,Ct(!1,n))}P.memo(mx);function mx({routes:t,future:e,state:n,onError:i}){return Ig(t,void 0,n,i,e)}function oh({to:t,replace:e,state:n,relative:i}){ve(di(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(vt);Ct(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=P.useContext(Jt),{pathname:u}=Zn(),d=Ls(),h=nh(t,th(a),u,i==="path"),p=JSON.stringify(h);return P.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:i})},[d,p,i,e,n]),null}function Or(t){ve(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gx({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:s,static:a=!1,unstable_useTransitions:u}){ve(!di(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:d,navigator:s,static:a,unstable_useTransitions:u,future:{}}),[d,s,a,u]);typeof n=="string"&&(n=ci(n));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:k="default"}=n,T=P.useMemo(()=>{let E=mn(p,d);return E==null?null:{location:{pathname:E,search:g,hash:v,state:w,key:k},navigationType:i}},[d,p,g,v,w,k,i]);return Ct(T!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:P.createElement(vt.Provider,{value:h},P.createElement(Cs.Provider,{children:e,value:T}))}function vx({children:t,location:e}){return rx(Vu(t),e)}function Vu(t,e=[]){let n=[];return P.Children.forEach(t,(i,s)=>{if(!P.isValidElement(i))return;let a=[...e,s];if(i.type===P.Fragment){n.push.apply(n,Vu(i.props.children,a));return}ve(i.type===Or,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ve(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Vu(i.props.children,a)),n.push(u)}),n}var Ao="get",Mo="application/x-www-form-urlencoded";function La(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function _x(t){return La(t)&&t.tagName.toLowerCase()==="button"}function yx(t){return La(t)&&t.tagName.toLowerCase()==="form"}function wx(t){return La(t)&&t.tagName.toLowerCase()==="input"}function xx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function bx(t,e){return t.button===0&&(!e||e==="_self")&&!xx(t)}var _o=null;function kx(){if(_o===null)try{new FormData(document.createElement("form"),0),_o=!1}catch{_o=!0}return _o}var Sx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zl(t){return t!=null&&!Sx.has(t)?(Ct(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mo}"`),null):t}function Px(t,e){let n,i,s,a,u;if(yx(t)){let d=t.getAttribute("action");i=d?mn(d,e):null,n=t.getAttribute("method")||Ao,s=Zl(t.getAttribute("enctype"))||Mo,a=new FormData(t)}else if(_x(t)||wx(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?mn(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Ao,s=Zl(t.getAttribute("formenctype"))||Zl(d.getAttribute("enctype"))||Mo,a=new FormData(d,t),!kx()){let{name:p,type:g,value:v}=t;if(g==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,v)}}else{if(La(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ao,i=null,s=Mo,u=t}return a&&s==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ah(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ex(t,e,n,i){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${i}`:s.pathname=`${s.pathname}.${i}`:s.pathname==="/"?s.pathname=`_root.${i}`:e&&mn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function Tx(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Cx(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Lx(t,e,n){let i=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await Tx(a,n);return u.links?u.links():[]}return[]}));return Rx(i.flat(1).filter(Cx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Zf(t,e,n,i,s,a){let u=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>u(h,p)||d(h,p)):a==="data"?e.filter((h,p)=>{var v;let g=i.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let w=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function jx(t,e,{includeHydrateFallback:n}={}){return Nx(t.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Nx(t){return[...new Set(t)]}function Ox(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Rx(t,e){let n=new Set;return new Set(e),t.reduce((i,s)=>{let a=JSON.stringify(Ox(s));return n.has(a)||(n.add(a),i.push({key:a,link:s})),i},[])}function zg(){let t=P.useContext(hi);return ah(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ix(){let t=P.useContext(Ca);return ah(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lh=P.createContext(void 0);lh.displayName="FrameworkContext";function Dg(){let t=P.useContext(lh);return ah(t,"You must render this element inside a <HydratedRouter> element"),t}function Ax(t,e){let n=P.useContext(lh),[i,s]=P.useState(!1),[a,u]=P.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,w=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=b=>{b.forEach(y=>{u(y.isIntersecting)})},O=new IntersectionObserver(E,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[t]),P.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let k=()=>{s(!0)},T=()=>{s(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:zi(d,k),onBlur:zi(h,T),onMouseEnter:zi(p,k),onMouseLeave:zi(g,T),onTouchStart:zi(v,k)}]:[!1,w,{}]}function zi(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Mx({page:t,...e}){let{router:n}=zg(),i=P.useMemo(()=>kg(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?P.createElement(Dx,{page:t,matches:i,...e}):null}function zx(t){let{manifest:e,routeModules:n}=Dg(),[i,s]=P.useState([]);return P.useEffect(()=>{let a=!1;return Lx(t,e,n).then(u=>{a||s(u)}),()=>{a=!0}},[t,e,n]),i}function Dx({page:t,matches:e,...n}){let i=Zn(),{future:s,manifest:a,routeModules:u}=Dg(),{basename:d}=zg(),{loaderData:h,matches:p}=Ix(),g=P.useMemo(()=>Zf(t,e,p,a,i,"data"),[t,e,p,a,i]),v=P.useMemo(()=>Zf(t,e,p,a,i,"assets"),[t,e,p,a,i]),w=P.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let E=new Set,O=!1;if(e.forEach(y=>{var j;let x=a.routes[y.route.id];!x||!x.hasLoader||(!g.some(M=>M.route.id===y.route.id)&&y.route.id in h&&((j=u[y.route.id])!=null&&j.shouldRevalidate)||x.hasClientLoader?O=!0:E.add(y.route.id))}),E.size===0)return[];let b=Ex(t,d,s.unstable_trailingSlashAwareDataRequests,"data");return O&&E.size>0&&b.searchParams.set("_routes",e.filter(y=>E.has(y.route.id)).map(y=>y.route.id).join(",")),[b.pathname+b.search]},[d,s.unstable_trailingSlashAwareDataRequests,h,i,a,g,e,t,u]),k=P.useMemo(()=>jx(v,a),[v,a]),T=zx(v);return P.createElement(P.Fragment,null,w.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...n})),k.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...n})),T.map(({key:E,link:O})=>P.createElement("link",{key:E,nonce:n.nonce,...O})))}function $x(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Bx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Bx&&(window.__reactRouterVersion="7.12.0")}catch{}function Ux({basename:t,children:e,unstable_useTransitions:n,window:i}){let s=P.useRef();s.current==null&&(s.current=xw({window:i,v5Compat:!0}));let a=s.current,[u,d]=P.useState({action:a.action,location:a.location}),h=P.useCallback(p=>{n===!1?d(p):P.startTransition(()=>d(p))},[n]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.createElement(gx,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:n})}var $g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xi=P.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:s,reloadDocument:a,replace:u,state:d,target:h,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...k},T){let{basename:E,unstable_useTransitions:O}=P.useContext(vt),b=typeof p=="string"&&$g.test(p),y=Cg(p,E);p=y.to;let x=tx(p,{relative:s}),[j,M,D]=Ax(i,k),$=Wx(p,{replace:u,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:O});function U(G){e&&e(G),G.defaultPrevented||$(G)}let X=P.createElement("a",{...k,...D,href:y.absoluteURL||x,onClick:y.isExternal||a?e:U,ref:$x(T,M),target:h,"data-discover":!b&&n==="render"?"true":void 0});return j&&!b?P.createElement(P.Fragment,null,X,P.createElement(Mx,{page:x})):X});Xi.displayName="Link";var Fx=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:s=!1,style:a,to:u,viewTransition:d,children:h,...p},g){let v=js(u,{relative:p.relative}),w=Zn(),k=P.useContext(Ca),{navigator:T,basename:E}=P.useContext(vt),O=k!=null&&Jx(v)&&d===!0,b=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,y=w.pathname,x=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,b=b.toLowerCase()),x&&E&&(x=mn(x,E)||x);const j=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let M=y===b||!s&&y.startsWith(b)&&y.charAt(j)==="/",D=x!=null&&(x===b||!s&&x.startsWith(b)&&x.charAt(b.length)==="/"),$={isActive:M,isPending:D,isTransitioning:O},U=M?e:void 0,X;typeof i=="function"?X=i($):X=[i,M?"active":null,D?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a($):a;return P.createElement(Xi,{...p,"aria-current":U,className:X,ref:g,style:G,to:u,viewTransition:d},typeof h=="function"?h($):h)});Fx.displayName="NavLink";var Zx=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:s,state:a,method:u=Ao,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,...k},T)=>{let{unstable_useTransitions:E}=P.useContext(vt),O=Gx(),b=Kx(d,{relative:p}),y=u.toLowerCase()==="get"?"get":"post",x=typeof d=="string"&&$g.test(d),j=M=>{if(h&&h(M),M.defaultPrevented)return;M.preventDefault();let D=M.nativeEvent.submitter,$=(D==null?void 0:D.getAttribute("formmethod"))||u,U=()=>O(D||M.currentTarget,{fetcherKey:e,method:$,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});E&&n!==!1?P.startTransition(()=>U()):U()};return P.createElement("form",{ref:T,method:y,action:b,onSubmit:i?h:j,...k,"data-discover":!x&&t==="render"?"true":void 0})});Zx.displayName="Form";function Hx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Bg(t){let e=P.useContext(hi);return ve(e,Hx(t)),e}function Wx(t,{target:e,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=Ls(),g=Zn(),v=js(t,{relative:a});return P.useCallback(w=>{if(bx(w,e)){w.preventDefault();let k=n!==void 0?n:ws(g)===ws(v),T=()=>p(t,{replace:k,state:i,preventScrollReset:s,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});h?P.startTransition(()=>T()):T()}},[g,p,v,n,i,e,t,s,a,u,d,h])}var Vx=0,qx=()=>`__${String(++Vx)}__`;function Gx(){let{router:t}=Bg("useSubmit"),{basename:e}=P.useContext(vt),n=dx(),i=t.fetch,s=t.navigate;return P.useCallback(async(a,u={})=>{let{action:d,method:h,encType:p,formData:g,body:v}=Px(a,e);if(u.navigate===!1){let w=u.fetcherKey||qx();await i(w,n,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||h,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:v,formMethod:u.method||h,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,n])}function Kx(t,{relative:e}={}){let{basename:n}=P.useContext(vt),i=P.useContext(Jt);ve(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...js(t||".",{relative:e})},u=Zn();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:un([n,a.pathname])),ws(a)}function Jx(t,{relative:e}={}){let n=P.useContext(jg);ve(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Bg("useViewTransitionState"),s=js(t,{relative:e});if(!n.isTransitioning)return!1;let a=mn(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=mn(n.nextLocation.pathname,i)||n.nextLocation.pathname;return aa(s.pathname,u)!=null||aa(s.pathname,a)!=null}const Yx="modulepreload",Qx=function(t){return"/taxi-patrice/"+t},Hf={},Ns=function(e,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=Promise.allSettled(n.map(h=>{if(h=Qx(h),h in Hf)return;Hf[h]=!0;const p=h.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Yx,p||(v.as="script"),v.crossOrigin="",v.href=h,d&&v.setAttribute("nonce",d),document.head.appendChild(v),p)return new Promise((w,k)=>{v.addEventListener("load",w),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})},Xx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ns(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},[]).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class uh extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class e1 extends uh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Wf extends uh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Vf extends uh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qu||(qu={}));var t1=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};class n1{constructor(e,{headers:n={},customFetch:i,region:s=qu.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Xx(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return t1(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:u}=n;let d={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${e}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(E=>{throw new e1(E)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Wf(v);if(!v.ok)throw new Vf(v);let k=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),T;return k==="application/json"?T=yield v.json():k==="application/octet-stream"?T=yield v.blob():k==="text/event-stream"?T=v:k==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof Vf||s instanceof Wf?s.context:void 0}}})}}var it={},ch={},ja={},Os={},Na={},Oa={},r1=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},oi=r1();const i1=oi.fetch,Ug=oi.fetch.bind(oi),Fg=oi.Headers,s1=oi.Request,o1=oi.Response,fi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fg,Request:s1,Response:o1,default:Ug,fetch:i1},Symbol.toStringTag,{value:"Module"})),a1=G_(fi);var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});let l1=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ra.default=l1;var Zg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Oa,"__esModule",{value:!0});const u1=Zg(a1),c1=Zg(Ra);let h1=class{constructor(e){var n,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(i=e.isMaybeSingle)!==null&&i!==void 0?i:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=u1.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,d,h,p;let g=null,v=null,w=null,k=a.status,T=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=y:v=JSON.parse(y))}const O=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");O&&b&&b.length>1&&(w=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,k=406,T="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const O=await a.text();try{g=JSON.parse(O),Array.isArray(g)&&a.status===404&&(v=[],g=null,k=200,T="OK")}catch{a.status===404&&O===""?(k=204,T="No Content"):g={message:O}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,k=200,T="OK"),g&&this.shouldThrowOnError)throw new c1.default(g)}return{error:g,data:v,count:w,status:k,statusText:T}});return this.shouldThrowOnError||(s=s.catch(a=>{var u,d,h;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(d=a==null?void 0:a.stack)!==null&&d!==void 0?d:""}`,hint:"",code:`${(h=a==null?void 0:a.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Oa.default=h1;var d1=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Na,"__esModule",{value:!0});const f1=d1(Oa);let p1=class extends f1.default{select(e){let n=!1;const i=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:s,referencedTable:a=s}={}){const u=a?`${a}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${e}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:i,referencedTable:s=i}={}){const a=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:s=!1,wal:a=!1,format:u="text"}={}){var d;const h=[e?"analyze":null,n?"verbose":null,i?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Na.default=p1;var m1=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Os,"__esModule",{value:!0});const g1=m1(Na);let v1=class extends g1.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const i=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(e,n,i){return this.url.searchParams.append(e,`not.${n}.${i}`),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,i){return this.url.searchParams.append(e,`${n}.${i}`),this}};Os.default=v1;var _1=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ja,"__esModule",{value:!0});const Di=_1(Os);let y1=class{constructor(e,{headers:n={},schema:i,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=i,this.fetch=s}select(e,{head:n=!1,count:i}={}){const s=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join("");return this.url.searchParams.set("select",u),i&&this.headers.append("Prefer",`count=${i}`),new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:i=!0}={}){var s;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Di.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:s,defaultToNull:a=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const h=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(h.length>0){const p=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Di.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var i;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Di.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:e}={}){var n;const i="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Di.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ja.default=y1;var Hg=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ch,"__esModule",{value:!0});const w1=Hg(ja),x1=Hg(Os);let b1=class Wg{constructor(e,{headers:n={},schema:i,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=i,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new w1.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Wg(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:s=!1,count:a}={}){var u;let d;const h=new URL(`${this.url}/rpc/${e}`);let p;i||s?(d=i?"HEAD":"GET",Object.entries(n).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{h.searchParams.append(v,w)})):(d="POST",p=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new x1.default({method:d,url:h,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};ch.default=b1;var pi=ft&&ft.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(it,"__esModule",{value:!0});it.PostgrestError=it.PostgrestBuilder=it.PostgrestTransformBuilder=it.PostgrestFilterBuilder=it.PostgrestQueryBuilder=it.PostgrestClient=void 0;const Vg=pi(ch);it.PostgrestClient=Vg.default;const qg=pi(ja);it.PostgrestQueryBuilder=qg.default;const Gg=pi(Os);it.PostgrestFilterBuilder=Gg.default;const Kg=pi(Na);it.PostgrestTransformBuilder=Kg.default;const Jg=pi(Oa);it.PostgrestBuilder=Jg.default;const Yg=pi(Ra);it.PostgrestError=Yg.default;var k1=it.default={PostgrestClient:Vg.default,PostgrestQueryBuilder:qg.default,PostgrestFilterBuilder:Gg.default,PostgrestTransformBuilder:Kg.default,PostgrestBuilder:Jg.default,PostgrestError:Yg.default};const{PostgrestClient:S1,PostgrestQueryBuilder:iS,PostgrestFilterBuilder:sS,PostgrestTransformBuilder:oS,PostgrestBuilder:aS,PostgrestError:lS}=k1;class P1{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const E1="2.15.5",T1=`realtime-js/${E1}`,C1="1.0.0",Gu=1e4,L1=1e3,j1=100;var es;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(es||(es={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var At;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(At||(At={}));var Ku;(function(t){t.websocket="websocket"})(Ku||(Ku={}));var nr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nr||(nr={}));class N1{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const s=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(e.slice(u,u+s));u=u+s;const h=i.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:d,event:h,payload:p}}}class Qg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(he||(he={}));const qf=(t,e,n={})=>{var i;const s=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,u)=>(a[u]=O1(u,t,e,s),a),{})},O1=(t,e,n,i)=>{const s=e.find(d=>d.name===t),a=s==null?void 0:s.type,u=n[t];return a&&!i.includes(a)?Xg(a,u):Ju(u)},Xg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return M1(e,n)}switch(t){case he.bool:return R1(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return I1(e);case he.json:case he.jsonb:return A1(e);case he.timestamp:return z1(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return Ju(e);default:return Ju(e)}},Ju=t=>t,R1=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},I1=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A1=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},M1=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(d=>Xg(e,d))}return t},z1=t=>typeof t=="string"?t.replace(" ","T"):t,ev=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Hl{constructor(e,n,i={},s=Gu){this.channel=e,this.event=n,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Gf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Gf||(Gf={}));class ts{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,s,a,u),this.pendingDiffs.forEach(h=>{this.state=ts.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},s=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ts.syncDiff(this.state,s,a,u),d())}),this.onJoin((s,a,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:u})}),this.onLeave((s,a,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,s){const a=this.cloneDeep(e),u=this.transformState(n),d={},h={};return this.map(a,(p,g)=>{u[p]||(h[p]=g)}),this.map(u,(p,g)=>{const v=a[p];if(v){const w=g.map(O=>O.presence_ref),k=v.map(O=>O.presence_ref),T=g.filter(O=>k.indexOf(O.presence_ref)<0),E=v.filter(O=>w.indexOf(O.presence_ref)<0);T.length>0&&(d[p]=T),E.length>0&&(h[p]=E)}else d[p]=g}),this.syncDiff(a,{joins:d,leaves:h},i,s)}static syncDiff(e,n,i,s){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(a,(d,h)=>{var p;const g=(p=e[d])!==null&&p!==void 0?p:[];if(e[d]=this.cloneDeep(h),g.length>0){const v=e[d].map(k=>k.presence_ref),w=g.filter(k=>v.indexOf(k.presence_ref)<0);e[d].unshift(...w)}i(d,g,h)}),this.map(u,(d,h)=>{let p=e[d];if(!p)return;const g=h.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[d]=p,s(d,p,h),p.length===0&&delete e[d]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const s=e[i];return"metas"in s?n[i]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Kf||(Kf={}));var ns;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ns||(ns={}));var rn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class hh{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hl(this,At.join,this.params,this.timeout),this.rejoinTimer=new Qg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(At.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new ts(this),this.broadcastEndpointURL=ev(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,p=(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(k=>k.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[ns.PRESENCE]&&this.bindings[ns.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(k=>e==null?void 0:e(rn.CHANNEL_ERROR,k)),this._onClose(()=>e==null?void 0:e(rn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var T;if(this.socket.setAuth(),k===void 0){e==null||e(rn.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,O=(T=E==null?void 0:E.length)!==null&&T!==void 0?T:0,b=[];for(let y=0;y<O;y++){const x=E[y],{filter:{event:j,schema:M,table:D,filter:$}}=x,U=k&&k[y];if(U&&U.event===j&&U.schema===M&&U.table===D&&U.filter===$)b.push(Object.assign(Object.assign({},x),{id:U.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(rn.SUBSCRIBED);return}}).receive("error",k=>{this.state=Oe.errored,e==null||e(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Oe.joined&&e===ns.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async send(e,n={}){var i,s;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(At.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(s=>{i=new Hl(this,At.leave,{},e),i.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const s=new AbortController,a=setTimeout(()=>s.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(a),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Hl(this,e,n,i);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>j1){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var s,a;const u=e.toLocaleLowerCase(),{close:d,error:h,leave:p,join:g}=At;if(i&&[d,h,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(k=>{var T,E,O;return((T=k.filter)===null||T===void 0?void 0:T.event)==="*"||((O=(E=k.filter)===null||E===void 0?void 0:E.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(k=>k.callback(w,i)):(a=this.bindings[u])===null||a===void 0||a.filter(k=>{var T,E,O,b,y,x;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in k){const j=k.id,M=(T=k.filter)===null||T===void 0?void 0:T.event;return j&&((E=n.ids)===null||E===void 0?void 0:E.includes(j))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const j=(y=(b=k==null?void 0:k.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return j==="*"||j===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===u}).map(k=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:E,table:O,commit_timestamp:b,type:y,errors:x}=T;w=Object.assign(Object.assign({},{schema:E,table:O,commit_timestamp:b,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(T))}k.callback(w,i)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const s=e.toLocaleLowerCase(),a={type:s,filter:n,callback:i};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&hh.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(At.close,{},e)}_onError(e){this._on(At.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=qf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=qf(e.columns,e.old_record)),n}}const Wl=()=>{},yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},D1=[1e3,2e3,5e3,1e4],$1=1e4,B1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class U1{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Gu,this.transport=null,this.heartbeatIntervalMs=yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wl,this.ref=0,this.reconnectTimer=null,this.logger=Wl,this.conn=null,this.sendBuffer=[],this.serializer=new N1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...u)=>Ns(async()=>{const{default:d}=await Promise.resolve().then(()=>fi);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Ku.websocket}`,this.httpEndpoint=ev(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=P1.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:C1}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case es.connecting:return nr.Connecting;case es.open:return nr.Open;case es.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,s=this.getChannels().find(a=>a.topic===i);if(s)return s;{const a=new hh(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:s,ref:a}=e,u=()=>{this.encode(e,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${a})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(L1,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:s,payload:a,ref:u}=n,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${s} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(s,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(At.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${i}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([B1],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:T1};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(At.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Qg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,s,a,u,d,h,p,g;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Gu,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:yo.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=e==null?void 0:e.heartbeatCallback)!==null&&d!==void 0?d:Wl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:v=>D1[v-1]||$1,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(v,w)=>w(JSON.stringify(v)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class dh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Re(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class F1 extends dh{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Yu extends dh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Z1=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};const tv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ns(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},H1=()=>Z1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ns(()=>Promise.resolve().then(()=>fi),void 0)).Response:Response}),Qu=t=>{if(Array.isArray(t))return t.map(n=>Qu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const s=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[s]=Qu(i)}),e},W1=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var mr=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};const Vl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),V1=(t,e,n)=>mr(void 0,void 0,void 0,function*(){const i=yield H1();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const a=t.status||500,u=(s==null?void 0:s.statusCode)||a+"";e(new F1(Vl(s),a,u))}).catch(s=>{e(new Yu(Vl(s),s))}):e(new Yu(Vl(t),t))}),q1=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?s:(W1(i)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(i)):s.body=i,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Rs(t,e,n,i,s,a){return mr(this,void 0,void 0,function*(){return new Promise((u,d)=>{t(n,q1(e,i,s,a)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>V1(h,d,i))})})}function la(t,e,n,i){return mr(this,void 0,void 0,function*(){return Rs(t,"GET",e,n,i)})}function Vt(t,e,n,i,s){return mr(this,void 0,void 0,function*(){return Rs(t,"POST",e,i,s,n)})}function Xu(t,e,n,i,s){return mr(this,void 0,void 0,function*(){return Rs(t,"PUT",e,i,s,n)})}function G1(t,e,n,i){return mr(this,void 0,void 0,function*(){return Rs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function nv(t,e,n,i,s){return mr(this,void 0,void 0,function*(){return Rs(t,"DELETE",e,i,s,n)})}var Je=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};const K1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class J1{constructor(e,n={},i,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=tv(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,s){return Je(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Jf),s);let d=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s!=null&&s.headers&&(d=Object.assign(Object.assign({},d),s.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),v=yield(e=="PUT"?Xu:Vt)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Re(a))return{data:null,error:a};throw a}})}upload(e,n,i){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,s){return Je(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Jf.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",p.cacheControl)):(h=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield Xu(this.fetch,d.toString(),h,{headers:g});return{data:{path:a,fullPath:v.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Re(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(e,n){return Je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const a=yield Vt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new dh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:d},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i))return{data:null,error:i};throw i}})}update(e,n,i){return Je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Je(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}copy(e,n,i){return Je(this,void 0,void 0,function*(){try{return{data:{path:(yield Vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,i){return Je(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),a=yield Vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,i){return Je(this,void 0,void 0,function*(){try{const s=yield Vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}download(e,n){return Je(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const d=this._getFinalPath(e);return{data:yield(yield la(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Re(d))return{data:null,error:d};throw d}})}info(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield la(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Qu(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i))return{data:null,error:i};throw i}})}exists(e){return Je(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield G1(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i)&&i instanceof Yu){const s=i.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),s=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&s.push(a);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&s.push(h);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${p}`)}}}remove(e){return Je(this,void 0,void 0,function*(){try{return{data:yield nv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}list(e,n,i){return Je(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},K1),n),{prefix:e||""});return{data:yield Vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Re(s))return{data:null,error:s};throw s}})}listV2(e,n){return Je(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Y1="2.12.1",Q1={"X-Client-Info":`storage-js/${Y1}`};var Tr=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};class X1{constructor(e,n={},i,s){this.shouldThrowOnError=!1;const a=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},Q1),n),this.fetch=tv(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Tr(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Re(e))return{data:null,error:e};throw e}})}getBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield la(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Tr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Tr(this,void 0,void 0,function*(){try{return{data:yield Xu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Re(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield nv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Re(n))return{data:null,error:n};throw n}})}}class eb extends X1{constructor(e,n={},i,s){super(e,n,i,s)}from(e){return new J1(this.url,this.headers,e,this.fetch)}}const tb="2.57.4";let Zi="";typeof Deno<"u"?Zi="deno":typeof document<"u"?Zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zi="react-native":Zi="node";const nb={"X-Client-Info":`supabase-js-${Zi}/${tb}`},rb={headers:nb},ib={schema:"public"},sb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ob={};var ab=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};const lb=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ug:e=fetch,(...n)=>e(...n)},ub=()=>typeof Headers>"u"?Fg:Headers,cb=(t,e,n)=>{const i=lb(n),s=ub();return(a,u)=>ab(void 0,void 0,void 0,function*(){var d;const h=(d=yield e())!==null&&d!==void 0?d:t;let p=new s(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(a,Object.assign(Object.assign({},u),{headers:p}))})};var hb=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};function db(t){return t.endsWith("/")?t:t+"/"}function fb(t,e){var n,i;const{db:s,auth:a,realtime:u,global:d}=t,{db:h,auth:p,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>hb(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function pb(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(db(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const rv="2.71.1",Rr=30*1e3,ec=3,ql=ec*Rr,mb="http://localhost:9999",gb="supabase.auth.token",vb={"X-Client-Info":`gotrue-js/${rv}`},tc="X-Supabase-Api-Version",iv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_b=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yb=10*60*1e3;class fh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wb extends fh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function xb(t){return Q(t)&&t.name==="AuthApiError"}class sv extends fh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Hn extends fh{constructor(e,n,i,s){super(e,i,s),this.name=n,this.status=i}}class bn extends Hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bb(t){return Q(t)&&t.name==="AuthSessionMissingError"}class wo extends Hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xo extends Hn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bo extends Hn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kb(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Yf extends Hn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nc extends Hn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Gl(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Qf extends Hn{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class rc extends Hn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xf=` 	
\r=`.split(""),Sb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Xf.length;e+=1)t[Xf[e].charCodeAt(0)]=-2;for(let e=0;e<ua.length;e+=1)t[ua[e].charCodeAt(0)]=e;return t})();function ep(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ua[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ua[i]),e.queuedBits-=6}}function ov(t,e,n){const i=Sb[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function tp(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=u=>{Tb(u,i,n)};for(let u=0;u<t.length;u+=1)ov(t.charCodeAt(u),s,a);return e.join("")}function Pb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Eb(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const s=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Pb(i,e)}}function Tb(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Cb(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)ov(t.charCodeAt(s),n,i);return new Uint8Array(e)}function Lb(t){const e=[];return Eb(t,n=>e.push(n)),new Uint8Array(e)}function jb(t){const e=[],n={queue:0,queuedBits:0},i=s=>{e.push(s)};return t.forEach(s=>ep(s,n,i)),ep(null,n,i),e.join("")}function Nb(t){return Math.round(Date.now()/1e3)+t}function Ob(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ot=()=>typeof window<"u"&&typeof document<"u",Yn={tested:!1,writable:!1},av=()=>{if(!Ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yn.tested)return Yn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yn.tested=!0,Yn.writable=!0}catch{Yn.tested=!0,Yn.writable=!1}return Yn.writable};function Rb(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,a)=>{e[a]=s})}catch{}return n.searchParams.forEach((i,s)=>{e[s]=i}),e}const lv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Ns(async()=>{const{default:i}=await Promise.resolve().then(()=>fi);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},Ib=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Qn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xn=async(t,e)=>{await t.removeItem(e)};class Ia{constructor(){this.promise=new Ia.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ia.promiseConstructor=Promise;function Kl(t){const e=t.split(".");if(e.length!==3)throw new rc("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!_b.test(e[i]))throw new rc("JWT not in base64url format");return{header:JSON.parse(tp(e[0])),payload:JSON.parse(tp(e[1])),signature:Cb(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ab(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Mb(t,e){return new Promise((i,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){i(u);return}}catch(u){if(!e(a,u)){s(u);return}}})()})}function zb(t){return("0"+t.toString(16)).substr(-2)}function Db(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let s="";for(let a=0;a<56;a++)s+=n.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(e),Array.from(e,zb).join("")}async function $b(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Bb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await $b(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Cr(t,e,n=!1){const i=Db();let s=i;n&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const a=await Bb(i);return[a,i===a?"plain":"s256"]}const Ub=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fb(t){const e=t.headers.get(tc);if(!e||!e.match(Ub))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Zb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Hb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lr(t){if(!Wb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Jl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function np(t){return JSON.parse(JSON.stringify(t))}var Vb=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const tr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qb=[502,503,504];async function rp(t){var e;if(!Ib(t))throw new nc(tr(t),0);if(qb.includes(t.status))throw new nc(tr(t),t.status);let n;try{n=await t.json()}catch(a){throw new sv(tr(a),a)}let i;const s=Fb(t);if(s&&s.getTime()>=iv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Qf(tr(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Qf(tr(n),t.status,n.weak_password.reasons);throw new wb(tr(n),t.status||500,i)}const Gb=(t,e,n,i)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),n))};async function re(t,e,n,i){var s;const a=Object.assign({},i==null?void 0:i.headers);a[tc]||(a[tc]=iv["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const u=(s=i==null?void 0:i.query)!==null&&s!==void 0?s:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await Kb(t,e,n+d,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function Kb(t,e,n,i,s,a){const u=Gb(e,i,s,a);let d;try{d=await t(n,Object.assign({},u))}catch(h){throw console.error(h),new nc(tr(h),0)}if(d.ok||await rp(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await rp(h)}}function tn(t){var e;let n=null;Xb(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Nb(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function ip(t){const e=tn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Tn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jb(t){return{data:t,error:null}}function Yb(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a}=t,u=Vb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:e,email_otp:n,hashed_token:i,redirect_to:s,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function Qb(t){return t}function Xb(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yl=["global","local","others"];var ek=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};class tk{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=lv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Yl[0]){if(Yl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yl.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=ek(e,["options"]),s=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(s.new_email=i==null?void 0:i.newEmail,delete s.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Yb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Tn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,s,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},g=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Qb});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,k=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(T.split(";")[1].split("=")[1]);p[`${O}Page`]=E}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Q(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Lr(e);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Tn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Lr(e);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Tn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Lr(e);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Lr(e.userId);try{const{data:n,error:i}=await re(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:i}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Lr(e.userId),Lr(e.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function sp(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function nk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jr={debug:!!(globalThis&&av()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class uv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class rk extends uv{}async function ik(t,e,n){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new rk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}nk();const sk={url:mb,storageKey:gb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function op(t,e,n){return await n()}const Nr={};class xs{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xs.nextInstanceID,xs.nextInstanceID+=1,this.instanceID>0&&Ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sk),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new tk({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=lv(s.fetch),this.lock=s.lock||op,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ot()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ik:this.lock=op,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:av()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sp(this.memoryStorage)),Ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Nr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Nr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Nr[this.storageKey]=Object.assign(Object.assign({},Nr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${rv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Rb(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Ot()&&this.detectSessionInUrl&&i!=="none"){const{data:s,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),kb(a)){const h=(e=a.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new sv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,s;try{const a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:tn}),{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,s;try{let a;if("email"in e){const{email:g,password:v,options:w}=e;let k=null,T=null;this.flowType==="pkce"&&([k,T]=await Cr(this.storage,this.storageKey)),a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:k,code_challenge_method:T},xform:tn})}else if("phone"in e){const{phone:g,password:v,options:w}=e;a=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=w==null?void 0:w.data)!==null&&i!==void 0?i:{},channel:(s=w==null?void 0:w.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:tn})}else throw new xo("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:d}=e;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ip})}else if("phone"in e){const{phone:a,password:u,options:d}=e;n=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ip})}else throw new xo("You must provide either an email or phone number and a password");const{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new wo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,s,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,s,a,u,d,h,p,g,v,w,k;let T,E;if("message"in e)T=e.message,E=e.signature;else{const{chain:O,wallet:b,statement:y,options:x}=e;let j;if(Ot())if(typeof b=="object")j=b;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))j=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const M=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const D=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),y?{statement:y}:null));let $;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")$=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)$=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)T=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),E=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${M.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(s=(i=x==null?void 0:x.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((p=x==null?void 0:x.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((v=(g=x==null?void 0:x.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...x.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const D=await j.signMessage(new TextEncoder().encode(T),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:O,error:b}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:jb(E)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=e.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:tn});if(b)throw b;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new wo}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:b})}catch(O){if(Q(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Qn(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{const{data:a,error:u}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:tn});if(await xn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new wo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:u})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:s,access_token:a,nonce:u}=e,d=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:tn}),{data:h,error:p}=d;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new wo}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,s,a,u;try{if("email"in e){const{email:d,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Cr(this.storage,this.storageKey));const{error:v}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:d,options:h}=e,{data:p,error:g}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new xo("You must provide either an email or phone number.")}catch(d){if(Q(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(e){var n,i;try{let s,a;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:tn});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(s){if(Q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,i,s;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await Cr(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:Jb})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new bn;const{error:s}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:s,options:a}=e,{error:u}=await re(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:s,options:a}=e,{data:u,error:d}=await re(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xo("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Qn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ql:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Qn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Jl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(h,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,g))})}return{data:{session:e},error:null}}const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Tn}):await this._useSession(async n=>{var i,s,a;const{data:u,error:d}=n;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Tn})})}catch(n){if(Q(n))return bb(n)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:s,error:a}=i;if(a)throw a;if(!s.session)throw new bn;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&e.email!=null&&([d,h]=await Cr(this.storage,this.storageKey));const{data:p,error:g}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:Tn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const n=Date.now()/1e3;let i=n,s=!0,a=null;const{payload:u}=Kl(e.access_token);if(u.exp&&(i=u.exp,s=i<=n),s){const{session:d,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(e.access_token);if(h)throw h;a={access_token:e.access_token,refresh_token:e.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:d}=n;if(d)throw d;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new bn;const{session:s,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ot())throw new bo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Yf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yf("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=e;if(!a||!d||!u||!p)throw new bo("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let w=g+v;h&&(w=parseInt(h));const k=w-g;k*1e3<=Rr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const T=w-v;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,g);const{data:E,error:O}=await this._getUser(a);if(O)throw O;const b={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(i){if(Q(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Qn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{error:a};const u=(i=s.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,e);if(d&&!(xb(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return e!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Ob(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,s;try{const{data:{session:a},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,s=null;this.flowType==="pkce"&&([i,s]=await Cr(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:s}=await this._useSession(async a=>{var u,d,h,p,g;const{data:v,error:w}=a;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=e.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",k,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return Ot()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Q(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:u}=n;if(u)throw u;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Mb(async s=>(s>0&&await Ab(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tn})),(s,a)=>{const u=200*Math.pow(2,s);return a&&Gl(a)&&Date.now()+u-i<Rr})}catch(i){if(this._debug(n,"error",i),Q(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Ot()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const s=await Qn(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Qn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",u)),s.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Jl()}else if(s&&!s.user&&!s.user){const u=await Qn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(s.user=u.user,await xn(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Jl()}if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&await this._removeSession();return}const a=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ql;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${ql}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Gl(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&(u!=null&&u.user)?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ia;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new bn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(s,"error",a),Q(a)){const u={session:null,error:a};return Gl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,i=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(e,n)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const a=np(s);await Ir(this.storage,this.storageKey,a)}else{const s=np(n);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xn(this.storage,this.storageKey),await xn(this.storage,this.storageKey+"-code-verifier"),await xn(this.storage,this.storageKey+"-user"),this.userStorage&&await xn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((i.expires_at*1e3-e)/Rr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rr}ms, refresh threshold is ${ec} ticks`),s<=ec&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof uv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const s=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,u]=await Cr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);s.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await re(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,s;const{data:a,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:h,error:p}=await re(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=h==null?void 0:h.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:s,error:a}=n;return a?{data:null,error:a}:await re(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],s=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:s},error:a}=e;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Kl(s.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(d=>d.kid===e);if(i)return i;const s=Date.now();if(i=this.jwks.keys.find(d=>d.kid===e),i&&this.jwks_cached_at+yb>s)return i;const{data:a,error:u}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,i=a.keys.find(d=>d.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:k,error:T}=await this.getSession();if(T||!k.session)return{data:null,error:T};i=k.session.access_token}const{header:s,payload:a,signature:u,raw:{header:d,payload:h}}=Kl(i);n!=null&&n.allowExpired||Zb(a.exp);const p=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:a,header:s,signature:u},error:null}}const g=Hb(s.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,Lb(`${d}.${h}`)))throw new rc("Invalid JWT signature");return{data:{claims:a,header:s,signature:u},error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}}xs.nextInstanceID=0;const ok=xs;class ak extends ok{constructor(e){super(e)}}var lk=function(t,e,n,i){function s(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(g){try{p(i.next(g))}catch(v){u(v)}}function h(g){try{p(i.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):s(g.value).then(d,h)}p((i=i.apply(t,e||[])).next())})};class uk{constructor(e,n,i){var s,a,u;this.supabaseUrl=e,this.supabaseKey=n;const d=pb(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const h=`sb-${d.hostname.split(".")[0]}-auth-token`,p={db:ib,realtime:ob,auth:Object.assign(Object.assign({},sb),{storageKey:h}),global:rb},g=fb(i??{},p);this.storageKey=(s=g.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=cb(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new S1(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new eb(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new n1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return lk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,storageKey:u,flowType:d,lock:h,debug:p},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ak({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:s,userStorage:a,flowType:d,lock:h,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new U1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ck=(t,e,n)=>new uk(t,e,n);function hk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}hk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const dk="https://xcbuspklvfpvpezxzgyt.supabase.co",fk="sb_publishable_Up2uZj7W9lVRdsr04HiKVw_uYO_UOot",Ee=ck(dk,fk),cv=P.createContext(void 0);function pk({children:t}){const[e,n]=P.useState(null),[i,s]=P.useState(null),[a,u]=P.useState(!0);P.useEffect(()=>{Ee.auth.getSession().then(({data:{session:w}})=>{n((w==null?void 0:w.user)??null),w!=null&&w.user?d(w.user.id):u(!1)});const{data:{subscription:v}}=Ee.auth.onAuthStateChange((w,k)=>{(async()=>(n((k==null?void 0:k.user)??null),k!=null&&k.user?await d(k.user.id):(s(null),u(!1))))()});return()=>v.unsubscribe()},[]);const d=async v=>{try{const{data:w,error:k}=await Ee.from("profiles").select("*").eq("id",v).maybeSingle();if(k)throw k;s(w)}catch(w){console.error("Error loading profile:",w)}finally{u(!1)}},h=async(v,w,k,T)=>{const{data:E,error:O}=await Ee.auth.signUp({email:v,password:w});if(O)throw O;if(E.user){await new Promise(y=>setTimeout(y,1e3));let b=3;for(;b>0;){const{error:y}=await Ee.from("profiles").insert({id:E.user.id,full_name:k,phone:T,is_admin:!1});if(!y)break;if(b--,b>0)await new Promise(x=>setTimeout(x,500));else throw y}}},p=async(v,w)=>{const{error:k}=await Ee.auth.signInWithPassword({email:v,password:w});if(k)throw k},g=async()=>{const{error:v}=await Ee.auth.signOut();if(v)throw v};return m.jsx(cv.Provider,{value:{user:e,profile:i,loading:a,signUp:h,signIn:p,signOut:g},children:t})}function Is(){const t=P.useContext(cv);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ne=(t,e)=>{const n=P.forwardRef(({color:i="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:d="",children:h,...p},g)=>P.createElement("svg",{ref:g,...mk,width:s,height:s,stroke:i,strokeWidth:u?Number(a)*24/Number(s):a,className:["lucide",`lucide-${gk(t)}`,d].join(" "),...p},[...e.map(([v,w])=>P.createElement(v,w)),...Array.isArray(h)?h:[h]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=Ne("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ap=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=Ne("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=Ne("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=Ne("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=Ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Tk(){return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-amber-950 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtb3BhY2l0eT0iMC4wMiI+PHBhdGggZD0iTTM2IDE0YzMuMzEgMCA2IDIuNjkgNiA2cy0yLjY5IDYtNiA2LTYtMi42OS02LTYgMi42OS02IDYtNk0yMCA0MGMzLjMxIDAgNiAyLjY5IDYgNnMtMi42OSA2LTYgNi02LTIuNjktNi02IDIuNjktNiA2LTZ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-30"}),m.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsx("nav",{className:"relative bg-slate-900/70 backdrop-blur-md border-b border-amber-500/20 shadow-lg shadow-amber-500/5",children:m.jsx("div",{className:"container mx-auto px-6 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-amber-500 blur-lg opacity-50 group-hover:opacity-75 transition-opacity"}),m.jsx(cn,{className:"w-9 h-9 text-amber-400 relative transform group-hover:scale-110 transition-transform"})]}),m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 text-transparent bg-clip-text",children:"Taxi Patrice"})]}),m.jsxs(Xi,{to:"/auth",className:"group px-6 py-3 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 text-slate-900 font-bold rounded-xl transition-all transform hover:scale-105 hover:shadow-xl hover:shadow-amber-500/50 relative overflow-hidden",children:[m.jsx("span",{className:"relative z-10",children:"Connexion"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})})}),m.jsxs("main",{className:"container mx-auto px-6 py-16 relative",children:[m.jsxs("div",{className:"text-center mb-20 relative",children:[m.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 rounded-full text-amber-300 text-sm font-semibold mb-6 backdrop-blur-sm",children:[m.jsx(ic,{className:"w-4 h-4"}),m.jsx("span",{children:"Service Premium 24h/24"})]}),m.jsxs("h2",{className:"text-6xl md:text-7xl font-black text-white mb-6 leading-tight",children:["Voyagez en",m.jsx("span",{className:"block bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-500 text-transparent bg-clip-text animate-pulse",children:"Toute Confiance"})]}),m.jsx("p",{className:"text-xl text-slate-300 mb-10 max-w-3xl mx-auto leading-relaxed",children:"Dcouvrez un service de taxi d'excellence disponible jour et nuit. Rservation instantane, trajets scuriss et confort absolu pour tous vos dplacements."}),m.jsxs(Xi,{to:"/auth",className:"group inline-flex items-center gap-3 px-10 py-5 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 text-slate-900 text-lg font-bold rounded-2xl transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/50 relative overflow-hidden",children:[m.jsx("span",{className:"relative z-10",children:"Rserver Maintenant"}),m.jsx(cn,{className:"w-6 h-6 relative z-10 transform group-hover:translate-x-2 transition-transform"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-24",children:[m.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 hover:border-amber-500/50 transition-all hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/20",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-2xl flex items-center justify-center mb-6 transform group-hover:rotate-6 transition-transform shadow-lg shadow-amber-500/30",children:m.jsx(ph,{className:"w-10 h-10 text-slate-900"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Disponible 24/7"}),m.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Service non-stop pour tous vos trajets, de jour comme de nuit. Nous sommes toujours l pour vous."})]})]}),m.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 hover:border-amber-500/50 transition-all hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/20",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mb-6 transform group-hover:rotate-6 transition-transform shadow-lg shadow-green-500/30",children:m.jsx(kk,{className:"w-10 h-10 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"100% Scuris"}),m.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Chauffeurs professionnels certifis, vhicules premium et assurance complte pour votre tranquillit."})]})]}),m.jsxs("div",{className:"group relative bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md p-8 rounded-2xl border border-amber-500/20 hover:border-amber-500/50 transition-all hover:transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/20",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-2xl"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-2xl flex items-center justify-center mb-6 transform group-hover:rotate-6 transition-transform shadow-lg shadow-blue-500/30",children:m.jsx(wk,{className:"w-10 h-10 text-white"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Rservation Express"}),m.jsx("p",{className:"text-slate-300 leading-relaxed",children:"Interface ultra-rapide et intuitive. Rservez votre course en moins de 30 secondes chrono."})]})]})]}),m.jsxs("div",{className:"mt-32 relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-amber-500/10 blur-3xl"}),m.jsxs("div",{className:"relative bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md p-16 rounded-3xl border border-amber-500/30 text-center shadow-2xl shadow-amber-500/20",children:[m.jsx(bs,{className:"w-16 h-16 text-amber-400 mx-auto mb-6 animate-bounce"}),m.jsx("h3",{className:"text-4xl font-black text-white mb-6",children:"Prt pour l'Aventure ?"}),m.jsx("p",{className:"text-slate-300 mb-10 text-xl max-w-2xl mx-auto leading-relaxed",children:"Rejoignez des milliers de voyageurs satisfaits. Crez votre compte gratuitement et dcouvrez une nouvelle faon de vous dplacer."}),m.jsxs(Xi,{to:"/auth",className:"group inline-flex items-center gap-3 px-12 py-6 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 text-slate-900 text-xl font-bold rounded-2xl transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/50 relative overflow-hidden",children:[m.jsx("span",{className:"relative z-10",children:"Commencer Maintenant"}),m.jsx(ic,{className:"w-6 h-6 relative z-10 transform group-hover:rotate-45 transition-transform"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]})]}),m.jsx("footer",{className:"relative bg-slate-900/70 backdrop-blur-md border-t border-amber-500/20 mt-32",children:m.jsxs("div",{className:"container mx-auto px-6 py-8 text-center",children:[m.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400 mb-2",children:[m.jsx(cn,{className:"w-5 h-5 text-amber-400"}),m.jsx("span",{className:"font-semibold",children:"Taxi Patrice"})]}),m.jsx("p",{className:"text-slate-500",children:" 2024 Taxi Patrice. Tous droits rservs."})]})})]})}function Ck(){const[t,e]=P.useState(!0),[n,i]=P.useState(""),[s,a]=P.useState(""),[u,d]=P.useState(""),[h,p]=P.useState(""),[g,v]=P.useState(""),[w,k]=P.useState(!1),{signIn:T,signUp:E}=Is(),O=Ls(),b=async y=>{y.preventDefault(),v(""),k(!0);try{if(t)await T(n,s);else{if(!u||!h){v("Tous les champs sont obligatoires"),k(!1);return}await E(n,s,u,h)}O("/booking")}catch(x){x instanceof Error?v(x.message):v("Une erreur est survenue")}finally{k(!1)}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-amber-950 relative overflow-hidden flex items-center justify-center p-6",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtb3BhY2l0eT0iMC4wMiI+PHBhdGggZD0iTTM2IDE0YzMuMzEgMCA2IDIuNjkgNiA2cy0yLjY5IDYtNiA2LTYtMi42OS02LTYgMi42OS02IDYtNk0yMCA0MGMzLjMxIDAgNiAyLjY5IDYgNnMtMi42OSA2LTYgNi02LTIuNjktNi02IDIuNjktNiA2LTZ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"}),m.jsx("div",{className:"absolute top-20 left-10 w-96 h-96 bg-amber-500/10 rounded-full blur-3xl animate-pulse"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),m.jsxs("div",{className:"w-full max-w-md relative z-10",children:[m.jsxs("div",{className:"text-center mb-8",children:[m.jsx("div",{className:"flex justify-center mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500 to-yellow-600 rounded-full blur-xl opacity-60 animate-pulse"}),m.jsx("div",{className:"relative w-20 h-20 bg-gradient-to-br from-amber-500 to-yellow-600 rounded-full flex items-center justify-center shadow-2xl shadow-amber-500/50",children:m.jsx(cn,{className:"w-12 h-12 text-slate-900"})})]})}),m.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 text-transparent bg-clip-text mb-3",children:"Taxi Patrice"}),m.jsx("p",{className:"text-slate-300 text-lg",children:t?"Connectez-vous  votre compte":"Crez votre compte"})]}),m.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 p-8 shadow-2xl shadow-amber-500/10",children:[m.jsxs("div",{className:"flex gap-3 mb-8",children:[m.jsxs("button",{onClick:()=>e(!0),className:`flex-1 py-3 px-4 rounded-xl font-bold transition-all transform ${t?"bg-gradient-to-r from-amber-500 to-yellow-600 text-slate-900 shadow-lg shadow-amber-500/50 scale-105":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"}`,children:[m.jsx(bk,{className:"w-4 h-4 inline mr-2"}),"Connexion"]}),m.jsxs("button",{onClick:()=>e(!1),className:`flex-1 py-3 px-4 rounded-xl font-bold transition-all transform ${t?"bg-slate-700/50 text-slate-400 hover:bg-slate-700":"bg-gradient-to-r from-amber-500 to-yellow-600 text-slate-900 shadow-lg shadow-amber-500/50 scale-105"}`,children:[m.jsx(Pk,{className:"w-4 h-4 inline mr-2"}),"Inscription"]})]}),m.jsxs("form",{onSubmit:b,className:"space-y-5",children:[!t&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:"Nom Complet"}),m.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",required:!t,placeholder:"Votre nom complet"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:"Numro de Tlphone"}),m.jsx("input",{type:"tel",value:h,onChange:y=>p(y.target.value),className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",required:!t,placeholder:"06 12 34 56 78"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:"Email"}),m.jsx("input",{type:"email",value:n,onChange:y=>i(y.target.value),className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",required:!0,placeholder:"votre@email.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-slate-300 mb-2",children:"Mot de Passe"}),m.jsx("input",{type:"password",value:s,onChange:y=>a(y.target.value),className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",required:!0,placeholder:""})]}),g&&m.jsx("div",{className:"bg-red-900/50 border border-red-500/50 text-red-200 px-4 py-3 rounded-xl backdrop-blur-sm",children:g}),m.jsxs("button",{type:"submit",disabled:w,className:"group w-full py-4 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 disabled:from-slate-700 disabled:to-slate-700 disabled:cursor-not-allowed text-slate-900 disabled:text-slate-500 font-bold rounded-xl transition-all transform hover:scale-105 hover:shadow-xl hover:shadow-amber-500/50 relative overflow-hidden",children:[m.jsx("span",{className:"relative z-10",children:w?"Chargement...":t?"Se Connecter":"S'Inscrire"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]}),m.jsx("div",{className:"text-center mt-8",children:m.jsx("button",{onClick:()=>O("/"),className:"text-slate-400 hover:text-amber-400 transition-colors font-semibold",children:"Retour  l'accueil"})})]})]})}function Lk(t,e){const n=P.useRef(e);P.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const jk=1;function Nk(t){return Object.freeze({__version:jk,map:t})}function fv(t,e){return Object.freeze({...t,...e})}const pv=P.createContext(null),mv=pv.Provider;function mh(){const t=P.useContext(pv);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function gv(t){function e(n,i){const{instance:s,context:a}=t(n).current;return P.useImperativeHandle(i,()=>s),n.children==null?null:Ql.createElement(mv,{value:a},n.children)}return P.forwardRef(e)}function Ok(t){function e(n,i){const{instance:s}=t(n).current;return P.useImperativeHandle(i,()=>s),null}return P.forwardRef(e)}function vv(t,e){const n=P.useRef();P.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function gh(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var sc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(ft,function(n){var i="1.9.4";function s(r){var o,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(o in f)r[o]=f[o]}return r}var a=Object.create||function(){function r(){}return function(o){return r.prototype=o,new r}}();function u(r,o){var l=Array.prototype.slice;if(r.bind)return r.bind.apply(r,l.call(arguments,1));var c=l.call(arguments,2);return function(){return r.apply(o,c.length?c.concat(l.call(arguments)):arguments)}}var d=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function p(r,o,l){var c,f,_,S;return S=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(r.apply(l,arguments),setTimeout(S,o),c=!0)},_}function g(r,o,l){var c=o[1],f=o[0],_=c-f;return r===c&&l?r:((r-f)%_+_)%_+f}function v(){return!1}function w(r,o){if(o===!1)return r;var l=Math.pow(10,o===void 0?6:o);return Math.round(r*l)/l}function k(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function T(r){return k(r).split(/\s+/)}function E(r,o){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var l in o)r.options[l]=o[l];return r.options}function O(r,o,l){var c=[];for(var f in r)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(r[f]));return(!o||o.indexOf("?")===-1?"?":"&")+c.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function y(r,o){return r.replace(b,function(l,c){var f=o[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(o)),f})}var x=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function j(r,o){for(var l=0;l<r.length;l++)if(r[l]===o)return l;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function D(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var $=0;function U(r){var o=+new Date,l=Math.max(0,16-(o-$));return $=o+l,window.setTimeout(r,l)}var X=window.requestAnimationFrame||D("RequestAnimationFrame")||U,G=window.cancelAnimationFrame||D("CancelAnimationFrame")||D("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function oe(r,o,l){if(l&&X===U)r.call(o);else return X.call(window,u(r,o))}function fe(r){r&&G.call(window,r)}var tt={__proto__:null,extend:s,create:a,bind:u,get lastId(){return d},stamp:h,throttle:p,wrapNum:g,falseFn:v,formatNum:w,trim:k,splitWords:T,setOptions:E,getParamString:O,template:y,isArray:x,indexOf:j,emptyImageUrl:M,requestFn:X,cancelFn:G,requestAnimFrame:oe,cancelAnimFrame:fe};function Me(){}Me.extend=function(r){var o=function(){E(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=o.__super__=this.prototype,c=a(l);c.constructor=o,o.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(o[f]=this[f]);return r.statics&&s(o,r.statics),r.includes&&(vn(r.includes),s.apply(null,[c].concat(r.includes))),s(c,r),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},s(c.options,r.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,S=c._initHooks.length;_<S;_++)c._initHooks[_].call(this)}},o},Me.include=function(r){var o=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=o,this.mergeOptions(r.options)),this},Me.mergeOptions=function(r){return s(this.prototype.options,r),this},Me.addInitHook=function(r){var o=Array.prototype.slice.call(arguments,1),l=typeof r=="function"?r:function(){this[r].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function vn(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=x(r)?r:[r];for(var o=0;o<r.length;o++)r[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(r,o,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],o);else{r=T(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],o,l)}return this},off:function(r,o,l){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var c in r)this._off(c,r[c],o);else{r=T(r);for(var f=arguments.length===1,_=0,S=r.length;_<S;_++)f?this._off(r[_]):this._off(r[_],o,l)}return this},_on:function(r,o,l,c){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(r,o,l)===!1){l===this&&(l=void 0);var f={fn:o,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(f)}},_off:function(r,o,l){var c,f,_;if(this._events&&(c=this._events[r],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=v;delete this._events[r];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var S=this._listens(r,o,l);if(S!==!1){var C=c[S];this._firingCount&&(C.fn=v,this._events[r]=c=c.slice()),c.splice(S,1)}}},fire:function(r,o,l){if(!this.listens(r,l))return this;var c=s({},o,{type:r,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var f=this._events[r];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,S=f.length;_<S;_++){var C=f[_],N=C.fn;C.once&&this.off(r,N,C.ctx),N.call(C.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(r,o,l,c){typeof r!="string"&&console.warn('"string" type argument expected');var f=o;typeof o!="function"&&(c=!!o,f=void 0,l=void 0);var _=this._events&&this._events[r];if(_&&_.length&&this._listens(r,f,l)!==!1)return!0;if(c){for(var S in this._eventParents)if(this._eventParents[S].listens(r,o,l,c))return!0}return!1},_listens:function(r,o,l){if(!this._events)return!1;var c=this._events[r]||[];if(!o)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===o&&c[f].ctx===l)return f;return!1},once:function(r,o,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],o,!0);else{r=T(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],o,l,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var o in this._eventParents)this._eventParents[o].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var ut=Me.extend(Se);function A(r,o,l){this.x=l?Math.round(r):r,this.y=l?Math.round(o):o}var J=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(r){return this.clone()._add(R(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(R(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new A(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new A(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=J(this.x),this.y=J(this.y),this},distanceTo:function(r){r=R(r);var o=r.x-this.x,l=r.y-this.y;return Math.sqrt(o*o+l*l)},equals:function(r){return r=R(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=R(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function R(r,o,l){return r instanceof A?r:x(r)?new A(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new A(r.x,r.y):new A(r,o,l)}function W(r,o){if(r)for(var l=o?[r,o]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}W.prototype={extend:function(r){var o,l;if(!r)return this;if(r instanceof A||typeof r[0]=="number"||"x"in r)o=l=R(r);else if(r=te(r),o=r.min,l=r.max,!o||!l)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=l.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(r){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var o,l;return typeof r[0]=="number"||r instanceof A?r=R(r):r=te(r),r instanceof W?(o=r.min,l=r.max):o=l=r,o.x>=this.min.x&&l.x<=this.max.x&&o.y>=this.min.y&&l.y<=this.max.y},intersects:function(r){r=te(r);var o=this.min,l=this.max,c=r.min,f=r.max,_=f.x>=o.x&&c.x<=l.x,S=f.y>=o.y&&c.y<=l.y;return _&&S},overlaps:function(r){r=te(r);var o=this.min,l=this.max,c=r.min,f=r.max,_=f.x>o.x&&c.x<l.x,S=f.y>o.y&&c.y<l.y;return _&&S},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var o=this.min,l=this.max,c=Math.abs(o.x-l.x)*r,f=Math.abs(o.y-l.y)*r;return te(R(o.x-c,o.y-f),R(l.x+c,l.y+f))},equals:function(r){return r?(r=te(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function te(r,o){return!r||r instanceof W?r:new W(r,o)}function _e(r,o){if(r)for(var l=o?[r,o]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}_e.prototype={extend:function(r){var o=this._southWest,l=this._northEast,c,f;if(r instanceof Z)c=r,f=r;else if(r instanceof _e){if(c=r._southWest,f=r._northEast,!c||!f)return this}else return r?this.extend(q(r)||I(r)):this;return!o&&!l?(this._southWest=new Z(c.lat,c.lng),this._northEast=new Z(f.lat,f.lng)):(o.lat=Math.min(c.lat,o.lat),o.lng=Math.min(c.lng,o.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(r){var o=this._southWest,l=this._northEast,c=Math.abs(o.lat-l.lat)*r,f=Math.abs(o.lng-l.lng)*r;return new _e(new Z(o.lat-c,o.lng-f),new Z(l.lat+c,l.lng+f))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof Z||"lat"in r?r=q(r):r=I(r);var o=this._southWest,l=this._northEast,c,f;return r instanceof _e?(c=r.getSouthWest(),f=r.getNorthEast()):c=f=r,c.lat>=o.lat&&f.lat<=l.lat&&c.lng>=o.lng&&f.lng<=l.lng},intersects:function(r){r=I(r);var o=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>=o.lat&&c.lat<=l.lat,S=f.lng>=o.lng&&c.lng<=l.lng;return _&&S},overlaps:function(r){r=I(r);var o=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>o.lat&&c.lat<l.lat,S=f.lng>o.lng&&c.lng<l.lng;return _&&S},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,o){return r?(r=I(r),this._southWest.equals(r.getSouthWest(),o)&&this._northEast.equals(r.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function I(r,o){return r instanceof _e?r:new _e(r,o)}function Z(r,o,l){if(isNaN(r)||isNaN(o))throw new Error("Invalid LatLng object: ("+r+", "+o+")");this.lat=+r,this.lng=+o,l!==void 0&&(this.alt=+l)}Z.prototype={equals:function(r,o){if(!r)return!1;r=q(r);var l=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return l<=(o===void 0?1e-9:o)},toString:function(r){return"LatLng("+w(this.lat,r)+", "+w(this.lng,r)+")"},distanceTo:function(r){return _t.distance(this,q(r))},wrap:function(){return _t.wrapLatLng(this)},toBounds:function(r){var o=180*r/40075017,l=o/Math.cos(Math.PI/180*this.lat);return I([this.lat-o,this.lng-l],[this.lat+o,this.lng+l])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};function q(r,o,l){return r instanceof Z?r:x(r)&&typeof r[0]!="object"?r.length===3?new Z(r[0],r[1],r[2]):r.length===2?new Z(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new Z(r.lat,"lng"in r?r.lng:r.lon,r.alt):o===void 0?null:new Z(r,o,l)}var ze={latLngToPoint:function(r,o){var l=this.projection.project(r),c=this.scale(o);return this.transformation._transform(l,c)},pointToLatLng:function(r,o){var l=this.scale(o),c=this.transformation.untransform(r,l);return this.projection.unproject(c)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var o=this.projection.bounds,l=this.scale(r),c=this.transformation.transform(o.min,l),f=this.transformation.transform(o.max,l);return new W(c,f)},infinite:!1,wrapLatLng:function(r){var o=this.wrapLng?g(r.lng,this.wrapLng,!0):r.lng,l=this.wrapLat?g(r.lat,this.wrapLat,!0):r.lat,c=r.alt;return new Z(l,o,c)},wrapLatLngBounds:function(r){var o=r.getCenter(),l=this.wrapLatLng(o),c=o.lat-l.lat,f=o.lng-l.lng;if(c===0&&f===0)return r;var _=r.getSouthWest(),S=r.getNorthEast(),C=new Z(_.lat-c,_.lng-f),N=new Z(S.lat-c,S.lng-f);return new _e(C,N)}},_t=s({},ze,{wrapLng:[-180,180],R:6371e3,distance:function(r,o){var l=Math.PI/180,c=r.lat*l,f=o.lat*l,_=Math.sin((o.lat-r.lat)*l/2),S=Math.sin((o.lng-r.lng)*l/2),C=_*_+Math.cos(c)*Math.cos(f)*S*S,N=2*Math.atan2(Math.sqrt(C),Math.sqrt(1-C));return this.R*N}}),gr=6378137,Aa={R:gr,MAX_LATITUDE:85.0511287798,project:function(r){var o=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,r.lat),-l),f=Math.sin(c*o);return new A(this.R*r.lng*o,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(r){var o=180/Math.PI;return new Z((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*o,r.x*o/this.R)},bounds:function(){var r=gr*Math.PI;return new W([-r,-r],[r,r])}()};function Ma(r,o,l,c){if(x(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=o,this._c=l,this._d=c}Ma.prototype={transform:function(r,o){return this._transform(r.clone(),o)},_transform:function(r,o){return o=o||1,r.x=o*(this._a*r.x+this._b),r.y=o*(this._c*r.y+this._d),r},untransform:function(r,o){return o=o||1,new A((r.x/o-this._b)/this._a,(r.y/o-this._d)/this._c)}};function mi(r,o,l,c){return new Ma(r,o,l,c)}var za=s({},_t,{code:"EPSG:3857",projection:Aa,transformation:function(){var r=.5/(Math.PI*Aa.R);return mi(r,.5,-r,.5)}()}),kv=s({},za,{code:"EPSG:900913"});function yh(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function wh(r,o){var l="",c,f,_,S,C,N;for(c=0,_=r.length;c<_;c++){for(C=r[c],f=0,S=C.length;f<S;f++)N=C[f],l+=(f?"L":"M")+N.x+" "+N.y;l+=o?V.svg?"z":"x":""}return l||"M0 0"}var Da=document.documentElement.style,As="ActiveXObject"in window,Sv=As&&!document.addEventListener,xh="msLaunchUri"in navigator&&!("documentMode"in document),$a=Bt("webkit"),bh=Bt("android"),kh=Bt("android 2")||Bt("android 3"),Pv=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ev=bh&&Bt("Google")&&Pv<537&&!("AudioNode"in window),Ba=!!window.opera,Sh=!xh&&Bt("chrome"),Ph=Bt("gecko")&&!$a&&!Ba&&!As,Tv=!Sh&&Bt("safari"),Eh=Bt("phantom"),Th="OTransition"in Da,Cv=navigator.platform.indexOf("Win")===0,Ch=As&&"transition"in Da,Ua="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!kh,Lh="MozPerspective"in Da,Lv=!window.L_DISABLE_3D&&(Ch||Ua||Lh)&&!Th&&!Eh,gi=typeof orientation<"u"||Bt("mobile"),jv=gi&&$a,Nv=gi&&Ua,jh=!window.PointerEvent&&window.MSPointerEvent,Nh=!!(window.PointerEvent||jh),Oh="ontouchstart"in window||!!window.TouchEvent,Ov=!window.L_NO_TOUCH&&(Oh||Nh),Rv=gi&&Ba,Iv=gi&&Ph,Av=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mv=function(){var r=!1;try{var o=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",v,o),window.removeEventListener("testPassiveEventSupport",v,o)}catch{}return r}(),zv=function(){return!!document.createElement("canvas").getContext}(),Fa=!!(document.createElementNS&&yh("svg").createSVGRect),Dv=!!Fa&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$v=!Fa&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var o=r.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),Bv=navigator.platform.indexOf("Mac")===0,Uv=navigator.platform.indexOf("Linux")===0;function Bt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var V={ie:As,ielt9:Sv,edge:xh,webkit:$a,android:bh,android23:kh,androidStock:Ev,opera:Ba,chrome:Sh,gecko:Ph,safari:Tv,phantom:Eh,opera12:Th,win:Cv,ie3d:Ch,webkit3d:Ua,gecko3d:Lh,any3d:Lv,mobile:gi,mobileWebkit:jv,mobileWebkit3d:Nv,msPointer:jh,pointer:Nh,touch:Ov,touchNative:Oh,mobileOpera:Rv,mobileGecko:Iv,retina:Av,passiveEvents:Mv,canvas:zv,svg:Fa,vml:$v,inlineSvg:Dv,mac:Bv,linux:Uv},Rh=V.msPointer?"MSPointerDown":"pointerdown",Ih=V.msPointer?"MSPointerMove":"pointermove",Ah=V.msPointer?"MSPointerUp":"pointerup",Mh=V.msPointer?"MSPointerCancel":"pointercancel",Za={touchstart:Rh,touchmove:Ih,touchend:Ah,touchcancel:Mh},zh={touchstart:qv,touchmove:Ms,touchend:Ms,touchcancel:Ms},vr={},Dh=!1;function Fv(r,o,l){return o==="touchstart"&&Vv(),zh[o]?(l=zh[o].bind(this,l),r.addEventListener(Za[o],l,!1),l):(console.warn("wrong event specified:",o),v)}function Zv(r,o,l){if(!Za[o]){console.warn("wrong event specified:",o);return}r.removeEventListener(Za[o],l,!1)}function Hv(r){vr[r.pointerId]=r}function Wv(r){vr[r.pointerId]&&(vr[r.pointerId]=r)}function $h(r){delete vr[r.pointerId]}function Vv(){Dh||(document.addEventListener(Rh,Hv,!0),document.addEventListener(Ih,Wv,!0),document.addEventListener(Ah,$h,!0),document.addEventListener(Mh,$h,!0),Dh=!0)}function Ms(r,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var l in vr)o.touches.push(vr[l]);o.changedTouches=[o],r(o)}}function qv(r,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&Ue(o),Ms(r,o)}function Gv(r){var o={},l,c;for(c in r)l=r[c],o[c]=l&&l.bind?l.bind(r):l;return r=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var Kv=200;function Jv(r,o){r.addEventListener("dblclick",o);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var S=Hh(_);if(!(S.some(function(N){return N instanceof HTMLLabelElement&&N.attributes.for})&&!S.some(function(N){return N instanceof HTMLInputElement||N instanceof HTMLSelectElement}))){var C=Date.now();C-l<=Kv?(c++,c===2&&o(Gv(_))):c=1,l=C}}}return r.addEventListener("click",f),{dblclick:o,simDblclick:f}}function Yv(r,o){r.removeEventListener("dblclick",o.dblclick),r.removeEventListener("click",o.simDblclick)}var Ha=$s(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),vi=$s(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bh=vi==="webkitTransition"||vi==="OTransition"?vi+"End":"transitionend";function Uh(r){return typeof r=="string"?document.getElementById(r):r}function _i(r,o){var l=r.style[o]||r.currentStyle&&r.currentStyle[o];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(r,null);l=c?c[o]:null}return l==="auto"?null:l}function le(r,o,l){var c=document.createElement(r);return c.className=o||"",l&&l.appendChild(c),c}function ye(r){var o=r.parentNode;o&&o.removeChild(r)}function zs(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function _r(r){var o=r.parentNode;o&&o.lastChild!==r&&o.appendChild(r)}function yr(r){var o=r.parentNode;o&&o.firstChild!==r&&o.insertBefore(r,o.firstChild)}function Wa(r,o){if(r.classList!==void 0)return r.classList.contains(o);var l=Ds(r);return l.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(l)}function ee(r,o){if(r.classList!==void 0)for(var l=T(o),c=0,f=l.length;c<f;c++)r.classList.add(l[c]);else if(!Wa(r,o)){var _=Ds(r);Va(r,(_?_+" ":"")+o)}}function Pe(r,o){r.classList!==void 0?r.classList.remove(o):Va(r,k((" "+Ds(r)+" ").replace(" "+o+" "," ")))}function Va(r,o){r.className.baseVal===void 0?r.className=o:r.className.baseVal=o}function Ds(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function yt(r,o){"opacity"in r.style?r.style.opacity=o:"filter"in r.style&&Qv(r,o)}function Qv(r,o){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=r.filters.item(c)}catch{if(o===1)return}o=Math.round(o*100),l?(l.Enabled=o!==100,l.Opacity=o):r.style.filter+=" progid:"+c+"(opacity="+o+")"}function $s(r){for(var o=document.documentElement.style,l=0;l<r.length;l++)if(r[l]in o)return r[l];return!1}function Vn(r,o,l){var c=o||new A(0,0);r.style[Ha]=(V.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Ce(r,o){r._leaflet_pos=o,V.any3d?Vn(r,o):(r.style.left=o.x+"px",r.style.top=o.y+"px")}function qn(r){return r._leaflet_pos||new A(0,0)}var yi,wi,qa;if("onselectstart"in document)yi=function(){Y(window,"selectstart",Ue)},wi=function(){ce(window,"selectstart",Ue)};else{var xi=$s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yi=function(){if(xi){var r=document.documentElement.style;qa=r[xi],r[xi]="none"}},wi=function(){xi&&(document.documentElement.style[xi]=qa,qa=void 0)}}function Ga(){Y(window,"dragstart",Ue)}function Ka(){ce(window,"dragstart",Ue)}var Bs,Ja;function Ya(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Us(),Bs=r,Ja=r.style.outlineStyle,r.style.outlineStyle="none",Y(window,"keydown",Us))}function Us(){Bs&&(Bs.style.outlineStyle=Ja,Bs=void 0,Ja=void 0,ce(window,"keydown",Us))}function Fh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Qa(r){var o=r.getBoundingClientRect();return{x:o.width/r.offsetWidth||1,y:o.height/r.offsetHeight||1,boundingClientRect:o}}var Xv={__proto__:null,TRANSFORM:Ha,TRANSITION:vi,TRANSITION_END:Bh,get:Uh,getStyle:_i,create:le,remove:ye,empty:zs,toFront:_r,toBack:yr,hasClass:Wa,addClass:ee,removeClass:Pe,setClass:Va,getClass:Ds,setOpacity:yt,testProp:$s,setTransform:Vn,setPosition:Ce,getPosition:qn,get disableTextSelection(){return yi},get enableTextSelection(){return wi},disableImageDrag:Ga,enableImageDrag:Ka,preventOutline:Ya,restoreOutline:Us,getSizedParentNode:Fh,getScale:Qa};function Y(r,o,l,c){if(o&&typeof o=="object")for(var f in o)el(r,f,o[f],l);else{o=T(o);for(var _=0,S=o.length;_<S;_++)el(r,o[_],l,c)}return this}var Ut="_leaflet_events";function ce(r,o,l,c){if(arguments.length===1)Zh(r),delete r[Ut];else if(o&&typeof o=="object")for(var f in o)tl(r,f,o[f],l);else if(o=T(o),arguments.length===2)Zh(r,function(C){return j(o,C)!==-1});else for(var _=0,S=o.length;_<S;_++)tl(r,o[_],l,c);return this}function Zh(r,o){for(var l in r[Ut]){var c=l.split(/\d/)[0];(!o||o(c))&&tl(r,c,null,null,l)}}var Xa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function el(r,o,l,c){var f=o+h(l)+(c?"_"+h(c):"");if(r[Ut]&&r[Ut][f])return this;var _=function(C){return l.call(c||r,C||window.event)},S=_;!V.touchNative&&V.pointer&&o.indexOf("touch")===0?_=Fv(r,o,_):V.touch&&o==="dblclick"?_=Jv(r,_):"addEventListener"in r?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?r.addEventListener(Xa[o]||o,_,V.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(_=function(C){C=C||window.event,rl(r,C)&&S(C)},r.addEventListener(Xa[o],_,!1)):r.addEventListener(o,S,!1):r.attachEvent("on"+o,_),r[Ut]=r[Ut]||{},r[Ut][f]=_}function tl(r,o,l,c,f){f=f||o+h(l)+(c?"_"+h(c):"");var _=r[Ut]&&r[Ut][f];if(!_)return this;!V.touchNative&&V.pointer&&o.indexOf("touch")===0?Zv(r,o,_):V.touch&&o==="dblclick"?Yv(r,_):"removeEventListener"in r?r.removeEventListener(Xa[o]||o,_,!1):r.detachEvent("on"+o,_),r[Ut][f]=null}function Gn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function nl(r){return el(r,"wheel",Gn),this}function bi(r){return Y(r,"mousedown touchstart dblclick contextmenu",Gn),r._leaflet_disable_click=!0,this}function Ue(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Kn(r){return Ue(r),Gn(r),this}function Hh(r){if(r.composedPath)return r.composedPath();for(var o=[],l=r.target;l;)o.push(l),l=l.parentNode;return o}function Wh(r,o){if(!o)return new A(r.clientX,r.clientY);var l=Qa(o),c=l.boundingClientRect;return new A((r.clientX-c.left)/l.x-o.clientLeft,(r.clientY-c.top)/l.y-o.clientTop)}var e_=V.linux&&V.chrome?window.devicePixelRatio:V.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Vh(r){return V.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/e_:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function rl(r,o){var l=o.relatedTarget;if(!l)return!0;try{for(;l&&l!==r;)l=l.parentNode}catch{return!1}return l!==r}var t_={__proto__:null,on:Y,off:ce,stopPropagation:Gn,disableScrollPropagation:nl,disableClickPropagation:bi,preventDefault:Ue,stop:Kn,getPropagationPath:Hh,getMousePosition:Wh,getWheelDelta:Vh,isExternalTarget:rl,addListener:Y,removeListener:ce},qh=ut.extend({run:function(r,o,l,c){this.stop(),this._el=r,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=qn(r),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=oe(this._animate,this),this._step()},_step:function(r){var o=+new Date-this._startTime,l=this._duration*1e3;o<l?this._runFrame(this._easeOut(o/l),r):(this._runFrame(1),this._complete())},_runFrame:function(r,o){var l=this._startPos.add(this._offset.multiplyBy(r));o&&l._round(),Ce(this._el,l),this.fire("step")},_complete:function(){fe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),se=ut.extend({options:{crs:za,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,o){o=E(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(q(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=vi&&V.any3d&&!V.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Y(this._proxy,Bh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,o,l){if(o=o===void 0?this._zoom:this._limitZoom(o),r=this._limitCenter(q(r),o,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=s({animate:l.animate},l.zoom),l.pan=s({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,o,l.zoom):this._tryAnimatedPan(r,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(r,o,l.pan&&l.pan.noMoveStart),this},setZoom:function(r,o){return this._loaded?this.setView(this.getCenter(),r,{zoom:o}):(this._zoom=r,this)},zoomIn:function(r,o){return r=r||(V.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,o)},zoomOut:function(r,o){return r=r||(V.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,o)},setZoomAround:function(r,o,l){var c=this.getZoomScale(o),f=this.getSize().divideBy(2),_=r instanceof A?r:this.latLngToContainerPoint(r),S=_.subtract(f).multiplyBy(1-1/c),C=this.containerPointToLatLng(f.add(S));return this.setView(C,o,{zoom:l})},_getBoundsCenterZoom:function(r,o){o=o||{},r=r.getBounds?r.getBounds():I(r);var l=R(o.paddingTopLeft||o.padding||[0,0]),c=R(o.paddingBottomRight||o.padding||[0,0]),f=this.getBoundsZoom(r,!1,l.add(c));if(f=typeof o.maxZoom=="number"?Math.min(o.maxZoom,f):f,f===1/0)return{center:r.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),S=this.project(r.getSouthWest(),f),C=this.project(r.getNorthEast(),f),N=this.unproject(S.add(C).divideBy(2).add(_),f);return{center:N,zoom:f}},fitBounds:function(r,o){if(r=I(r),!r.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(r,o);return this.setView(l.center,l.zoom,o)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,o){return this.setView(r,this._zoom,{pan:o})},panBy:function(r,o){if(r=R(r).round(),o=o||{},!r.x&&!r.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){ee(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,l,o.duration||.25,o.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,o,l){if(l=l||{},l.animate===!1||!V.any3d)return this.setView(r,o,l);this._stop();var c=this.project(this.getCenter()),f=this.project(r),_=this.getSize(),S=this._zoom;r=q(r),o=o===void 0?S:o;var C=Math.max(_.x,_.y),N=C*this.getZoomScale(S,o),z=f.distanceTo(c)||1,F=1.42,K=F*F;function ne(Le){var Xs=Le?-1:1,Z_=Le?N:C,H_=N*N-C*C+Xs*K*K*z*z,W_=2*Z_*K*z,pl=H_/W_,Td=Math.sqrt(pl*pl+1)-pl,V_=Td<1e-9?-18:Math.log(Td);return V_}function Ke(Le){return(Math.exp(Le)-Math.exp(-Le))/2}function De(Le){return(Math.exp(Le)+Math.exp(-Le))/2}function xt(Le){return Ke(Le)/De(Le)}var nt=ne(0);function Pr(Le){return C*(De(nt)/De(nt+F*Le))}function $_(Le){return C*(De(nt)*xt(nt+F*Le)-Ke(nt))/K}function B_(Le){return 1-Math.pow(1-Le,1.5)}var U_=Date.now(),Pd=(ne(1)-nt)/F,F_=l.duration?1e3*l.duration:1e3*Pd*.8;function Ed(){var Le=(Date.now()-U_)/F_,Xs=B_(Le)*Pd;Le<=1?(this._flyToFrame=oe(Ed,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy($_(Xs)/z)),S),this.getScaleZoom(C/Pr(Xs),S),{flyTo:!0})):this._move(r,o)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Ed.call(this),this},flyToBounds:function(r,o){var l=this._getBoundsCenterZoom(r,o);return this.flyTo(l.center,l.zoom,o)},setMaxBounds:function(r){return r=I(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var o=this.options.minZoom;return this.options.minZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var o=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&o!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,o){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,I(r));return l.equals(c)||this.panTo(c,o),this._enforcingBounds=!1,this},panInside:function(r,o){o=o||{};var l=R(o.paddingTopLeft||o.padding||[0,0]),c=R(o.paddingBottomRight||o.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(r),S=this.getPixelBounds(),C=te([S.min.add(l),S.max.subtract(c)]),N=C.getSize();if(!C.contains(_)){this._enforcingBounds=!0;var z=_.subtract(C.getCenter()),F=C.extend(_).getSize().subtract(N);f.x+=z.x<0?-F.x:F.x,f.y+=z.y<0?-F.y:F.y,this.panTo(this.unproject(f),o),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=o.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(r.animate&&r.pan?this.panBy(_):(r.pan&&this._rawPanBy(_),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,l,r):navigator.geolocation.getCurrentPosition(o,l,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var o=r.code,l=r.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var o=r.coords.latitude,l=r.coords.longitude,c=new Z(o,l),f=c.toBounds(r.coords.accuracy*2),_=this._locateOptions;if(_.setView){var S=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(S,_.maxZoom):S)}var C={latlng:c,bounds:f,timestamp:r.timestamp};for(var N in r.coords)typeof r.coords[N]=="number"&&(C[N]=r.coords[N]);this.fire("locationfound",C)}},addHandler:function(r,o){if(!o)return this;var l=this[r]=new o(this);return this._handlers.push(l),this.options[r]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ye(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(fe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ye(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,o){var l="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),c=le("div",l,o||this._mapPane);return r&&(this._panes[r]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),o=this.unproject(r.getBottomLeft()),l=this.unproject(r.getTopRight());return new _e(o,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,o,l){r=I(r),l=R(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),S=r.getNorthWest(),C=r.getSouthEast(),N=this.getSize().subtract(l),z=te(this.project(C,c),this.project(S,c)).getSize(),F=V.any3d?this.options.zoomSnap:1,K=N.x/z.x,ne=N.y/z.y,Ke=o?Math.max(K,ne):Math.min(K,ne);return c=this.getScaleZoom(Ke,c),F&&(c=Math.round(c/(F/100))*(F/100),c=o?Math.ceil(c/F)*F:Math.floor(c/F)*F),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,o){var l=this._getTopLeftPoint(r,o);return new W(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,o){var l=this.options.crs;return o=o===void 0?this._zoom:o,l.scale(r)/l.scale(o)},getScaleZoom:function(r,o){var l=this.options.crs;o=o===void 0?this._zoom:o;var c=l.zoom(r*l.scale(o));return isNaN(c)?1/0:c},project:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(q(r),o)},unproject:function(r,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(R(r),o)},layerPointToLatLng:function(r){var o=R(r).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(r){var o=this.project(q(r))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(q(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(I(r))},distance:function(r,o){return this.options.crs.distance(q(r),q(o))},containerPointToLayerPoint:function(r){return R(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return R(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var o=this.containerPointToLayerPoint(R(r));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(r)))},mouseEventToContainerPoint:function(r){return Wh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var o=this._container=Uh(r);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Y(o,"scroll",this._onScroll,this),this._containerId=h(o)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&V.any3d,ee(r,"leaflet-container"+(V.touch?" leaflet-touch":"")+(V.retina?" leaflet-retina":"")+(V.ielt9?" leaflet-oldie":"")+(V.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=_i(r,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ce(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ee(r.markerPane,"leaflet-zoom-hide"),ee(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,o,l){Ce(this._mapPane,new A(0,0));var c=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var f=this._zoom!==o;this._moveStart(f,l)._move(r,o)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(r,o){return r&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(r,o,l,c){o===void 0&&(o=this._zoom);var f=this._zoom!==o;return this._zoom=o,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return fe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ce(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var o=r?ce:Y;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),V.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){fe(this._resizeRequest),this._resizeRequest=oe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,o){for(var l=[],c,f=o==="mouseout"||o==="mouseover",_=r.target||r.srcElement,S=!1;_;){if(c=this._targets[h(_)],c&&(o==="click"||o==="preclick")&&this._draggableMoved(c)){S=!0;break}if(c&&c.listens(o,!0)&&(f&&!rl(_,r)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!S&&!f&&this.listens(o,!0)&&(l=[this]),l},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var o=r.target||r.srcElement;if(!(!this._loaded||o._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(o))){var l=r.type;l==="mousedown"&&Ya(o),this._fireDOMEvent(r,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,o,l){if(r.type==="click"){var c=s({},r);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(r,o);if(l){for(var _=[],S=0;S<l.length;S++)l[S].listens(o,!0)&&_.push(l[S]);f=_.concat(f)}if(f.length){o==="contextmenu"&&Ue(r);var C=f[0],N={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var z=C.getLatLng&&(!C._radius||C._radius<=10);N.containerPoint=z?this.latLngToContainerPoint(C.getLatLng()):this.mouseEventToContainerPoint(r),N.layerPoint=this.containerPointToLayerPoint(N.containerPoint),N.latlng=z?C.getLatLng():this.layerPointToLatLng(N.layerPoint)}for(S=0;S<f.length;S++)if(f[S].fire(o,N,!0),N.originalEvent._stopped||f[S].options.bubblingMouseEvents===!1&&j(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,o=this._handlers.length;r<o;r++)this._handlers[r].disable()},whenReady:function(r,o){return this._loaded?r.call(o||this,{target:this}):this.on("load",r,o),this},_getMapPanePos:function(){return qn(this._mapPane)||new A(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,o){var l=r&&o!==void 0?this._getNewPixelOrigin(r,o):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,o){var l=this.getSize()._divideBy(2);return this.project(r,o)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,o,l){var c=this._getNewPixelOrigin(l,o);return this.project(r,o)._subtract(c)},_latLngBoundsToNewLayerBounds:function(r,o,l){var c=this._getNewPixelOrigin(l,o);return te([this.project(r.getSouthWest(),o)._subtract(c),this.project(r.getNorthWest(),o)._subtract(c),this.project(r.getSouthEast(),o)._subtract(c),this.project(r.getNorthEast(),o)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,o,l){if(!l)return r;var c=this.project(r,o),f=this.getSize().divideBy(2),_=new W(c.subtract(f),c.add(f)),S=this._getBoundsOffset(_,l,o);return Math.abs(S.x)<=1&&Math.abs(S.y)<=1?r:this.unproject(c.add(S),o)},_limitOffset:function(r,o){if(!o)return r;var l=this.getPixelBounds(),c=new W(l.min.add(r),l.max.add(r));return r.add(this._getBoundsOffset(c,o))},_getBoundsOffset:function(r,o,l){var c=te(this.project(o.getNorthEast(),l),this.project(o.getSouthWest(),l)),f=c.min.subtract(r.min),_=c.max.subtract(r.max),S=this._rebound(f.x,-_.x),C=this._rebound(f.y,-_.y);return new A(S,C)},_rebound:function(r,o){return r+o>0?Math.round(r-o)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(o))},_limitZoom:function(r){var o=this.getMinZoom(),l=this.getMaxZoom(),c=V.any3d?this.options.zoomSnap:1;return c&&(r=Math.round(r/c)*c),Math.max(o,Math.min(l,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Pe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,o){var l=this._getCenterOffset(r)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,o),!0)},_createAnimProxy:function(){var r=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(o){var l=Ha,c=this._proxy.style[l];Vn(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ye(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),o=this.getZoom();Vn(this._proxy,this.project(r,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,o,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(o),f=this._getCenterOffset(r)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(oe(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(r,o,!0)},this),!0)},_animateZoom:function(r,o,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=o,ee(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:o,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Pe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function n_(r,o){return new se(r,o)}var Lt=Me.extend({options:{position:"topright"},initialize:function(r){E(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var o=this._map;return o&&o.removeControl(this),this.options.position=r,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var o=this._container=this.onAdd(r),l=this.getPosition(),c=r._controlCorners[l];return ee(o,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(o,c.firstChild):c.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ye(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),ki=function(r){return new Lt(r)};se.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},o="leaflet-",l=this._controlContainer=le("div",o+"control-container",this._container);function c(f,_){var S=o+f+" "+o+_;r[f+_]=le("div",S,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ye(this._controlCorners[r]);ye(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Gh=Lt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,o,l,c){return l<c?-1:c<l?1:0}},initialize:function(r,o,l){E(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in r)this._addLayer(r[c],c);for(c in o)this._addLayer(o[c],c,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Lt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,o){return this._addLayer(r,o),this._map?this._update():this},addOverlay:function(r,o){return this._addLayer(r,o,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var o=this._getLayer(h(r));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){ee(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(ee(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Pe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Pe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",o=this._container=le("div",r),l=this.options.collapsed;o.setAttribute("aria-haspopup",!0),bi(o),nl(o);var c=this._section=le("section",r+"-list");l&&(this._map.on("click",this.collapse,this),Y(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=le("a",r+"-toggle",o);f.href="#",f.title="Layers",f.setAttribute("role","button"),Y(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){Ue(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=le("div",r+"-base",c),this._separator=le("div",r+"-separator",c),this._overlaysList=le("div",r+"-overlays",c),o.appendChild(c)},_getLayer:function(r){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&h(this._layers[o].layer)===r)return this._layers[o]},_addLayer:function(r,o,l){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:o,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;zs(this._baseLayersList),zs(this._overlaysList),this._layerControlInputs=[];var r,o,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),o=o||c.overlay,r=r||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(r=r&&f>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=o&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var o=this._getLayer(h(r.target)),l=o.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;l&&this._map.fire(l,o)},_createRadioElement:function(r,o){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(o?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(r){var o=document.createElement("label"),l=this._map.hasLayer(r.layer),c;r.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+h(this),l),this._layerControlInputs.push(c),c.layerId=h(r.layer),Y(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+r.name;var _=document.createElement("span");o.appendChild(_),_.appendChild(c),_.appendChild(f);var S=r.overlay?this._overlaysList:this._baseLayersList;return S.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,o,l,c=[],f=[];this._handlingClick=!0;for(var _=r.length-1;_>=0;_--)o=r[_],l=this._getLayer(o.layerId).layer,o.checked?c.push(l):o.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,o,l,c=this._map.getZoom(),f=r.length-1;f>=0;f--)o=r[f],l=this._getLayer(o.layerId).layer,o.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Y(r,"click",Ue),this.expand();var o=this;setTimeout(function(){ce(r,"click",Ue),o._preventClick=!1})}}),r_=function(r,o,l){return new Gh(r,o,l)},il=Lt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var o="leaflet-control-zoom",l=le("div",o+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,o+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,o+"-out",l,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,o,l,c,f){var _=le("a",l,c);return _.innerHTML=r,_.href="#",_.title=o,_.setAttribute("role","button"),_.setAttribute("aria-label",o),bi(_),Y(_,"click",Kn),Y(_,"click",f,this),Y(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var r=this._map,o="leaflet-disabled";Pe(this._zoomInButton,o),Pe(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(ee(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(ee(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});se.mergeOptions({zoomControl:!0}),se.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new il,this.addControl(this.zoomControl))});var i_=function(r){return new il(r)},Kh=Lt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var o="leaflet-control-scale",l=le("div",o),c=this.options;return this._addScales(c,o+"-line",l),r.on(c.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),l},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,o,l){r.metric&&(this._mScale=le("div",o,l)),r.imperial&&(this._iScale=le("div",o,l))},_update:function(){var r=this._map,o=r.getSize().y/2,l=r.distance(r.containerPointToLatLng([0,o]),r.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(l)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var o=this._getRoundNum(r),l=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,l,o/r)},_updateImperial:function(r){var o=r*3.2808399,l,c,f;o>5280?(l=o/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(o),this._updateScale(this._iScale,f+" ft",f/o))},_updateScale:function(r,o,l){r.style.width=Math.round(this.options.maxWidth*l)+"px",r.innerHTML=o},_getRoundNum:function(r){var o=Math.pow(10,(Math.floor(r)+"").length-1),l=r/o;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,o*l}}),s_=function(r){return new Kh(r)},o_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',sl=Lt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(V.inlineSvg?o_+" ":"")+"Leaflet</a>"},initialize:function(r){E(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=le("div","leaflet-control-attribution"),bi(this._container);for(var o in r._layers)r._layers[o].getAttribution&&this.addAttribution(r._layers[o].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var o in this._attributions)this._attributions[o]&&r.push(o);var l=[];this.options.prefix&&l.push(this.options.prefix),r.length&&l.push(r.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});se.mergeOptions({attributionControl:!0}),se.addInitHook(function(){this.options.attributionControl&&new sl().addTo(this)});var a_=function(r){return new sl(r)};Lt.Layers=Gh,Lt.Zoom=il,Lt.Scale=Kh,Lt.Attribution=sl,ki.layers=r_,ki.zoom=i_,ki.scale=s_,ki.attribution=a_;var Ft=Me.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ft.addTo=function(r,o){return r.addHandler(o,this),this};var l_={Events:Se},Jh=V.touch?"touchstart mousedown":"mousedown",_n=ut.extend({options:{clickTolerance:3},initialize:function(r,o,l,c){E(this,c),this._element=r,this._dragStartTarget=o||r,this._preventOutline=l},enable:function(){this._enabled||(Y(this._dragStartTarget,Jh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,Jh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Wa(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){_n._dragging===this&&this.finishDrag();return}if(!(_n._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(_n._dragging=this,this._preventOutline&&Ya(this._element),Ga(),yi(),!this._moving)){this.fire("down");var o=r.touches?r.touches[0]:r,l=Fh(this._element);this._startPoint=new A(o.clientX,o.clientY),this._startPos=qn(this._element),this._parentScale=Qa(l);var c=r.type==="mousedown";Y(document,c?"mousemove":"touchmove",this._onMove,this),Y(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var o=r.touches&&r.touches.length===1?r.touches[0]:r,l=new A(o.clientX,o.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Ue(r),this._moved||(this.fire("dragstart"),this._moved=!0,ee(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ee(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ce(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Pe(document.body,"leaflet-dragging"),this._lastTarget&&(Pe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),Ka(),wi();var o=this._moved&&this._moving;this._moving=!1,_n._dragging=!1,o&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Yh(r,o,l){var c,f=[1,4,2,8],_,S,C,N,z,F,K,ne;for(_=0,F=r.length;_<F;_++)r[_]._code=Jn(r[_],o);for(C=0;C<4;C++){for(K=f[C],c=[],_=0,F=r.length,S=F-1;_<F;S=_++)N=r[_],z=r[S],N._code&K?z._code&K||(ne=Fs(z,N,K,o,l),ne._code=Jn(ne,o),c.push(ne)):(z._code&K&&(ne=Fs(z,N,K,o,l),ne._code=Jn(ne,o),c.push(ne)),c.push(N));r=c}return r}function Qh(r,o){var l,c,f,_,S,C,N,z,F;if(!r||r.length===0)throw new Error("latlngs not passed");wt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var K=q([0,0]),ne=I(r),Ke=ne.getNorthWest().distanceTo(ne.getSouthWest())*ne.getNorthEast().distanceTo(ne.getNorthWest());Ke<1700&&(K=ol(r));var De=r.length,xt=[];for(l=0;l<De;l++){var nt=q(r[l]);xt.push(o.project(q([nt.lat-K.lat,nt.lng-K.lng])))}for(C=N=z=0,l=0,c=De-1;l<De;c=l++)f=xt[l],_=xt[c],S=f.y*_.x-_.y*f.x,N+=(f.x+_.x)*S,z+=(f.y+_.y)*S,C+=S*3;C===0?F=xt[0]:F=[N/C,z/C];var Pr=o.unproject(R(F));return q([Pr.lat+K.lat,Pr.lng+K.lng])}function ol(r){for(var o=0,l=0,c=0,f=0;f<r.length;f++){var _=q(r[f]);o+=_.lat,l+=_.lng,c++}return q([o/c,l/c])}var u_={__proto__:null,clipPolygon:Yh,polygonCenter:Qh,centroid:ol};function Xh(r,o){if(!o||!r.length)return r.slice();var l=o*o;return r=d_(r,l),r=h_(r,l),r}function ed(r,o,l){return Math.sqrt(Si(r,o,l,!0))}function c_(r,o,l){return Si(r,o,l)}function h_(r,o){var l=r.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,al(r,f,o,0,l-1);var _,S=[];for(_=0;_<l;_++)f[_]&&S.push(r[_]);return S}function al(r,o,l,c,f){var _=0,S,C,N;for(C=c+1;C<=f-1;C++)N=Si(r[C],r[c],r[f],!0),N>_&&(S=C,_=N);_>l&&(o[S]=1,al(r,o,l,c,S),al(r,o,l,S,f))}function d_(r,o){for(var l=[r[0]],c=1,f=0,_=r.length;c<_;c++)f_(r[c],r[f])>o&&(l.push(r[c]),f=c);return f<_-1&&l.push(r[_-1]),l}var td;function nd(r,o,l,c,f){var _=c?td:Jn(r,l),S=Jn(o,l),C,N,z;for(td=S;;){if(!(_|S))return[r,o];if(_&S)return!1;C=_||S,N=Fs(r,o,C,l,f),z=Jn(N,l),C===_?(r=N,_=z):(o=N,S=z)}}function Fs(r,o,l,c,f){var _=o.x-r.x,S=o.y-r.y,C=c.min,N=c.max,z,F;return l&8?(z=r.x+_*(N.y-r.y)/S,F=N.y):l&4?(z=r.x+_*(C.y-r.y)/S,F=C.y):l&2?(z=N.x,F=r.y+S*(N.x-r.x)/_):l&1&&(z=C.x,F=r.y+S*(C.x-r.x)/_),new A(z,F,f)}function Jn(r,o){var l=0;return r.x<o.min.x?l|=1:r.x>o.max.x&&(l|=2),r.y<o.min.y?l|=4:r.y>o.max.y&&(l|=8),l}function f_(r,o){var l=o.x-r.x,c=o.y-r.y;return l*l+c*c}function Si(r,o,l,c){var f=o.x,_=o.y,S=l.x-f,C=l.y-_,N=S*S+C*C,z;return N>0&&(z=((r.x-f)*S+(r.y-_)*C)/N,z>1?(f=l.x,_=l.y):z>0&&(f+=S*z,_+=C*z)),S=r.x-f,C=r.y-_,c?S*S+C*C:new A(f,_)}function wt(r){return!x(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function rd(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),wt(r)}function id(r,o){var l,c,f,_,S,C,N,z;if(!r||r.length===0)throw new Error("latlngs not passed");wt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var F=q([0,0]),K=I(r),ne=K.getNorthWest().distanceTo(K.getSouthWest())*K.getNorthEast().distanceTo(K.getNorthWest());ne<1700&&(F=ol(r));var Ke=r.length,De=[];for(l=0;l<Ke;l++){var xt=q(r[l]);De.push(o.project(q([xt.lat-F.lat,xt.lng-F.lng])))}for(l=0,c=0;l<Ke-1;l++)c+=De[l].distanceTo(De[l+1])/2;if(c===0)z=De[0];else for(l=0,_=0;l<Ke-1;l++)if(S=De[l],C=De[l+1],f=S.distanceTo(C),_+=f,_>c){N=(_-c)/f,z=[C.x-N*(C.x-S.x),C.y-N*(C.y-S.y)];break}var nt=o.unproject(R(z));return q([nt.lat+F.lat,nt.lng+F.lng])}var p_={__proto__:null,simplify:Xh,pointToSegmentDistance:ed,closestPointOnSegment:c_,clipSegment:nd,_getEdgeIntersection:Fs,_getBitCode:Jn,_sqClosestPointOnSegment:Si,isFlat:wt,_flat:rd,polylineCenter:id},ll={project:function(r){return new A(r.lng,r.lat)},unproject:function(r){return new Z(r.y,r.x)},bounds:new W([-180,-90],[180,90])},ul={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var o=Math.PI/180,l=this.R,c=r.lat*o,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),S=_*Math.sin(c),C=Math.tan(Math.PI/4-c/2)/Math.pow((1-S)/(1+S),_/2);return c=-l*Math.log(Math.max(C,1e-10)),new A(r.lng*o*l,c)},unproject:function(r){for(var o=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-r.y/l),S=Math.PI/2-2*Math.atan(_),C=0,N=.1,z;C<15&&Math.abs(N)>1e-7;C++)z=f*Math.sin(S),z=Math.pow((1-z)/(1+z),f/2),N=Math.PI/2-2*Math.atan(_*z)-S,S+=N;return new Z(S*o,r.x*o/l)}},m_={__proto__:null,LonLat:ll,Mercator:ul,SphericalMercator:Aa},g_=s({},_t,{code:"EPSG:3395",projection:ul,transformation:function(){var r=.5/(Math.PI*ul.R);return mi(r,.5,-r,.5)}()}),sd=s({},_t,{code:"EPSG:4326",projection:ll,transformation:mi(1/180,1,-1/180,.5)}),v_=s({},ze,{projection:ll,transformation:mi(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,o){var l=o.lng-r.lng,c=o.lat-r.lat;return Math.sqrt(l*l+c*c)},infinite:!0});ze.Earth=_t,ze.EPSG3395=g_,ze.EPSG3857=za,ze.EPSG900913=kv,ze.EPSG4326=sd,ze.Simple=v_;var jt=ut.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var o=r.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var l=this.getEvents();o.on(l,this),this.once("remove",function(){o.off(l,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});se.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var o=h(r);return this._layers[o]?this:(this._layers[o]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var o=h(r);return this._layers[o]?(this._loaded&&r.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,o){for(var l in this._layers)r.call(o,this._layers[l]);return this},_addLayers:function(r){r=r?x(r)?r:[r]:[];for(var o=0,l=r.length;o<l;o++)this.addLayer(r[o])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var o=h(r);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,o=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;r=f.minZoom===void 0?r:Math.min(r,f.minZoom),o=f.maxZoom===void 0?o:Math.max(o,f.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=r===1/0?void 0:r,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wr=jt.extend({initialize:function(r,o){E(this,o),this._layers={};var l,c;if(r)for(l=0,c=r.length;l<c;l++)this.addLayer(r[l])},addLayer:function(r){var o=this.getLayerId(r);return this._layers[o]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var o=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(r){var o=typeof r=="number"?r:this.getLayerId(r);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var o=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[r]&&c[r].apply(c,o);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,o){for(var l in this._layers)r.call(o,this._layers[l]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),__=function(r,o){return new wr(r,o)},Yt=wr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),wr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),wr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new _e;for(var o in this._layers){var l=this._layers[o];r.extend(l.getBounds?l.getBounds():l.getLatLng())}return r}}),y_=function(r,o){return new Yt(r,o)},xr=Me.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){E(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,o){var l=this._getIconUrl(r);if(!l){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(c,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(r,o){var l=this.options,c=l[o+"Size"];typeof c=="number"&&(c=[c,c]);var f=R(c),_=R(o==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));r.className="leaflet-marker-"+o+" "+(l.className||""),_&&(r.style.marginLeft=-_.x+"px",r.style.marginTop=-_.y+"px"),f&&(r.style.width=f.x+"px",r.style.height=f.y+"px")},_createImg:function(r,o){return o=o||document.createElement("img"),o.src=r,o},_getIconUrl:function(r){return V.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function w_(r){return new xr(r)}var Pi=xr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Pi.imagePath!="string"&&(Pi.imagePath=this._detectIconPath()),(this.options.imagePath||Pi.imagePath)+xr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var o=function(l,c,f){var _=c.exec(l);return _&&_[f]};return r=o(r,/^url\((['"])?(.+)\1\)$/,2),r&&o(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=le("div","leaflet-default-icon-path",document.body),o=_i(r,"background-image")||_i(r,"backgroundImage");if(document.body.removeChild(r),o=this._stripUrl(o),o)return o;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),od=Ft.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new _n(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ee(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Pe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var o=this._marker,l=o._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=qn(o._icon),S=l.getPixelBounds(),C=l.getPixelOrigin(),N=te(S.min._subtract(C).add(f),S.max._subtract(C).subtract(f));if(!N.contains(_)){var z=R((Math.max(N.max.x,_.x)-N.max.x)/(S.max.x-N.max.x)-(Math.min(N.min.x,_.x)-N.min.x)/(S.min.x-N.min.x),(Math.max(N.max.y,_.y)-N.max.y)/(S.max.y-N.max.y)-(Math.min(N.min.y,_.y)-N.min.y)/(S.min.y-N.min.y)).multiplyBy(c);l.panBy(z,{animate:!1}),this._draggable._newPos._add(z),this._draggable._startPos._add(z),Ce(o._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=oe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(fe(this._panRequest),this._panRequest=oe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var o=this._marker,l=o._shadow,c=qn(o._icon),f=o._map.layerPointToLatLng(c);l&&Ce(l,c),o._latlng=f,r.latlng=f,r.oldLatLng=this._oldLatLng,o.fire("move",r).fire("drag",r)},_onDragEnd:function(r){fe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Zs=jt.extend({options:{icon:new Pi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,o){E(this,o),this._latlng=q(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var o=this._latlng;return this._latlng=q(r),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=r.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,r.title&&(l.title=r.title),l.tagName==="IMG"&&(l.alt=r.alt||"")),ee(l,o),r.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Y(l,"focus",this._panOnFocus,this);var f=r.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(ee(f,o),f.alt=""),this._shadow=f,r.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),ye(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ye(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ce(this._icon,r),this._shadow&&Ce(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(ee(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),od)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new od(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&yt(this._icon,r),this._shadow&&yt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var o=this.options.icon.options,l=o.iconSize?R(o.iconSize):R(0,0),c=o.iconAnchor?R(o.iconAnchor):R(0,0);r.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function x_(r,o){return new Zs(r,o)}var yn=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return E(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hs=yn.extend({options:{fill:!0,radius:10},initialize:function(r,o){E(this,o),this._latlng=q(r),this._radius=this.options.radius},setLatLng:function(r){var o=this._latlng;return this._latlng=q(r),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var o=r&&r.radius||this._radius;return yn.prototype.setStyle.call(this,r),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,o=this._radiusY||r,l=this._clickTolerance(),c=[r+l,o+l];this._pxBounds=new W(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function b_(r,o){return new Hs(r,o)}var cl=Hs.extend({initialize:function(r,o,l){if(typeof o=="number"&&(o=s({},l,{radius:o})),E(this,o),this._latlng=q(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new _e(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:yn.prototype.setStyle,_project:function(){var r=this._latlng.lng,o=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===_t.distance){var f=Math.PI/180,_=this._mRadius/_t.R/f,S=l.project([o+_,r]),C=l.project([o-_,r]),N=S.add(C).divideBy(2),z=l.unproject(N).lat,F=Math.acos((Math.cos(_*f)-Math.sin(o*f)*Math.sin(z*f))/(Math.cos(o*f)*Math.cos(z*f)))/f;(isNaN(F)||F===0)&&(F=_/Math.cos(Math.PI/180*o)),this._point=N.subtract(l.getPixelOrigin()),this._radius=isNaN(F)?0:N.x-l.project([z,r-F]).x,this._radiusY=N.y-S.y}else{var K=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(K).x}this._updateBounds()}});function k_(r,o,l){return new cl(r,o,l)}var Qt=yn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,o){E(this,o),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var o=1/0,l=null,c=Si,f,_,S=0,C=this._parts.length;S<C;S++)for(var N=this._parts[S],z=1,F=N.length;z<F;z++){f=N[z-1],_=N[z];var K=c(r,f,_,!0);K<o&&(o=K,l=c(r,f,_))}return l&&(l.distance=Math.sqrt(o)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return id(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,o){return o=o||this._defaultShape(),r=q(r),o.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new _e,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return wt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var o=[],l=wt(r),c=0,f=r.length;c<f;c++)l?(o[c]=q(r[c]),this._bounds.extend(o[c])):o[c]=this._convertLatLngs(r[c]);return o},_project:function(){var r=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),o=new A(r,r);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(r,o,l){var c=r[0]instanceof Z,f=r.length,_,S;if(c){for(S=[],_=0;_<f;_++)S[_]=this._map.latLngToLayerPoint(r[_]),l.extend(S[_]);o.push(S)}else for(_=0;_<f;_++)this._projectLatlngs(r[_],o,l)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,l,c,f,_,S,C,N;for(l=0,f=0,_=this._rings.length;l<_;l++)for(N=this._rings[l],c=0,S=N.length;c<S-1;c++)C=nd(N[c],N[c+1],r,c,!0),C&&(o[f]=o[f]||[],o[f].push(C[0]),(C[1]!==N[c+1]||c===S-2)&&(o[f].push(C[1]),f++))}},_simplifyPoints:function(){for(var r=this._parts,o=this.options.smoothFactor,l=0,c=r.length;l<c;l++)r[l]=Xh(r[l],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,o){var l,c,f,_,S,C,N=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(l=0,_=this._parts.length;l<_;l++)for(C=this._parts[l],c=0,S=C.length,f=S-1;c<S;f=c++)if(!(!o&&c===0)&&ed(r,C[f],C[c])<=N)return!0;return!1}});function S_(r,o){return new Qt(r,o)}Qt._flat=rd;var br=Qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Qh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var o=Qt.prototype._convertLatLngs.call(this,r),l=o.length;return l>=2&&o[0]instanceof Z&&o[0].equals(o[l-1])&&o.pop(),o},_setLatLngs:function(r){Qt.prototype._setLatLngs.call(this,r),wt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return wt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,o=this.options.weight,l=new A(o,o);if(r=new W(r.min.subtract(l),r.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=Yh(this._rings[c],r,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var o=!1,l,c,f,_,S,C,N,z;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(_=0,N=this._parts.length;_<N;_++)for(l=this._parts[_],S=0,z=l.length,C=z-1;S<z;C=S++)c=l[S],f=l[C],c.y>r.y!=f.y>r.y&&r.x<(f.x-c.x)*(r.y-c.y)/(f.y-c.y)+c.x&&(o=!o);return o||Qt.prototype._containsPoint.call(this,r,!0)}});function P_(r,o){return new br(r,o)}var Xt=Yt.extend({initialize:function(r,o){E(this,o),this._layers={},r&&this.addData(r)},addData:function(r){var o=x(r)?r:r.features,l,c,f;if(o){for(l=0,c=o.length;l<c;l++)f=o[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(r))return this;var S=Ws(r,_);return S?(S.feature=Gs(r),S.defaultOptions=S.options,this.resetStyle(S),_.onEachFeature&&_.onEachFeature(r,S),this.addLayer(S)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(o){this._setLayerStyle(o,r)},this)},_setLayerStyle:function(r,o){r.setStyle&&(typeof o=="function"&&(o=o(r.feature)),r.setStyle(o))}});function Ws(r,o){var l=r.type==="Feature"?r.geometry:r,c=l?l.coordinates:null,f=[],_=o&&o.pointToLayer,S=o&&o.coordsToLatLng||hl,C,N,z,F;if(!c&&!l)return null;switch(l.type){case"Point":return C=S(c),ad(_,r,C,o);case"MultiPoint":for(z=0,F=c.length;z<F;z++)C=S(c[z]),f.push(ad(_,r,C,o));return new Yt(f);case"LineString":case"MultiLineString":return N=Vs(c,l.type==="LineString"?0:1,S),new Qt(N,o);case"Polygon":case"MultiPolygon":return N=Vs(c,l.type==="Polygon"?1:2,S),new br(N,o);case"GeometryCollection":for(z=0,F=l.geometries.length;z<F;z++){var K=Ws({geometry:l.geometries[z],type:"Feature",properties:r.properties},o);K&&f.push(K)}return new Yt(f);case"FeatureCollection":for(z=0,F=l.features.length;z<F;z++){var ne=Ws(l.features[z],o);ne&&f.push(ne)}return new Yt(f);default:throw new Error("Invalid GeoJSON object.")}}function ad(r,o,l,c){return r?r(o,l):new Zs(l,c&&c.markersInheritOptions&&c)}function hl(r){return new Z(r[1],r[0],r[2])}function Vs(r,o,l){for(var c=[],f=0,_=r.length,S;f<_;f++)S=o?Vs(r[f],o-1,l):(l||hl)(r[f]),c.push(S);return c}function dl(r,o){return r=q(r),r.alt!==void 0?[w(r.lng,o),w(r.lat,o),w(r.alt,o)]:[w(r.lng,o),w(r.lat,o)]}function qs(r,o,l,c){for(var f=[],_=0,S=r.length;_<S;_++)f.push(o?qs(r[_],wt(r[_])?0:o-1,l,c):dl(r[_],c));return!o&&l&&f.length>0&&f.push(f[0].slice()),f}function kr(r,o){return r.feature?s({},r.feature,{geometry:o}):Gs(o)}function Gs(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var fl={toGeoJSON:function(r){return kr(this,{type:"Point",coordinates:dl(this.getLatLng(),r)})}};Zs.include(fl),cl.include(fl),Hs.include(fl),Qt.include({toGeoJSON:function(r){var o=!wt(this._latlngs),l=qs(this._latlngs,o?1:0,!1,r);return kr(this,{type:(o?"Multi":"")+"LineString",coordinates:l})}}),br.include({toGeoJSON:function(r){var o=!wt(this._latlngs),l=o&&!wt(this._latlngs[0]),c=qs(this._latlngs,l?2:o?1:0,!0,r);return o||(c=[c]),kr(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),wr.include({toMultiPoint:function(r){var o=[];return this.eachLayer(function(l){o.push(l.toGeoJSON(r).geometry.coordinates)}),kr(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(r){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(r);var l=o==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(r);if(l)c.push(_.geometry);else{var S=Gs(_);S.type==="FeatureCollection"?c.push.apply(c,S.features):c.push(S)}}}),l?kr(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function ld(r,o){return new Xt(r,o)}var E_=ld,Ks=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,o,l){this._url=r,this._bounds=I(o),E(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ee(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ye(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&_r(this._image),this},bringToBack:function(){return this._map&&yr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=I(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",o=this._image=r?this._url:le("img");if(ee(o,"leaflet-image-layer"),this._zoomAnimated&&ee(o,"leaflet-zoom-animated"),this.options.className&&ee(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onload=u(this.fire,this,"load"),o.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(r){var o=this._map.getZoomScale(r.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Vn(this._image,l,o)},_reset:function(){var r=this._image,o=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=o.getSize();Ce(r,o.min),r.style.width=l.x+"px",r.style.height=l.y+"px"},_updateOpacity:function(){yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),T_=function(r,o,l){return new Ks(r,o,l)},ud=Ks.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",o=this._image=r?this._url:le("video");if(ee(o,"leaflet-image-layer"),this._zoomAnimated&&ee(o,"leaflet-zoom-animated"),this.options.className&&ee(o,this.options.className),o.onselectstart=v,o.onmousemove=v,o.onloadeddata=u(this.fire,this,"load"),r){for(var l=o.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[o.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var S=le("source");S.src=this._url[_],o.appendChild(S)}}});function C_(r,o,l){return new ud(r,o,l)}var cd=Ks.extend({_initImage:function(){var r=this._image=this._url;ee(r,"leaflet-image-layer"),this._zoomAnimated&&ee(r,"leaflet-zoom-animated"),this.options.className&&ee(r,this.options.className),r.onselectstart=v,r.onmousemove=v}});function L_(r,o,l){return new cd(r,o,l)}var Zt=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,o){r&&(r instanceof Z||x(r))?(this._latlng=q(r),E(this,o)):(E(this,r),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&yt(this._container,1),this.bringToFront(),this.options.interactive&&(ee(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(yt(this._container,0),this._removeTimeout=setTimeout(u(ye,void 0,this._container),200)):ye(this._container),this.options.interactive&&(Pe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=q(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&_r(this._container),this},bringToBack:function(){return this._map&&yr(this._container),this},_prepareOpen:function(r){var o=this._source;if(!o._map)return!1;if(o instanceof Yt){o=null;var l=this._source._layers;for(var c in l)if(l[c]._map){o=l[c];break}if(!o)return!1;this._source=o}if(!r)if(o.getCenter)r=o.getCenter();else if(o.getLatLng)r=o.getLatLng();else if(o.getBounds)r=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")r.innerHTML=o;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),o=R(this.options.offset),l=this._getAnchor();this._zoomAnimated?Ce(this._container,r.add(l)):o=o.add(r).add(l);var c=this._containerBottom=-o.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});se.include({_initOverlay:function(r,o,l,c){var f=o;return f instanceof r||(f=new r(c).setContent(o)),l&&f.setLatLng(l),f}}),jt.include({_initOverlay:function(r,o,l,c){var f=l;return f instanceof r?(E(f,c),f._source=this):(f=o&&!c?o:new r(c,this),f.setContent(l)),f}});var Js=Zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Zt.prototype.openOn.call(this,r)},onAdd:function(r){Zt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof yn||this._source.on("preclick",Gn))},onRemove:function(r){Zt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof yn||this._source.off("preclick",Gn))},getEvents:function(){var r=Zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",o=this._container=le("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=le("div",r+"-content-wrapper",o);if(this._contentNode=le("div",r+"-content",l),bi(o),nl(this._contentNode),Y(o,"contextmenu",Gn),this._tipContainer=le("div",r+"-tip-container",o),this._tip=le("div",r+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=le("a",r+"-close-button",o);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Y(c,"click",function(f){Ue(f),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,o=r.style;o.width="",o.whiteSpace="nowrap";var l=r.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),o.width=l+1+"px",o.whiteSpace="",o.height="";var c=r.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(o.height=f+"px",ee(r,_)):Pe(r,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),l=this._getAnchor();Ce(this._container,o.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,o=parseInt(_i(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+o,c=this._containerWidth,f=new A(this._containerLeft,-l-this._containerBottom);f._add(qn(this._container));var _=r.layerPointToContainerPoint(f),S=R(this.options.autoPanPadding),C=R(this.options.autoPanPaddingTopLeft||S),N=R(this.options.autoPanPaddingBottomRight||S),z=r.getSize(),F=0,K=0;_.x+c+N.x>z.x&&(F=_.x+c-z.x+N.x),_.x-F-C.x<0&&(F=_.x-C.x),_.y+l+N.y>z.y&&(K=_.y+l-z.y+N.y),_.y-K-C.y<0&&(K=_.y-C.y),(F||K)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([F,K]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),j_=function(r,o){return new Js(r,o)};se.mergeOptions({closePopupOnClick:!0}),se.include({openPopup:function(r,o,l){return this._initOverlay(Js,r,o,l).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),jt.include({bindPopup:function(r,o){return this._popup=this._initOverlay(Js,this._popup,r,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Yt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Kn(r);var o=r.layer||r.target;if(this._popup._source===o&&!(o instanceof yn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=o,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ys=Zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Zt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Zt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Zt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",o=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var o,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),S=c.layerPointToContainerPoint(r),C=this.options.direction,N=f.offsetWidth,z=f.offsetHeight,F=R(this.options.offset),K=this._getAnchor();C==="top"?(o=N/2,l=z):C==="bottom"?(o=N/2,l=0):C==="center"?(o=N/2,l=z/2):C==="right"?(o=0,l=z/2):C==="left"?(o=N,l=z/2):S.x<_.x?(C="right",o=0,l=z/2):(C="left",o=N+(F.x+K.x)*2,l=z/2),r=r.subtract(R(o,l,!0)).add(F).add(K),Pe(f,"leaflet-tooltip-right"),Pe(f,"leaflet-tooltip-left"),Pe(f,"leaflet-tooltip-top"),Pe(f,"leaflet-tooltip-bottom"),ee(f,"leaflet-tooltip-"+C),Ce(f,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&yt(this._container,r)},_animateZoom:function(r){var o=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(o)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),N_=function(r,o){return new Ys(r,o)};se.include({openTooltip:function(r,o,l){return this._initOverlay(Ys,r,o,l).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),jt.include({bindTooltip:function(r,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ys,this._tooltip,r,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var o=r?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[o](l),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Yt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&(Y(o,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Y(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var o=typeof r.getElement=="function"&&r.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var o=r.latlng,l,c;this._tooltip.options.sticky&&r.originalEvent&&(l=this._map.mouseEventToContainerPoint(r.originalEvent),c=this._map.containerPointToLayerPoint(l),o=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(o)}});var hd=xr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var o=r&&r.tagName==="DIV"?r:document.createElement("div"),l=this.options;if(l.html instanceof Element?(zs(o),o.appendChild(l.html)):o.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=R(l.bgPos);o.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function O_(r){return new hd(r)}xr.Default=Pi;var Ei=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:V.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){E(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ye(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(_r(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof A?r:new A(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var o=this.getPane().children,l=-r(-1/0,1/0),c=0,f=o.length,_;c<f;c++)_=o[c].style.zIndex,o[c]!==this._container&&_&&(l=r(l,+_));isFinite(l)&&(this.options.zIndex=l+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!V.ielt9){yt(this._container,this.options.opacity);var r=+new Date,o=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(r-f.loaded)/200);yt(f.el,_),_<1?o=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),o&&(fe(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,o=this.options.maxZoom;if(r!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===r?(this._levels[l].el.style.zIndex=o-Math.abs(r-l),this._onUpdateLevel(l)):(ye(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[r],f=this._map;return c||(c=this._levels[r]={},c.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=o,c.origin=f.project(f.unproject(f.getPixelOrigin()),r).round(),c.zoom=r,this._setZoomTransform(c,f.getCenter(),f.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var r,o,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)o=this._tiles[r],o.retain=o.current;for(r in this._tiles)if(o=this._tiles[r],o.current&&!o.active){var c=o.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var o in this._tiles)this._tiles[o].coords.z===r&&this._removeTile(o)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ye(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,o,l,c){var f=Math.floor(r/2),_=Math.floor(o/2),S=l-1,C=new A(+f,+_);C.z=+S;var N=this._tileCoordsToKey(C),z=this._tiles[N];return z&&z.active?(z.retain=!0,!0):(z&&z.loaded&&(z.retain=!0),S>c?this._retainParent(f,_,S,c):!1)},_retainChildren:function(r,o,l,c){for(var f=2*r;f<2*r+2;f++)for(var _=2*o;_<2*o+2;_++){var S=new A(f,_);S.z=l+1;var C=this._tileCoordsToKey(S),N=this._tiles[C];if(N&&N.active){N.retain=!0;continue}else N&&N.loaded&&(N.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(r){var o=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var o=this.options;return o.minNativeZoom!==void 0&&r<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<r?o.maxNativeZoom:r},_setView:function(r,o,l,c){var f=Math.round(o);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(r),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(r,o)},_setZoomTransforms:function(r,o){for(var l in this._levels)this._setZoomTransform(this._levels[l],r,o)},_setZoomTransform:function(r,o,l){var c=this._map.getZoomScale(l,r.zoom),f=r.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(o,l)).round();V.any3d?Vn(r.el,f,c):Ce(r.el,f)},_resetGrid:function(){var r=this._map,o=r.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,o.wrapLng[0]],c).x/l.x),Math.ceil(r.project([0,o.wrapLng[1]],c).x/l.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([o.wrapLat[0],0],c).y/l.x),Math.ceil(r.project([o.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var o=this._map,l=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),c=o.getZoomScale(l,this._tileZoom),f=o.project(r,this._tileZoom).floor(),_=o.getSize().divideBy(c*2);return new W(f.subtract(_),f.add(_))},_update:function(r){var o=this._map;if(o){var l=this._clampZoom(o.getZoom());if(r===void 0&&(r=o.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(r),f=this._pxBoundsToTileRange(c),_=f.getCenter(),S=[],C=this.options.keepBuffer,N=new W(f.getBottomLeft().subtract([C,-C]),f.getTopRight().add([C,-C]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var z in this._tiles){var F=this._tiles[z].coords;(F.z!==this._tileZoom||!N.contains(new A(F.x,F.y)))&&(this._tiles[z].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(r,l);return}for(var K=f.min.y;K<=f.max.y;K++)for(var ne=f.min.x;ne<=f.max.x;ne++){var Ke=new A(ne,K);if(Ke.z=this._tileZoom,!!this._isValidTile(Ke)){var De=this._tiles[this._tileCoordsToKey(Ke)];De?De.current=!0:S.push(Ke)}}if(S.sort(function(nt,Pr){return nt.distanceTo(_)-Pr.distanceTo(_)}),S.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var xt=document.createDocumentFragment();for(ne=0;ne<S.length;ne++)this._addTile(S[ne],xt);this._level.el.appendChild(xt)}}}},_isValidTile:function(r){var o=this._map.options.crs;if(!o.infinite){var l=this._globalTileRange;if(!o.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!o.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(r);return I(this.options.bounds).overlaps(c)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var o=this._map,l=this.getTileSize(),c=r.scaleBy(l),f=c.add(l),_=o.unproject(c,r.z),S=o.unproject(f,r.z);return[_,S]},_tileCoordsToBounds:function(r){var o=this._tileCoordsToNwSe(r),l=new _e(o[0],o[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var o=r.split(":"),l=new A(+o[0],+o[1]);return l.z=+o[2],l},_removeTile:function(r){var o=this._tiles[r];o&&(ye(o.el),delete this._tiles[r],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){ee(r,"leaflet-tile");var o=this.getTileSize();r.style.width=o.x+"px",r.style.height=o.y+"px",r.onselectstart=v,r.onmousemove=v,V.ielt9&&this.options.opacity<1&&yt(r,this.options.opacity)},_addTile:function(r,o){var l=this._getTilePos(r),c=this._tileCoordsToKey(r),f=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(f),this.createTile.length<2&&oe(u(this._tileReady,this,r,null,f)),Ce(f,l),this._tiles[c]={el:f,coords:r,current:!0},o.appendChild(f),this.fire("tileloadstart",{tile:f,coords:r})},_tileReady:function(r,o,l){o&&this.fire("tileerror",{error:o,tile:l,coords:r});var c=this._tileCoordsToKey(r);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(yt(l.el,0),fe(this._fadeFrame),this._fadeFrame=oe(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),o||(ee(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),V.ielt9||!this._map._fadeAnimated?oe(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var o=new A(this._wrapX?g(r.x,this._wrapX):r.x,this._wrapY?g(r.y,this._wrapY):r.y);return o.z=r.z,o},_pxBoundsToTileRange:function(r){var o=this.getTileSize();return new W(r.min.unscaleBy(o).floor(),r.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function R_(r){return new Ei(r)}var Sr=Ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,o){this._url=r,o=E(this,o),o.detectRetina&&V.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,o){return this._url===r&&o===void 0&&(o=!0),this._url=r,o||this.redraw(),this},createTile:function(r,o){var l=document.createElement("img");return Y(l,"load",u(this._tileOnLoad,this,o,l)),Y(l,"error",u(this._tileOnError,this,o,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(r),l},getTileUrl:function(r){var o={r:V.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-r.y;this.options.tms&&(o.y=l),o["-y"]=l}return y(this._url,s(o,this.options))},_tileOnLoad:function(r,o){V.ielt9?setTimeout(u(r,this,null,o),0):r(null,o)},_tileOnError:function(r,o,l){var c=this.options.errorTileUrl;c&&o.getAttribute("src")!==c&&(o.src=c),r(l,o)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,o=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(r=o-r),r+c},_getSubdomain:function(r){var o=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var r,o;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(o=this._tiles[r].el,o.onload=v,o.onerror=v,!o.complete)){o.src=M;var l=this._tiles[r].coords;ye(o),delete this._tiles[r],this.fire("tileabort",{tile:o,coords:l})}},_removeTile:function(r){var o=this._tiles[r];if(o)return o.el.setAttribute("src",M),Ei.prototype._removeTile.call(this,r)},_tileReady:function(r,o,l){if(!(!this._map||l&&l.getAttribute("src")===M))return Ei.prototype._tileReady.call(this,r,o,l)}});function dd(r,o){return new Sr(r,o)}var fd=Sr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,o){this._url=r;var l=s({},this.defaultWmsParams);for(var c in o)c in this.options||(l[c]=o[c]);o=E(this,o);var f=o.detectRetina&&V.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Sr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var o=this._tileCoordsToNwSe(r),l=this._crs,c=te(l.project(o[0]),l.project(o[1])),f=c.min,_=c.max,S=(this._wmsVersion>=1.3&&this._crs===sd?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),C=Sr.prototype.getTileUrl.call(this,r);return C+O(this.wmsParams,C,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+S},setParams:function(r,o){return s(this.wmsParams,r),o||this.redraw(),this}});function I_(r,o){return new fd(r,o)}Sr.WMS=fd,dd.wms=I_;var en=jt.extend({options:{padding:.1},initialize:function(r){E(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ee(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,o){var l=this._map.getZoomScale(o,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,o),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(r,o));V.any3d?Vn(this._container,_,l):Ce(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,o=this._map.getSize(),l=this._map.containerPointToLayerPoint(o.multiplyBy(-r)).round();this._bounds=new W(l,l.add(o.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),pd=en.extend({options:{tolerance:0},getEvents:function(){var r=en.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){en.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Y(r,"mousemove",this._onMouseMove,this),Y(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Y(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){fe(this._redrawRequest),delete this._ctx,ye(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var o in this._layers)r=this._layers[o],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var r=this._bounds,o=this._container,l=r.getSize(),c=V.retina?2:1;Ce(o,r.min),o.width=c*l.x,o.height=c*l.y,o.style.width=l.x+"px",o.style.height=l.y+"px",V.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){en.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var o=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var o=r._order,l=o.next,c=o.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var o=r.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<o.length;f++){if(c=Number(o[f]),isNaN(c))return;l.push(c)}r.options._dashArray=l}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||oe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var o=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(r._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(r._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var o=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,o=this._redrawBounds;if(this._ctx.save(),o){var l=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)r=c.layer,(!o||r._pxBounds&&r._pxBounds.intersects(o))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,o){if(this._drawing){var l,c,f,_,S=r._parts,C=S.length,N=this._ctx;if(C){for(N.beginPath(),l=0;l<C;l++){for(c=0,f=S[l].length;c<f;c++)_=S[l][c],N[c?"lineTo":"moveTo"](_.x,_.y);o&&N.closePath()}this._fillStroke(N,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var o=r._point,l=this._ctx,c=Math.max(Math.round(r._radius),1),f=(Math.max(Math.round(r._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(o.x,o.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,r)}},_fillStroke:function(r,o){var l=o.options;l.fill&&(r.globalAlpha=l.fillOpacity,r.fillStyle=l.fillColor||l.color,r.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(r.setLineDash&&r.setLineDash(o.options&&o.options._dashArray||[]),r.globalAlpha=l.opacity,r.lineWidth=l.weight,r.strokeStyle=l.color,r.lineCap=l.lineCap,r.lineJoin=l.lineJoin,r.stroke())},_onClick:function(r){for(var o=this._map.mouseEventToLayerPoint(r),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,o)}},_handleMouseOut:function(r){var o=this._hoveredLayer;o&&(Pe(this._container,"leaflet-interactive"),this._fireEvent([o],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,o){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(o)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(r),c&&(ee(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,o,l){this._map._fireDOMEvent(o,l||o.type,r)},_bringToFront:function(r){var o=r._order;if(o){var l=o.next,c=o.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(r)}},_bringToBack:function(r){var o=r._order;if(o){var l=o.next,c=o.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(r)}}});function md(r){return V.canvas?new pd(r):null}var Ti=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),A_={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(en.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var o=r._container=Ti("shape");ee(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",r._path=Ti("path"),o.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var o=r._container;this._container.appendChild(o),r.options.interactive&&r.addInteractiveTarget(o)},_removePath:function(r){var o=r._container;ye(o),r.removeInteractiveTarget(o),delete this._layers[h(r)]},_updateStyle:function(r){var o=r._stroke,l=r._fill,c=r.options,f=r._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(o||(o=r._stroke=Ti("stroke")),f.appendChild(o),o.weight=c.weight+"px",o.color=c.color,o.opacity=c.opacity,c.dashArray?o.dashStyle=x(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=c.lineCap.replace("butt","flat"),o.joinstyle=c.lineJoin):o&&(f.removeChild(o),r._stroke=null),c.fill?(l||(l=r._fill=Ti("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),r._fill=null)},_updateCircle:function(r){var o=r._point.round(),l=Math.round(r._radius),c=Math.round(r._radiusY||l);this._setPath(r,r._empty()?"M0 0":"AL "+o.x+","+o.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(r,o){r._path.v=o},_bringToFront:function(r){_r(r._container)},_bringToBack:function(r){yr(r._container)}},Qs=V.vml?Ti:yh,Ci=en.extend({_initContainer:function(){this._container=Qs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Qs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ye(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){en.prototype._update.call(this);var r=this._bounds,o=r.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,l.setAttribute("width",o.x),l.setAttribute("height",o.y)),Ce(l,r.min),l.setAttribute("viewBox",[r.min.x,r.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(r){var o=r._path=Qs("path");r.options.className&&ee(o,r.options.className),r.options.interactive&&ee(o,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ye(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var o=r._path,l=r.options;o&&(l.stroke?(o.setAttribute("stroke",l.color),o.setAttribute("stroke-opacity",l.opacity),o.setAttribute("stroke-width",l.weight),o.setAttribute("stroke-linecap",l.lineCap),o.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?o.setAttribute("stroke-dasharray",l.dashArray):o.removeAttribute("stroke-dasharray"),l.dashOffset?o.setAttribute("stroke-dashoffset",l.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),l.fill?(o.setAttribute("fill",l.fillColor||l.color),o.setAttribute("fill-opacity",l.fillOpacity),o.setAttribute("fill-rule",l.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(r,o){this._setPath(r,wh(r._parts,o))},_updateCircle:function(r){var o=r._point,l=Math.max(Math.round(r._radius),1),c=Math.max(Math.round(r._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=r._empty()?"M0 0":"M"+(o.x-l)+","+o.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(r,_)},_setPath:function(r,o){r._path.setAttribute("d",o)},_bringToFront:function(r){_r(r._path)},_bringToBack:function(r){yr(r._path)}});V.vml&&Ci.include(A_);function gd(r){return V.svg||V.vml?new Ci(r):null}se.include({getRenderer:function(r){var o=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var o=this._paneRenderers[r];return o===void 0&&(o=this._createRenderer({pane:r}),this._paneRenderers[r]=o),o},_createRenderer:function(r){return this.options.preferCanvas&&md(r)||gd(r)}});var vd=br.extend({initialize:function(r,o){br.prototype.initialize.call(this,this._boundsToLatLngs(r),o)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=I(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function M_(r,o){return new vd(r,o)}Ci.create=Qs,Ci.pointsToPath=wh,Xt.geometryToLayer=Ws,Xt.coordsToLatLng=hl,Xt.coordsToLatLngs=Vs,Xt.latLngToCoords=dl,Xt.latLngsToCoords=qs,Xt.getFeature=kr,Xt.asFeature=Gs,se.mergeOptions({boxZoom:!0});var _d=Ft.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Y(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ye(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yi(),Ga(),this._startPoint=this._map.mouseEventToContainerPoint(r),Y(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),ee(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var o=new W(this._point,this._startPoint),l=o.getSize();Ce(this._box,o.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(ye(this._box),Pe(this._container,"leaflet-crosshair")),wi(),Ka(),ce(document,{contextmenu:Kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var o=new _e(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});se.addInitHook("addHandler","boxZoom",_d),se.mergeOptions({doubleClickZoom:!0});var yd=Ft.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var o=this._map,l=o.getZoom(),c=o.options.zoomDelta,f=r.originalEvent.shiftKey?l-c:l+c;o.options.doubleClickZoom==="center"?o.setZoom(f):o.setZoomAround(r.containerPoint,f)}});se.addInitHook("addHandler","doubleClickZoom",yd),se.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wd=Ft.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new _n(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}ee(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Pe(this._map._container,"leaflet-grab"),Pe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=I(this._map.options.maxBounds);this._offsetLimit=te(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var o=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(o),this._prunePositions(o)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,o){return r-(r-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;r.x<o.min.x&&(r.x=this._viscousLimit(r.x,o.min.x)),r.y<o.min.y&&(r.y=this._viscousLimit(r.y,o.min.y)),r.x>o.max.x&&(r.x=this._viscousLimit(r.x,o.max.x)),r.y>o.max.y&&(r.y=this._viscousLimit(r.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,o=Math.round(r/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-o+l)%r+o-l,_=(c+o+l)%r-o-l,S=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=S},_onDragEnd:function(r){var o=this._map,l=o.options,c=!l.inertia||r.noInertia||this._times.length<2;if(o.fire("dragend",r),c)o.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,S=l.easeLinearity,C=f.multiplyBy(S/_),N=C.distanceTo([0,0]),z=Math.min(l.inertiaMaxSpeed,N),F=C.multiplyBy(z/N),K=z/(l.inertiaDeceleration*S),ne=F.multiplyBy(-K/2).round();!ne.x&&!ne.y?o.fire("moveend"):(ne=o._limitOffset(ne,o.options.maxBounds),oe(function(){o.panBy(ne,{duration:K,easeLinearity:S,noMoveStart:!0,animate:!0})}))}}});se.addInitHook("addHandler","dragging",wd),se.mergeOptions({keyboard:!0,keyboardPanDelta:80});var xd=Ft.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Y(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,o=document.documentElement,l=r.scrollTop||o.scrollTop,c=r.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var o=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)o[l.left[c]]=[-1*r,0];for(c=0,f=l.right.length;c<f;c++)o[l.right[c]]=[r,0];for(c=0,f=l.down.length;c<f;c++)o[l.down[c]]=[0,r];for(c=0,f=l.up.length;c<f;c++)o[l.up[c]]=[0,-1*r]},_setZoomDelta:function(r){var o=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)o[l.zoomIn[c]]=r;for(c=0,f=l.zoomOut.length;c<f;c++)o[l.zoomOut[c]]=-r},_addHooks:function(){Y(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var o=r.keyCode,l=this._map,c;if(o in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[o],r.shiftKey&&(c=R(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(R(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(o in this._zoomKeys)l.setZoom(l.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Kn(r)}}});se.addInitHook("addHandler","keyboard",xd),se.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bd=Ft.extend({addHooks:function(){Y(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var o=Vh(r),l=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Kn(r)},_performZoom:function(){var r=this._map,o=r.getZoom(),l=this._map.options.zoomSnap||0;r._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,S=r._limitZoom(o+(this._delta>0?_:-_))-o;this._delta=0,this._startTime=null,S&&(r.options.scrollWheelZoom==="center"?r.setZoom(o+S):r.setZoomAround(this._lastMousePos,o+S))}});se.addInitHook("addHandler","scrollWheelZoom",bd);var z_=600;se.mergeOptions({tapHold:V.touchNative&&V.safari&&V.mobile,tapTolerance:15});var kd=Ft.extend({addHooks:function(){Y(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var o=r.touches[0];this._startPos=this._newPos=new A(o.clientX,o.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Y(document,"touchend",Ue),Y(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),z_),Y(document,"touchend touchcancel contextmenu",this._cancel,this),Y(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ce(document,"touchend",Ue),ce(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(r){var o=r.touches[0];this._newPos=new A(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,o){var l=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});l._simulated=!0,o.target.dispatchEvent(l)}});se.addInitHook("addHandler","tapHold",kd),se.mergeOptions({touchZoom:V.touch,bounceAtZoomLimits:!0});var Sd=Ft.extend({addHooks:function(){ee(this._map._container,"leaflet-touch-zoom"),Y(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Pe(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var o=this._map;if(!(!r.touches||r.touches.length!==2||o._animatingZoom||this._zooming)){var l=o.mouseEventToContainerPoint(r.touches[0]),c=o.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),Y(document,"touchmove",this._onTouchMove,this),Y(document,"touchend touchcancel",this._onTouchEnd,this),Ue(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var o=this._map,l=o.mouseEventToContainerPoint(r.touches[0]),c=o.mouseEventToContainerPoint(r.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=o.getScaleZoom(f,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&f<1||this._zoom>o.getMaxZoom()&&f>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),fe(this._animRequest);var S=u(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=oe(S,this,!0),Ue(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,fe(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});se.addInitHook("addHandler","touchZoom",Sd),se.BoxZoom=_d,se.DoubleClickZoom=yd,se.Drag=wd,se.Keyboard=xd,se.ScrollWheelZoom=bd,se.TapHold=kd,se.TouchZoom=Sd,n.Bounds=W,n.Browser=V,n.CRS=ze,n.Canvas=pd,n.Circle=cl,n.CircleMarker=Hs,n.Class=Me,n.Control=Lt,n.DivIcon=hd,n.DivOverlay=Zt,n.DomEvent=t_,n.DomUtil=Xv,n.Draggable=_n,n.Evented=ut,n.FeatureGroup=Yt,n.GeoJSON=Xt,n.GridLayer=Ei,n.Handler=Ft,n.Icon=xr,n.ImageOverlay=Ks,n.LatLng=Z,n.LatLngBounds=_e,n.Layer=jt,n.LayerGroup=wr,n.LineUtil=p_,n.Map=se,n.Marker=Zs,n.Mixin=l_,n.Path=yn,n.Point=A,n.PolyUtil=u_,n.Polygon=br,n.Polyline=Qt,n.Popup=Js,n.PosAnimation=qh,n.Projection=m_,n.Rectangle=vd,n.Renderer=en,n.SVG=Ci,n.SVGOverlay=cd,n.TileLayer=Sr,n.Tooltip=Ys,n.Transformation=Ma,n.Util=tt,n.VideoOverlay=ud,n.bind=u,n.bounds=te,n.canvas=md,n.circle=k_,n.circleMarker=b_,n.control=ki,n.divIcon=O_,n.extend=s,n.featureGroup=y_,n.geoJSON=ld,n.geoJson=E_,n.gridLayer=R_,n.icon=w_,n.imageOverlay=T_,n.latLng=q,n.latLngBounds=I,n.layerGroup=__,n.map=n_,n.marker=x_,n.point=R,n.polygon=P_,n.polyline=S_,n.popup=j_,n.rectangle=M_,n.setOptions=E,n.stamp=h,n.svg=gd,n.svgOverlay=L_,n.tileLayer=dd,n.tooltip=N_,n.transformation=mi,n.version=i,n.videoOverlay=C_;var D_=window.L;n.noConflict=function(){return window.L=D_,this},window.L=n})})(sc,sc.exports);var Wn=sc.exports;function vh(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function _h(t,e){return e==null?function(i,s){const a=P.useRef();return a.current||(a.current=t(i,s)),a}:function(i,s){const a=P.useRef();a.current||(a.current=t(i,s));const u=P.useRef(i),{instance:d}=a.current;return P.useEffect(function(){u.current!==i&&(e(d,i,u.current),u.current=i)},[d,i,s]),a}}function _v(t,e){P.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function yv(t){return function(n){const i=mh(),s=t(gh(n,i),i);return Lk(i.map,n.attribution),vv(s.current,n.eventHandlers),_v(s.current,i),s}}function Rk(t,e){const n=P.useRef();P.useEffect(function(){if(e.pathOptions!==n.current){const s=e.pathOptions??{};t.instance.setStyle(s),n.current=s}},[t,e])}function Ik(t){return function(n){const i=mh(),s=t(gh(n,i),i);return vv(s.current,n.eventHandlers),_v(s.current,i),Rk(s.current,n),s}}function Ak(t,e){const n=_h(t,e),i=yv(n);return gv(i)}function Mk(t,e){const n=_h(t,e),i=Ik(n);return gv(i)}function zk(t,e){const n=_h(t,e),i=yv(n);return Ok(i)}function Dk(t,e,n){const{opacity:i,zIndex:s}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function $k(){return mh().map}function Bk(t){const e=$k();return P.useEffect(function(){return e.on(t),function(){e.off(t)}},[e,t]),e}function oc(){return oc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},oc.apply(this,arguments)}function Uk({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:a,placeholder:u,style:d,whenReady:h,zoom:p,...g},v){const[w]=P.useState({className:s,id:a,style:d}),[k,T]=P.useState(null);P.useImperativeHandle(v,()=>(k==null?void 0:k.map)??null,[k]);const E=P.useCallback(b=>{if(b!==null&&k===null){const y=new Wn.Map(b,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),h!=null&&y.whenReady(h),T(Nk(y))}},[]);P.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const O=k?Ql.createElement(mv,{value:k},i):u??null;return Ql.createElement("div",oc({},w,{ref:E}),O)}const wv=P.forwardRef(Uk),ha=Ak(function({position:e,...n},i){const s=new Wn.Marker(e,n);return vh(s,fv(i,{overlayContainer:s}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),xv=Mk(function({positions:e,...n},i){const s=new Wn.Polyline(e,n);return vh(s,fv(i,{overlayContainer:s}))},function(e,n,i){n.positions!==i.positions&&e.setLatLngs(n.positions)}),bv=zk(function({url:e,...n},i){const s=new Wn.TileLayer(e,gh(n,i));return vh(s,i)},function(e,n,i){Dk(e,n,i);const{url:s}=n;s!=null&&s!==i.url&&e.setUrl(s)}),Fk=[48.8566,2.3522],Zk=new Wn.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Hk=new Wn.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function Wk({onMapClick:t}){return Bk({click:e=>{t(e.latlng.lat,e.latlng.lng)}}),null}function Vk(){const{user:t,profile:e,signOut:n}=Is(),i=Ls(),[s,a]=P.useState(null),[u,d]=P.useState(null),[h,p]=P.useState(null),[g,v]=P.useState([]),[w,k]=P.useState(null),[T,E]=P.useState([]),[O,b]=P.useState(""),[y,x]=P.useState(""),[j,M]=P.useState(!1),[D,$]=P.useState(""),[U,X]=P.useState("");P.useEffect(()=>{if(!t){i("/auth");return}G(),oe()},[t,i]),P.useEffect(()=>{s&&u&&tt()},[s,u]);const G=async()=>{const{data:R,error:W}=await Ee.from("taxis").select("*").eq("is_available",!0).order("price_per_km");W?console.error("Error loading taxis:",W):(v(R||[]),R&&R.length>0&&k(R[0]))},oe=async()=>{const{data:R,error:W}=await Ee.from("availabilities").select("*").eq("is_available",!0).gte("date",new Date().toISOString().split("T")[0]).order("date").order("time_slot");W?console.error("Error loading availabilities:",W):E(R||[])},fe=(R,W)=>{s?u?(a({lat:R,lng:W}),d(null),p(null)):d({lat:R,lng:W}):(a({lat:R,lng:W}),p(null))},tt=async()=>{if(!(!s||!u)){M(!0);try{const W=await(await fetch(`https://router.project-osrm.org/route/v1/driving/${s.lng},${s.lat};${u.lng},${u.lat}?overview=full&geometries=geojson`)).json();if(W.routes&&W.routes.length>0){const te=W.routes[0],_e=te.geometry.coordinates.map(I=>[I[1],I[0]]);p({distance:te.distance/1e3,duration:te.duration/60,coordinates:_e})}}catch(R){console.error("Error calculating route:",R),$("Erreur lors du calcul de l'itinraire")}finally{M(!1)}}},Me=()=>!h||!w?0:(h.distance*w.price_per_km*w.multiplier).toFixed(2),vn=()=>{a(null),d(null),p(null),b(""),x(""),$(""),X("")},Se=async()=>{if(!s||!u||!h||!w||!O||!y||!t){$("Veuillez remplir tous les champs");return}M(!0),$("");try{const{error:R}=await Ee.from("rides").insert({user_id:t.id,taxi_id:w.id,start_location:`${s.lat}, ${s.lng}`,start_lat:s.lat,start_lng:s.lng,end_location:`${u.lat}, ${u.lng}`,end_lat:u.lat,end_lng:u.lng,distance_km:h.distance,estimated_time:Math.round(h.duration),price:parseFloat(Me()),ride_date:O,ride_time:y,status:"pending"});if(R)throw R;const{error:W}=await Ee.from("availabilities").update({is_available:!1}).eq("date",O).eq("time_slot",y);W&&console.error("Error updating availability:",W),X("Rservation confirme ! Vous recevrez une confirmation par email."),setTimeout(()=>{vn(),X("")},3e3)}catch(R){R instanceof Error?$(R.message):$("Erreur lors de la rservation")}finally{M(!1)}},ut=[...new Set(T.map(R=>R.date))],A=O?T.filter(R=>R.date===O&&R.is_available):[],J=async()=>{await n(),i("/")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-amber-950 relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtb3BhY2l0eT0iMC4wMiI+PHBhdGggZD0iTTM2IDE0YzMuMzEgMCA2IDIuNjkgNiA2cy0yLjY5IDYtNiA2LTYtMi42OS02LTYgMi42OS02IDYtNk0yMCA0MGMzLjMxIDAgNiAyLjY5IDYgNnMtMi42OSA2LTYgNi02LTIuNjktNi02IDIuNjktNiA2LTZ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"}),m.jsx("div",{className:"absolute top-20 left-10 w-64 h-64 bg-amber-500/10 rounded-full blur-3xl"}),m.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-yellow-500/10 rounded-full blur-3xl"}),m.jsx("nav",{className:"relative bg-slate-900/70 backdrop-blur-md border-b border-amber-500/20 shadow-lg shadow-amber-500/5",children:m.jsx("div",{className:"container mx-auto px-6 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3 group",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 bg-amber-500 blur-lg opacity-50 group-hover:opacity-75 transition-opacity"}),m.jsx(cn,{className:"w-9 h-9 text-amber-400 relative transform group-hover:scale-110 transition-transform"})]}),m.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-amber-400 via-yellow-300 to-amber-400 text-transparent bg-clip-text",children:"Taxi Patrice"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-amber-300 bg-slate-800/50 px-4 py-2 rounded-xl border border-amber-500/20",children:[m.jsx(dv,{className:"w-5 h-5"}),m.jsx("span",{className:"font-semibold",children:e==null?void 0:e.full_name})]}),(e==null?void 0:e.is_admin)&&m.jsxs("button",{onClick:()=>i("/admin"),className:"group px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-400 hover:to-teal-500 text-white font-bold rounded-xl transition-all transform hover:scale-105 hover:shadow-xl hover:shadow-emerald-500/50 flex items-center gap-2",children:[m.jsx(xk,{className:"w-4 h-4"}),"Admin"]}),m.jsxs("button",{onClick:J,className:"px-4 py-2 bg-slate-800/50 hover:bg-slate-700 text-white font-semibold rounded-xl transition-all flex items-center gap-2 border border-slate-600/50",children:[m.jsx(hv,{className:"w-4 h-4"}),"Dconnexion"]})]})]})})}),m.jsxs("main",{className:"container mx-auto px-6 py-8 relative",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:"Rserver une Course"}),m.jsx("p",{className:"text-slate-400 text-lg",children:"Slectionnez votre trajet sur la carte et choisissez vos options"})]}),m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsx("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 overflow-hidden shadow-2xl shadow-amber-500/10",children:m.jsxs(wv,{center:Fk,zoom:13,style:{height:"500px",width:"100%"},children:[m.jsx(bv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),m.jsx(Wk,{onMapClick:fe}),s&&m.jsx(ha,{position:[s.lat,s.lng],icon:Zk}),u&&m.jsx(ha,{position:[u.lat,u.lng],icon:Hk}),h&&m.jsx(xv,{positions:h.coordinates,color:"blue",weight:4})]})}),m.jsxs("div",{className:"mt-4 bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 p-6 shadow-xl shadow-amber-500/10",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-3 bg-green-500/10 p-3 rounded-xl border border-green-500/20",children:[m.jsx(bs,{className:"w-5 h-5 text-green-400"}),m.jsx("span",{className:"font-bold text-green-300",children:"Dpart:"}),m.jsx("span",{className:"text-sm",children:s?`${s.lat.toFixed(4)}, ${s.lng.toFixed(4)}`:"Cliquez sur la carte"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-4 bg-red-500/10 p-3 rounded-xl border border-red-500/20",children:[m.jsx(bs,{className:"w-5 h-5 text-red-400"}),m.jsx("span",{className:"font-bold text-red-300",children:"Arrive:"}),m.jsx("span",{className:"text-sm",children:u?`${u.lat.toFixed(4)}, ${u.lng.toFixed(4)}`:"Cliquez sur la carte"})]}),h&&m.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 mb-4 border-t border-amber-500/20",children:[m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-amber-500/10",children:[m.jsx("div",{className:"text-amber-400 text-sm font-semibold",children:"Distance"}),m.jsxs("div",{className:"text-white text-2xl font-black",children:[h.distance.toFixed(2)," km"]})]}),m.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-amber-500/10",children:[m.jsx("div",{className:"text-amber-400 text-sm font-semibold",children:"Temps estim"}),m.jsxs("div",{className:"text-white text-2xl font-black",children:[Math.round(h.duration)," min"]})]})]}),m.jsx("button",{onClick:vn,className:"w-full px-4 py-3 bg-slate-800/80 hover:bg-slate-700 text-white font-bold rounded-xl transition-all border border-slate-600/50 hover:border-amber-500/30",children:"Rinitialiser"})]})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 p-6 shadow-xl shadow-amber-500/10",children:[m.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[m.jsx(cn,{className:"w-6 h-6 text-amber-400"}),"Choisissez votre taxi"]}),m.jsx("div",{className:"space-y-3",children:g.map(R=>m.jsx("button",{onClick:()=>k(R),className:`group w-full p-5 rounded-xl border-2 transition-all transform hover:scale-105 ${(w==null?void 0:w.id)===R.id?"border-amber-500 bg-gradient-to-r from-amber-500/20 to-yellow-500/20 shadow-lg shadow-amber-500/30":"border-slate-600/50 bg-slate-800/50 hover:border-amber-500/30"}`,children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"text-left",children:[m.jsx("div",{className:"text-white font-bold text-lg",children:R.name}),m.jsx("div",{className:"text-slate-400 text-sm",children:R.vehicle_type})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("div",{className:"text-amber-400 font-black text-lg",children:[R.price_per_km,"/km"]}),R.multiplier!==1&&m.jsxs("div",{className:"text-amber-300 text-xs font-semibold",children:["x",R.multiplier]})]})]})},R.id))})]}),m.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 p-6 shadow-xl shadow-amber-500/10",children:[m.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[m.jsx(ca,{className:"w-6 h-6 text-amber-400"}),"Date et Heure"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center gap-2 text-slate-300 mb-3 font-bold",children:[m.jsx(ca,{className:"w-4 h-4 text-amber-400"}),"Date"]}),m.jsxs("select",{value:O,onChange:R=>{b(R.target.value),x("")},className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white font-semibold focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",children:[m.jsx("option",{value:"",children:"Slectionnez une date"}),ut.map(R=>m.jsx("option",{value:R,children:new Date(R).toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},R))]})]}),O&&m.jsxs("div",{children:[m.jsxs("label",{className:"flex items-center gap-2 text-slate-300 mb-3 font-bold",children:[m.jsx(ph,{className:"w-4 h-4 text-amber-400"}),"Heure"]}),m.jsxs("select",{value:y,onChange:R=>x(R.target.value),className:"w-full px-4 py-3 bg-slate-900/80 border border-amber-500/20 rounded-xl text-white font-semibold focus:outline-none focus:border-amber-500 focus:ring-2 focus:ring-amber-500/20 transition-all",children:[m.jsx("option",{value:"",children:"Slectionnez une heure"}),A.map(R=>m.jsx("option",{value:R.time_slot,children:R.time_slot},R.id))]})]})]})]}),m.jsxs("div",{className:"bg-gradient-to-br from-slate-800/90 to-slate-900/90 backdrop-blur-md rounded-2xl border border-amber-500/20 p-6 shadow-xl shadow-amber-500/10",children:[m.jsxs("h3",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[m.jsx(ap,{className:"w-6 h-6 text-amber-400"}),"Rcapitulatif"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex justify-between items-center text-slate-300 bg-slate-800/50 p-3 rounded-xl",children:[m.jsx("span",{className:"font-semibold",children:"Distance"}),m.jsx("span",{className:"font-black text-white",children:h?`${h.distance.toFixed(2)} km`:"-"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-300 bg-slate-800/50 p-3 rounded-xl",children:[m.jsx("span",{className:"font-semibold",children:"Temps estim"}),m.jsx("span",{className:"font-black text-white",children:h?`${Math.round(h.duration)} min`:"-"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-300 bg-slate-800/50 p-3 rounded-xl",children:[m.jsx("span",{className:"font-semibold",children:"Taxi"}),m.jsx("span",{className:"font-black text-white",children:(w==null?void 0:w.name)||"-"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-300 bg-slate-800/50 p-3 rounded-xl",children:[m.jsx("span",{className:"font-semibold",children:"Date"}),m.jsx("span",{className:"font-black text-white",children:O?new Date(O).toLocaleDateString("fr-FR"):"-"})]}),m.jsxs("div",{className:"flex justify-between items-center text-slate-300 bg-slate-800/50 p-3 rounded-xl",children:[m.jsx("span",{className:"font-semibold",children:"Heure"}),m.jsx("span",{className:"font-black text-white",children:y||"-"})]}),m.jsxs("div",{className:"pt-4 mt-4 border-t-2 border-amber-500/30 flex justify-between items-center bg-gradient-to-r from-amber-500/10 to-yellow-500/10 p-4 rounded-xl",children:[m.jsxs("span",{className:"text-white font-black text-xl flex items-center gap-2",children:[m.jsx(ap,{className:"w-6 h-6 text-amber-400"}),"Prix Total"]}),m.jsx("span",{className:"text-amber-400 font-black text-3xl",children:h&&w?`${Me()}`:"-"})]})]}),D&&m.jsx("div",{className:"mt-6 bg-red-900/50 border border-red-500/50 text-red-200 px-4 py-3 rounded-xl backdrop-blur-sm font-semibold",children:D}),U&&m.jsx("div",{className:"mt-6 bg-green-900/50 border border-green-500/50 text-green-200 px-4 py-3 rounded-xl backdrop-blur-sm font-semibold",children:U}),m.jsxs("button",{onClick:Se,disabled:j||!s||!u||!w||!O||!y,className:"group mt-6 w-full py-4 bg-gradient-to-r from-amber-500 to-yellow-600 hover:from-amber-400 hover:to-yellow-500 disabled:from-slate-700 disabled:to-slate-700 disabled:cursor-not-allowed text-slate-900 disabled:text-slate-500 font-black rounded-xl transition-all transform hover:scale-105 hover:shadow-2xl hover:shadow-amber-500/50 text-lg relative overflow-hidden",children:[m.jsx("span",{className:"relative z-10",children:j?"Rservation en cours...":"Confirmer la Rservation"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/30 to-white/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]})]})]})]})]})]})}const qk=new Wn.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),Gk=new Wn.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});function Kk(){const{user:t,profile:e,signOut:n}=Is(),i=Ls(),[s,a]=P.useState("rides"),[u,d]=P.useState([]),[h,p]=P.useState(null),[g,v]=P.useState("all"),[w,k]=P.useState("all"),[T,E]=P.useState(!1),[O,b]=P.useState([]),[y,x]=P.useState(null),[j,M]=P.useState({name:"",vehicle_type:"",price_per_km:0,multiplier:1,is_available:!0}),[D,$]=P.useState([]),[U,X]=P.useState({date:"",time_slot:""});P.useEffect(()=>{if(!t||!(e!=null&&e.is_admin)){i("/booking");return}G(),oe(),fe()},[t,e,i]);const G=async()=>{E(!0);const{data:I,error:Z}=await Ee.from("rides").select(`
        *,
        profiles!rides_user_id_fkey (
          id,
          full_name,
          phone,
          is_admin,
          created_at
        ),
        taxis (
          id,
          name,
          vehicle_type,
          price_per_km,
          multiplier,
          is_available,
          created_at
        )
      `).order("created_at",{ascending:!1});Z?console.error("Error loading rides:",Z):d(I||[]),E(!1)},oe=async()=>{const{data:I,error:Z}=await Ee.from("taxis").select("*").order("name");Z?console.error("Error loading taxis:",Z):b(I||[])},fe=async()=>{const{data:I,error:Z}=await Ee.from("availabilities").select("*").gte("date",new Date().toISOString().split("T")[0]).order("date").order("time_slot");Z?console.error("Error loading availabilities:",Z):$(I||[])},tt=async(I,Z)=>{const{error:q}=await Ee.from("rides").update({status:Z}).eq("id",I);q?console.error("Error updating ride:",q):(G(),(h==null?void 0:h.id)===I&&p({...h,status:Z}))},Me=u.filter(I=>{if(g!=="all"&&I.status!==g)return!1;if(w!=="all"){const Z=new Date(I.ride_date),q=new Date;switch(q.setHours(0,0,0,0),w){case"today":return Z.toDateString()===q.toDateString();case"week":const ze=new Date(q);return ze.setDate(ze.getDate()-7),Z>=ze;case"month":const _t=new Date(q);return _t.setMonth(_t.getMonth()-1),Z>=_t;case"year":const gr=new Date(q);return gr.setFullYear(gr.getFullYear()-1),Z>=gr}}return!0}),vn=async()=>{await n(),i("/")},Se=async()=>{if(!j.name||!j.vehicle_type||!j.price_per_km){alert("Veuillez remplir tous les champs");return}const{error:I}=await Ee.from("taxis").insert(j);I?(console.error("Error adding taxi:",I),alert("Erreur lors de l'ajout du taxi")):(M({name:"",vehicle_type:"",price_per_km:0,multiplier:1,is_available:!0}),oe())},ut=async()=>{if(!y)return;const{error:I}=await Ee.from("taxis").update({name:y.name,vehicle_type:y.vehicle_type,price_per_km:y.price_per_km,multiplier:y.multiplier,is_available:y.is_available}).eq("id",y.id);I?(console.error("Error updating taxi:",I),alert("Erreur lors de la mise  jour du taxi")):(x(null),oe())},A=async I=>{if(!confirm("tes-vous sr de vouloir supprimer ce taxi ?"))return;const{error:Z}=await Ee.from("taxis").delete().eq("id",I);Z?(console.error("Error deleting taxi:",Z),alert("Erreur lors de la suppression du taxi")):oe()},J=async()=>{if(!U.date||!U.time_slot){alert("Veuillez remplir tous les champs");return}const{error:I}=await Ee.from("availabilities").insert({date:U.date,time_slot:U.time_slot,is_available:!0});I?(console.error("Error adding availability:",I),alert("Erreur lors de l'ajout de la disponibilit")):(X({date:"",time_slot:""}),fe())},R=async(I,Z)=>{const{error:q}=await Ee.from("availabilities").update({is_available:!Z}).eq("id",I);q?console.error("Error updating availability:",q):fe()},W=async I=>{if(!confirm("tes-vous sr de vouloir supprimer cette disponibilit ?"))return;const{error:Z}=await Ee.from("availabilities").delete().eq("id",I);Z?console.error("Error deleting availability:",Z):fe()},te=I=>{switch(I){case"pending":return"bg-yellow-900/50 text-yellow-300 border-yellow-700";case"accepted":return"bg-blue-900/50 text-blue-300 border-blue-700";case"en_route":return"bg-purple-900/50 text-purple-300 border-purple-700";case"finished":return"bg-green-900/50 text-green-300 border-green-700";case"cancelled":return"bg-red-900/50 text-red-300 border-red-700";default:return"bg-slate-900/50 text-slate-300 border-slate-700"}},_e=I=>{switch(I){case"pending":return"En attente";case"accepted":return"Accepte";case"en_route":return"En route";case"finished":return"Termine";case"cancelled":return"Annule";default:return I}};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[m.jsx("nav",{className:"bg-slate-900/50 backdrop-blur-sm border-b border-slate-700",children:m.jsx("div",{className:"container mx-auto px-6 py-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(cn,{className:"w-8 h-8 text-purple-400"}),m.jsx("h1",{className:"text-2xl font-bold text-white",children:"Dashboard Admin"})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-white",children:[m.jsx(dv,{className:"w-5 h-5"}),m.jsx("span",{children:e==null?void 0:e.full_name})]}),m.jsx("button",{onClick:()=>i("/booking"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Rservation"}),m.jsxs("button",{onClick:vn,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors flex items-center gap-2",children:[m.jsx(hv,{className:"w-4 h-4"}),"Dconnexion"]})]})]})})}),m.jsxs("main",{className:"container mx-auto px-6 py-8",children:[m.jsxs("div",{className:"flex gap-4 mb-8",children:[m.jsx("button",{onClick:()=>a("rides"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="rides"?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:"Courses"}),m.jsx("button",{onClick:()=>a("taxis"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="taxis"?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:"Taxis"}),m.jsx("button",{onClick:()=>a("availabilities"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${s==="availabilities"?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700"}`,children:"Disponibilits"})]}),s==="rides"&&m.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-6 mb-6",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(yk,{className:"w-5 h-5 text-purple-400"}),m.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filtres"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Statut"}),m.jsxs("select",{value:g,onChange:I=>v(I.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500",children:[m.jsx("option",{value:"all",children:"Tous"}),m.jsx("option",{value:"pending",children:"En attente"}),m.jsx("option",{value:"accepted",children:"Accepte"}),m.jsx("option",{value:"en_route",children:"En route"}),m.jsx("option",{value:"finished",children:"Termine"}),m.jsx("option",{value:"cancelled",children:"Annule"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Priode"}),m.jsxs("select",{value:w,onChange:I=>k(I.target.value),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500",children:[m.jsx("option",{value:"all",children:"Toutes"}),m.jsx("option",{value:"today",children:"Aujourd'hui"}),m.jsx("option",{value:"week",children:"Cette semaine"}),m.jsx("option",{value:"month",children:"Ce mois"}),m.jsx("option",{value:"year",children:"Cette anne"})]})]})]})]}),m.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:T?m.jsx("div",{className:"text-center text-slate-400 py-8",children:"Chargement..."}):Me.length===0?m.jsx("div",{className:"text-center text-slate-400 py-8",children:"Aucune course trouve"}):Me.map(I=>m.jsxs("button",{onClick:()=>p(I),className:`w-full bg-slate-800/50 backdrop-blur-sm rounded-xl border p-4 text-left transition-all ${(h==null?void 0:h.id)===I.id?"border-purple-500":"border-slate-700 hover:border-slate-600"}`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-white font-semibold",children:I.profiles.full_name}),m.jsx("div",{className:"text-slate-400 text-sm",children:I.profiles.phone})]}),m.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${te(I.status)}`,children:_e(I.status)})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm mb-1",children:[m.jsx(ca,{className:"w-4 h-4"}),new Date(I.ride_date).toLocaleDateString("fr-FR"),"  ",I.ride_time]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[m.jsx(cn,{className:"w-4 h-4"}),I.taxis.name," - ",I.distance_km.toFixed(2)," km - ",I.price,""]})]},I.id))})]}),m.jsx("div",{children:h?m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-6",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Dtails de la course"}),m.jsxs("div",{className:"space-y-3 mb-6",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Client"}),m.jsx("div",{className:"text-white font-semibold",children:h.profiles.full_name}),m.jsx("div",{className:"text-slate-300 text-sm",children:h.profiles.phone})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Taxi"}),m.jsx("div",{className:"text-white font-semibold",children:h.taxis.name}),m.jsx("div",{className:"text-slate-300 text-sm",children:h.taxis.vehicle_type})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Distance"}),m.jsxs("div",{className:"text-white font-semibold",children:[h.distance_km.toFixed(2)," km"]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Temps estim"}),m.jsxs("div",{className:"text-white font-semibold",children:[h.estimated_time," min"]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Date"}),m.jsx("div",{className:"text-white font-semibold",children:new Date(h.ride_date).toLocaleDateString("fr-FR")})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Heure"}),m.jsx("div",{className:"text-white font-semibold",children:h.ride_time})]})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-slate-400 text-sm",children:"Prix total"}),m.jsxs("div",{className:"text-purple-400 font-bold text-2xl",children:[h.price,""]})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.status==="pending"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>tt(h.id,"accepted"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[m.jsx(_k,{className:"w-4 h-4"}),"Accepter"]}),m.jsxs("button",{onClick:()=>tt(h.id,"cancelled"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[m.jsx(Ek,{className:"w-4 h-4"}),"Refuser"]})]}),h.status==="accepted"&&m.jsxs("button",{onClick:()=>tt(h.id,"en_route"),className:"col-span-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[m.jsx(ic,{className:"w-4 h-4"}),"En route"]}),h.status==="en_route"&&m.jsxs("button",{onClick:()=>tt(h.id,"finished"),className:"col-span-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2",children:[m.jsx(vk,{className:"w-4 h-4"}),"Termine"]})]})]}),m.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 overflow-hidden",children:m.jsxs(wv,{center:[h.start_lat,h.start_lng],zoom:13,style:{height:"400px",width:"100%"},children:[m.jsx(bv,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap"}),m.jsx(ha,{position:[h.start_lat,h.start_lng],icon:qk}),m.jsx(ha,{position:[h.end_lat,h.end_lng],icon:Gk}),m.jsx(xv,{positions:[[h.start_lat,h.start_lng],[h.end_lat,h.end_lng]],color:"purple",weight:4})]})}),m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-4",children:[m.jsxs("div",{className:"flex items-center gap-2 text-slate-300 mb-2",children:[m.jsx(bs,{className:"w-5 h-5 text-green-400"}),m.jsx("span",{className:"font-medium",children:"Dpart:"}),m.jsx("span",{className:"text-sm",children:h.start_location})]}),m.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[m.jsx(bs,{className:"w-5 h-5 text-red-400"}),m.jsx("span",{className:"font-medium",children:"Arrive:"}),m.jsx("span",{className:"text-sm",children:h.end_location})]})]})]}):m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-12 text-center",children:[m.jsx(cn,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),m.jsx("p",{className:"text-slate-400",children:"Slectionnez une course pour voir les dtails"})]})})]}),s==="taxis"&&m.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-6 mb-6",children:[m.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[m.jsx(lp,{className:"w-5 h-5"}),"Ajouter un taxi"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Nom"}),m.jsx("input",{type:"text",value:j.name,onChange:I=>M({...j,name:I.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Type de vhicule"}),m.jsx("input",{type:"text",value:j.vehicle_type,onChange:I=>M({...j,vehicle_type:I.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Prix/km ()"}),m.jsx("input",{type:"number",step:"0.01",value:j.price_per_km,onChange:I=>M({...j,price_per_km:parseFloat(I.target.value)}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Multiplicateur"}),m.jsx("input",{type:"number",step:"0.1",value:j.multiplier,onChange:I=>M({...j,multiplier:parseFloat(I.target.value)}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]})]}),m.jsx("button",{onClick:Se,className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Ajouter"})]})]}),m.jsx("div",{className:"space-y-4",children:O.map(I=>m.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-4",children:(y==null?void 0:y.id)===I.id?m.jsxs("div",{className:"space-y-3",children:[m.jsx("input",{type:"text",value:y.name,onChange:Z=>x({...y,name:Z.target.value}),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"}),m.jsx("input",{type:"text",value:y.vehicle_type,onChange:Z=>x({...y,vehicle_type:Z.target.value}),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{type:"number",step:"0.01",value:y.price_per_km,onChange:Z=>x({...y,price_per_km:parseFloat(Z.target.value)}),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"}),m.jsx("input",{type:"number",step:"0.1",value:y.multiplier,onChange:Z=>x({...y,multiplier:parseFloat(Z.target.value)}),className:"w-full px-3 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white text-sm focus:outline-none focus:border-purple-500"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("input",{type:"checkbox",checked:y.is_available,onChange:Z=>x({...y,is_available:Z.target.checked}),className:"w-4 h-4"}),m.jsx("label",{className:"text-slate-300 text-sm",children:"Disponible"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:ut,className:"flex-1 px-3 py-2 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:"Sauvegarder"}),m.jsx("button",{onClick:()=>x(null),className:"flex-1 px-3 py-2 bg-slate-600 hover:bg-slate-500 text-white text-sm rounded-lg transition-colors",children:"Annuler"})]})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsxs("div",{children:[m.jsx("div",{className:"text-white font-semibold",children:I.name}),m.jsx("div",{className:"text-slate-400 text-sm",children:I.vehicle_type})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>x(I),className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:m.jsx(Sk,{className:"w-4 h-4"})}),m.jsx("button",{onClick:()=>A(I.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:m.jsx(up,{className:"w-4 h-4"})})]})]}),m.jsxs("div",{className:"flex justify-between items-center text-sm",children:[m.jsxs("span",{className:"text-slate-300",children:[I.price_per_km,"/km x",I.multiplier]}),m.jsx("span",{className:`px-2 py-1 rounded text-xs ${I.is_available?"bg-green-900/50 text-green-300":"bg-red-900/50 text-red-300"}`,children:I.is_available?"Disponible":"Indisponible"})]})]})},I.id))})]})}),s==="availabilities"&&m.jsx("div",{className:"grid lg:grid-cols-2 gap-8",children:m.jsxs("div",{children:[m.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-6 mb-6",children:[m.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[m.jsx(lp,{className:"w-5 h-5"}),"Ajouter une disponibilit"]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Date"}),m.jsx("input",{type:"date",value:U.date,onChange:I=>X({...U,date:I.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-slate-300 text-sm mb-2",children:"Heure"}),m.jsx("input",{type:"time",value:U.time_slot,onChange:I=>X({...U,time_slot:I.target.value}),className:"w-full px-4 py-2 bg-slate-900/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:border-purple-500"})]}),m.jsx("button",{onClick:J,className:"w-full px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors",children:"Ajouter"})]})]}),m.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:D.map(I=>m.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700 p-4",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-white font-semibold flex items-center gap-2",children:[m.jsx(ca,{className:"w-4 h-4"}),new Date(I.date).toLocaleDateString("fr-FR")]}),m.jsxs("div",{className:"text-slate-400 text-sm flex items-center gap-2 mt-1",children:[m.jsx(ph,{className:"w-4 h-4"}),I.time_slot]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>R(I.id,I.is_available),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${I.is_available?"bg-green-900/50 text-green-300 hover:bg-green-900":"bg-red-900/50 text-red-300 hover:bg-red-900"}`,children:I.is_available?"Disponible":"Bloqu"}),m.jsx("button",{onClick:()=>W(I.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:m.jsx(up,{className:"w-4 h-4"})})]})]})},I.id))})]})})]})]})}function Jk({children:t}){const{user:e,loading:n}=Is();return n?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"Chargement..."})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(oh,{to:"/auth",replace:!0})}function Yk({children:t}){const{user:e,profile:n,loading:i}=Is();return i?m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center",children:m.jsx("div",{className:"text-white text-xl",children:"Chargement..."})}):!e||!(n!=null&&n.is_admin)?m.jsx(oh,{to:"/booking",replace:!0}):m.jsx(m.Fragment,{children:t})}function Qk(){return m.jsx(Ux,{basename:"/taxi-patrice/",children:m.jsx(pk,{children:m.jsxs(vx,{children:[m.jsx(Or,{path:"/",element:m.jsx(Tk,{})}),m.jsx(Or,{path:"/auth",element:m.jsx(Ck,{})}),m.jsx(Or,{path:"/booking",element:m.jsx(Jk,{children:m.jsx(Vk,{})})}),m.jsx(Or,{path:"/admin",element:m.jsx(Yk,{children:m.jsx(Kk,{})})}),m.jsx(Or,{path:"*",element:m.jsx(oh,{to:"/",replace:!0})})]})})})}bg(document.getElementById("root")).render(m.jsx(P.StrictMode,{children:m.jsx(Qk,{})}));
